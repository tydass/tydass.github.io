System.register("chunks:///_virtual/Action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNode.ts"],(function(n){var t,o,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},function(n){e=n.TreeNode}],execute:function(){o._RF.push({},"1cfbdpsKphK+oU7zOYLGciP","Action",void 0);n("Action",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._category="action",t.EnableBlackBoard=!1,t._maxChildrenCount=0,t}t(o,n);var e=o.prototype;return e.onEnd=function(){},e.onRelease=function(){},e.onStart=function(){if(this.EnableBlackBoard)for(var n in this)this.owner.Memory.has(n)&&(this[n]=this.owner.Memory.get(n))},o}(e));o._RF.pop()}}}));

System.register("chunks:///_virtual/Actor.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"622e9NfDBFMLK4PXO6ahjy8","Actor",void 0);t("Actor",(function(){this.scene=void 0,this.position=void 0,this.forward=void 0,this.radius=void 0,this.height=void 0,this.Camp=1}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ActorComponent.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"aa1f7O7V+xL/7Vv+qwTBLLc","ActorComponent",void 0);t("ActorComponent",function(){function t(){}var n=t.prototype;return n.onStart=function(){throw new Error("Method not implemented.")},n.onUpdate=function(t){throw new Error("Method not implemented.")},n.onEnd=function(){throw new Error("Method not implemented.")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ActorConfig.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){t({ActorConfigGet:function(t,s){var r=o.get(t);return null==r?void 0:r[s]},ActorConfigSetup:function(t,s){var a=o.get(t);if(!a)throw new Error("id:"+t+" is null");s.ID=t;for(var e=0;e<r.length;e++){var i=r[e];s[i]=Array.isArray(a[e])?[].concat(a[e]):a[e]}"function"==typeof s.onLoad&&s.onLoad()}}),s._RF.push({},"d6e18JI3jtEC64IOsMQiFIr","ActorConfig",void 0);var o=t("ActorConfigData",new Map([[1001,["殖民者","群","Assets/Textures/Arts/arts_1.png","icons/pictoicon_alarm",1,0,5,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,100,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[9101,9101,9101]]],[1002,["殖民者","群","Assets/Textures/Arts/arts_2.png","icons/pictoicon_alarm",1,0,5,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,100,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[9101]]],[1003,["史莱姆","群","Assets/Textures/Arts/arts_3.png","icons/pictoicon_alarm",2,0,5,0,"prefabs/slime","configAi/slime","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,10,100,100,100,0],[1001],[],[]]],[1004,["炼金史莱姆","群","Assets/Textures/Arts/arts_4.png","icons/pictoicon_alarm",2,0,5,0,"prefabs/alchemySlime","configAi/botMonster","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1005,["木桩","群","Assets/Textures/Arts/arts_5.png","icons/pictoicon_alarm",2,0,5,0,"prefabs/actor","configAi/botIdle","",[1e4,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,1e4,100,100,100,0],[1001],[],[]]],[1006,["史莱姆领主","群","Assets/Textures/Arts/arts_6.png","icons/pictoicon_alarm",2,0,5,0,"prefabs/slimeLord","configAi/botMonster","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1007,["殖民者","群","Assets/Textures/Arts/arts_7.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1008,["殖民者","群","Assets/Textures/Arts/arts_8.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1009,["殖民者","群","Assets/Textures/Arts/arts_9.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1010,["殖民者","群","Assets/Textures/Arts/arts_10.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1011,["炮塔","群","Assets/Textures/Arts/arts_11.png","icons/pictoicon_alarm",1,1,10,0,"towers/cannonTower","configAi/turret","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1012,["殖民者","群","Assets/Textures/Arts/arts_12.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1013,["殖民者","群","Assets/Textures/Arts/arts_13.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1014,["殖民者","群","Assets/Textures/Arts/arts_14.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1015,["殖民者","群","Assets/Textures/Arts/arts_15.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1016,["殖民者","群","Assets/Textures/Arts/arts_16.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1017,["殖民者","群","Assets/Textures/Arts/arts_17.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1018,["殖民者","群","Assets/Textures/Arts/arts_18.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]],[1019,["殖民者","群","Assets/Textures/Arts/arts_19.png","icons/pictoicon_alarm",1,0,10,0,"prefabs/actor","configAi/bot","",[100,100,100,100,100,100,100,100,50,100,100,100,1.2,0,1,1,.1,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0],[1001],[],[]]]])),r=t("ActorConfigHeaders",["Name","Description","Avatar","Icon","Camp","RoleType","AlertRange","LoadMode","Model","AiPath","BrainPath","data","Skills","Buff","EffectIds"]);t("ActorConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.Avatar=2]="Avatar",t[t.Icon=3]="Icon",t[t.Camp=4]="Camp",t[t.RoleType=5]="RoleType",t[t.AlertRange=6]="AlertRange",t[t.LoadMode=7]="LoadMode",t[t.Model=8]="Model",t[t.AiPath=9]="AiPath",t[t.BrainPath=10]="BrainPath",t[t.data=11]="data",t[t.Skills=12]="Skills",t[t.Buff=13]="Buff",t[t.EffectIds=14]="EffectIds",t}({}));s._RF.pop()}}}));

System.register("chunks:///_virtual/ActorFilter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleContextType.ts"],(function(e){var t,n,r,o;return{setters:[function(e){t=e.regeneratorRuntime,n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){o=e.BattleContextType}],execute:function(){r._RF.push({},"8d04dkV5JJOo6YvWr1Tkc5/","ActorFilter",void 0);e("ActorFilter",function(){function e(){this.includeSelf=!1,this.conditions=void 0}var r=e.prototype;return r.scan=t().mark((function e(r,a){var i,c,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setValue(o.Caster,a),i=n(a.scene.actors);case 2:if((c=i()).done){e.next=11;break}if(u=c.value,this.includeSelf||u!==a){e.next=6;break}return e.abrupt("continue",9);case 6:if(!this.evaluate(r,u)){e.next=9;break}return e.next=9,u;case 9:e.next=2;break;case 11:r.setValue(o.Caster,null);case 12:case"end":return e.stop()}}),e,this)})),r.evaluate=function(e,t){var r;if(null==(r=this.conditions)||!r.length)return!0;for(var o,a=n(this.conditions);!(o=a()).done;){if(!o.value.evaluate(e,t))return!1}return!0},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ActorManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleActor.ts","./ActorConfig.ts","./GenSid.ts","./NameGenerator.ts"],(function(t){var e,r,n,i,o,a,c,s;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){n=t.cclegacy},function(t){i=t.BattleActor},function(t){o=t.ActorConfigSetup},function(t){a=t.GenSid,c=t.SyncSid},function(t){s=t.GenerateName}],execute:function(){var u;n._RF.push({},"6befcy2LiRH17cNrwrhb8ey","ActorManager",void 0);var f=t("ActorManager",function(){function t(){this.actors=new Map}var n=t.prototype;return n.getActor=function(t){return this.actors.get(t)},n.init=function(){},n.CreateActor=function(t){var e=new i;return o(t,e),e.initialize(),e.Sid=a(),this.actors.set(e.Sid,e),1==e.Camp&&(e.Name=s()),e},n.RegisterJsonActor=function(t){var e=new i;return o(t.ID,e),e.initialize(),c(e.Sid),this.actors.set(t.Sid,e),e.fromJSON(t),e},n.onDisable=function(){},n.Save=function(){for(var t,r=[],n=e(this.actors);!(t=n()).done;){var i=t.value,o=(i[0],i[1]);1==o.Camp&&r.push(o)}for(var a=[],c=0,s=r;c<s.length;c++)for(var u,f=s[c],l=e(f.itemPackage);!(u=l()).done;){var g=u.value;g&&a.push(g)}return[JSON.stringify(r),JSON.stringify(a)]},n.Clear=function(){this.actors.clear()},r(t,[{key:"Count",get:function(){return this.actors.size}}]),t}());u=f,f.instance=new u,n._RF.pop()}}}));

System.register("chunks:///_virtual/ActorMask.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"6e344PbSdpFTruZxi0Qzwyt","ActorMask",void 0);n("ActorMask",function(n){return n[n.none=0]="none",n[n.hunger=1]="hunger",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ActorSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts"],(function(t){var e,o,n,i,r,c,l,a,s,h,u,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,l=t.Node,a=t.RichText,s=t.Button,h=t.instantiate,u=t.Toggle,f=t.Component},function(t){p=t.VillageScene}],execute:function(){var v,g,d,y,b,R,m,C,T,B,L;r._RF.push({},"e0864Lgf9pCDq+9+QeCXTkC","ActorSelector",void 0);var E=c.ccclass,S=c.property;t("ActorSelector",(v=E("ActorSelector"),g=S(l),d=S(l),y=S(l),b=S(a),v((C=e((m=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"close",C,i(e)),n(e,"actorRoot",T,i(e)),n(e,"confirmBtn",B,i(e)),n(e,"tex",L,i(e)),e.callBack=null,e.select=0,e}o(e,t);var r=e.prototype;return r.onLoad=function(){this.close.on(s.EventType.CLICK,this.closePanel,this),this.confirmBtn.on(s.EventType.CLICK,this.confirm,this)},r.closePanel=function(){this.node.active=!1},r.confirm=function(){this.callBack&&this.callBack(this.select),this.node.active=!1},r.onEnable=function(){for(var t=this,e=p.instance,o=e.actors.length,n=this.actorRoot.children.length;n<o;n++){h(this.actorRoot.children[0]).setParent(this.actorRoot)}for(var i=function(){var o=t.actorRoot.children[r].getComponentInChildren(a);o&&(o.string=e.actors[r].Name);var n=r;t.actorRoot.children[r].on(u.EventType.TOGGLE,(function(e){t.select=n})),t.actorRoot.children[r].active=!0},r=0;r<o;r++)i()},r.onDisable=function(){for(var t=this.actorRoot.children.length,e=0;e<t;e++)this.actorRoot.children[e].off(u.EventType.TOGGLE),this.actorRoot.children[e].active=!1},r.Reset=function(t,e){this.tex.string=t,this.callBack=e},e}(f)).prototype,"close",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(m.prototype,"actorRoot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(m.prototype,"confirmBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(m.prototype,"tex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=m))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/ActorView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Component}],execute:function(){n._RF.push({},"2efe1NaFaBEvbraaGDed0bG","ActorView",void 0);e("ActorView",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).model=void 0,t}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/AiComponent.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"38ce86U81JMUIoV/hgxE1WW","AiComponent",void 0);t("AiComponent",function(){function t(t,n){this.ai=void 0,this.ai=n}var n=t.prototype;return n.onStart=function(){},n.onUpdate=function(t){return this.ai.Update(t),!0},n.onEnd=function(){this.ai&&this.ai.onRelease()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimActionConfig.ts",["cc"],(function(n){var i;return{setters:[function(n){i=n.cclegacy}],execute:function(){n({AnimActionConfigGet:function(n,i){var o=t.get(n);return null==o?void 0:o[i]},AnimActionConfigSetup:function(n,i){var r=t.get(n);if(!r)throw new Error("id:"+n+" is null");i.ID=n;for(var e=0;e<o.length;e++){var c=o[e];i[c]=Array.isArray(r[e])?[].concat(r[e]):r[e]}"function"==typeof i.onLoad&&i.onLoad()}}),i._RF.push({},"d462aOMOH1H4Y3pQvF/r7Pp","AnimActionConfig",void 0);var t=n("AnimActionConfigData",new Map([[4001,["圆形触发器","","turretFIre"]],[4002,["圆形触发器","",""]],[4003,["圆形触发器","",""]],[4004,["圆形触发器","",""]],[4005,["圆形触发器","",""]],[4006,["圆形触发器","",""]],[4007,["圆形触发器","",""]],[4008,["圆形触发器","",""]]])),o=n("AnimActionConfigHeaders",["Name","Description","Anim"]);n("AnimActionConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.Anim=2]="Anim",n}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/AnimClip.ts",["cc","./ViewManager.ts"],(function(n){var i,t;return{setters:[function(n){i=n.cclegacy},function(n){t=n.ViewManager}],execute:function(){i._RF.push({},"770618DkPxP1bICTemn4a8Z","AnimClip",void 0);n("AnimClip",function(){function n(){this.anim=""}return n.prototype.OnAction=function(n){t.instance.GetActorView(n.Sid).playAnimation(this.anim)},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ArenaManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts","./SaveManager.ts"],(function(e){var n,t,c,i;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){c=e.VillageScene},function(e){i=e.CurrentSave}],execute:function(){var r;t._RF.push({},"33537KlctRBPKCX3ceG7e0v","ArenaManager",void 0);var s=e("ArenaManager",function(){function e(){this.scenes=new Map,this.sc=void 0}var t=e.prototype;return t.GetScene=function(e){return this.scenes.get(e)},t.init=function(){this.sc=c.instance,this.sc.onStart()},t.update=function(e){this.sc.onUpdate(e)},t.Save=function(){i(this.sc.items)},t.Clear=function(){this.CurrentScene.onEnd()},n(e,[{key:"CurrentScene",get:function(){return this.sc}}]),e}());r=s,s.instance=new r,t._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncCombine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"dfbbfKuTKJHDYPheaIAqgiu","AsyncCombine",void 0);e("AsyncCombine",function(){function e(){this.handles=void 0,this.callBack=void 0}var t=e.prototype;return t.CreateHandle=function(){var e=new s(this);return this.handles.push(e),e},t.Refresh=function(){if(null!=this.handles&&null!=this.callBack){for(var e,t=n(this.handles);!(e=t()).done;){if(!e.value.isDone)return}this.callBack(),this.handles=[]}},e}());var s=e("AsyncHandle",function(){function e(e){this.master=void 0,this.isDone=!1,this.master=e}return e.prototype.Complete=function(){this.isDone=!0,this.master.Refresh()},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AuraBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleContextType.ts","./Buff.ts"],(function(t){var e,r,n,o,i;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){o=t.BattleContextType},function(t){i=t.Buff}],execute:function(){n._RF.push({},"896b2gjMIRP/4kP17fKho2q","AuraBuff",void 0);t("AuraBuff",function(t){function n(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).interval=.5,e.t=0,e.radius=10,e.selector=void 0,e}e(n,t);var i=n.prototype;return i.attach=function(e){t.prototype.attach.call(this,e),this.context.setValue(o.Caster,e),this.t=0},i.detach=function(e){t.prototype.detach.call(this,e)},i.update=function(t,e){if(this.t+=e,this.t<this.interval)return 0;if(this.t-=1,!this.selector||!this.effects)return-1;for(var n,o=r(this.selector.scan(this.context,t));!(n=o()).done;){var i=n.value;if(this.evaluate(i))for(var s,a=r(this.effectList);!(s=a()).done;){s.value.apply(i,this.context)}}return 0},i.onRefresh=function(t){},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/AuraBuffConfig.ts",["cc"],(function(n){var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){n({AuraBuffConfigGet:function(n,r){var e=f.get(n);return null==e?void 0:e[r]},AuraBuffConfigSetup:function(n,r){var t=f.get(n);if(!t)throw new Error("id:"+n+" is null");r.ID=n;for(var u=0;u<e.length;u++){var o=e[u];r[o]=Array.isArray(t[u])?[].concat(t[u]):t[u]}"function"==typeof r.onLoad&&r.onLoad()}}),r._RF.push({},"7a979/G9GZBuaHS8+NhoL2f","AuraBuffConfig",void 0);var f=n("AuraBuffConfigData",new Map([[1001,["圆形触发器","",0,[1001]]],[1002,["圆形触发器","",0,[1001]]],[1003,["圆形触发器","",0,[1001]]],[1004,["圆形触发器","",0,[1001]]],[1005,["圆形触发器","",0,[1001]]],[1006,["圆形触发器","",0,[1001]]],[1007,["圆形触发器","",0,[1001]]],[1008,["圆形触发器","",0,[1001]]]])),e=n("AuraBuffConfigHeaders",["Name","Description","duration","effects"]);n("AuraBuffConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.duration=2]="duration",n[n.effects=3]="effects",n}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/BabyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemSchema.ts"],(function(t){var e,n,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.SceneItem},function(t){s=t.ItemRegister}],execute:function(){var o;n._RF.push({},"a4d03fYGsBAHZEsxXfu2/ZW","BabyItem",void 0);t("BabyItem",s("BabyItem")(o=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).lastFeedTime=0,e.counter=0,e}e(n,t);var i=n.prototype;return i.OnDrop=function(t){t.CanEat&&(this.lastFeedTime=t.scene.totalSecond,this.counter++,this.counter>=5&&(this.scene.RemoveItemByPos(this.position.x,this.position.y),this.scene.SpawnItem(this.position.x,this.position.y,100)))},i.GetFreeze=function(){return this.scene.totalSecond-this.lastFeedTime<this.Arg||t.prototype.GetFreeze.call(this)},n}(i))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/BagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBagConfig.ts","./RandomByWeights.ts","./ItemConfig.ts","./ItemSchema.ts","./SceneItem.ts","./PlayerDataManager.ts","./UIManager.ts","./ShowMessageManager.ts","./ItemFunc.ts"],(function(t){var n,e,i,a,s,o,c,r,u,h,f,g,p,I;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.CardBagConfigGet,a=t.CardBagConfigField},function(t){s=t.RandomByWeights,o=t.RandomIdxByWeights},function(t){c=t.ItemConfigGet,r=t.ItemConfigField},function(t){u=t.ItemRegister},function(t){h=t.SceneItem},function(t){f=t.PlayerDataManager},function(t){g=t.UIManager},function(t){p=t.ShowMessageManager},function(t){I=t.ItemFunc}],execute:function(){var l;e._RF.push({},"9f1f9p/bTZFZbilT3IbmwoB","BagItem",void 0);t("BagItem",u("BagItem")(l=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).posX=0,n.posY=0,n.usePos=!1,n}n(e,t);var u=e.prototype;return u.SetPos=function(t,n){this.posX=t,this.posY=n,this.usePos=!0},u.OnSpawn=function(n){t.prototype.OnSpawn.call(this,n),this.Name=this.Name+"￥"+this.Price},u.OnDetail=function(){g.instance.bagTip.BagConfigID=this.ID,g.instance.bagTip.node.active=!0},u.OnContextShow=function(){var t=this,n=I.instance;n.Begin(this),n.Append("介绍",(function(){t.OnDetail(),n.node.active=!1})),n.Append("购买",(function(){t.Buy(),n.node.active=!1})),n.End(this)},u.Use=function(t){var n=i(this.ID,a.Item),e=i(this.ID,a.Weight),c=i(this.ID,a.Count);if(1!=c)for(var r=0;r<c;r++){var u=o(n,e,r),h=n[u];this.RandCard(h,t);var f=n.length-1-r,g=n[f];n[f]=n[u],n[u]=g,g=e[f],e[f]=e[u],e[u]=g}else{var p=s(n,e);this.RandCard(p,t)}},u.RandCard=function(t,n){if("BagItem"==c(t,r.Func)){var i=new e;i.ID=t,i.Use(n)}else this.usePos?n.SpawnItemInNearCell(this.posX,this.posY,t):n.RandomItem(t)},u.Buy=function(){f.TryBuy(this.Price)?this.Use(this.scene):p.instance.Show("金币不够！",this.top,2,null,255,0,0)},e}(h))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/BagTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBagConfig.ts","./ItemConfig.ts"],(function(t){var n,e,i,o,r,a,l,s,c,u,f,g,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.RichText,s=t.Button,c=t.Component},function(t){u=t.CardBagConfigGet,f=t.CardBagConfigField},function(t){g=t.ItemConfigGet,p=t.ItemConfigField}],execute:function(){var C,h,d,y,v,b,B;r._RF.push({},"f8181+b1wxCD4wRpWWxdXOy","BagTip",void 0);var m=a.ccclass,I=a.property;t("BagTip",(C=m("BagTip"),h=I(l),d=I(l),C((b=n((v=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"text",b,o(n)),i(n,"tittle",B,o(n)),n.BagConfigID=0,n.btn=null,n}e(n,t);var r=n.prototype;return r.onLoad=function(){var t,n=this;this.btn=this.node.getChildByName("Close"),null==(t=this.btn)||t.on(s.EventType.CLICK,(function(){n.node.active=!1}))},r.onEnable=function(){this.tittle.string=u(this.BagConfigID,f.Name);var t=u(this.BagConfigID,f.Item),n="";t.map((function(t){var e=g(t,p.Name);n+=e+"\n"})),this.text.string=n},r.onDestroy=function(){var t;null==(t=this.btn)||t.off(s.EventType.CLICK)},n}(c)).prototype,"text",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(v.prototype,"tittle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseRule.ts",["cc","./BinaryUtils.ts"],(function(t){var e,i,s,a;return{setters:[function(t){e=t.cclegacy},function(t){i=t.BitArray2Number,s=t.FlagSet,a=t.FlagClear}],execute:function(){e._RF.push({},"f06f3pAhfJFCpOWHoiPVzet","BaseRule",void 0);t("BaseRule",function(){function t(t,e,i){this.defaultPath=void 0,this.neighborsStatus=void 0,this.dic=new Map,this.defaultPath=t;for(var s=0;s<e.length;s++)this.Dev(i[s],e[s],0,8)}var e=t.prototype;return e.Dev=function(t,e,s,a){if(s==a-1){var h=i(t);this.dic.set(h,e)}else if(2==t[s]){var n=t.slice();n[s]=0;var r=t.slice();r[s]=1,this.Dev(n,e,s+1,a),this.Dev(r,e,s+1,a)}else this.Dev(t,e,s+1,a)},e.SetNeighborsStatus=function(t,e){this.neighborsStatus=0==e?s(this.neighborsStatus,t):a(this.neighborsStatus,t)},e.ReSetNeighborsStatus=function(t){this.neighborsStatus=t},e.GetSprite=function(){var t=this.neighborsStatus;return this.dic.has(t)?this.dic.get(t):this.defaultPath},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleActionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CircleCaster.ts","./RayCaster.ts","./CircleActionConfig.ts","./RayCastActionConfig.ts","./BulletCaster.ts","./AnimClip.ts","./AnimActionConfig.ts","./RectCaster.ts","./RectActionConfig.ts","./VfxClip.ts","./VfxActionConfig.ts","./SFxAction.ts","./SFxActionConfig.ts","./SimpleCaster.ts","./SimpleCasterConfig.ts","./BulletCasterConfig.ts"],(function(t){var n,i,o,e,a,c,r,f,s,C,l,u,g,A,p,d,v,R,m,x,B,H,S,D,F,y;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){o=t.CircleCaster},function(t){e=t.RayCaster},function(t){a=t.CircleActionConfigHeaders,c=t.CircleActionConfigData},function(t){r=t.RayCastActionConfigHeaders,f=t.RayCastActionConfigData},function(t){s=t.BulletCaster},function(t){C=t.AnimClip},function(t){l=t.AnimActionConfigHeaders,u=t.AnimActionConfigData},function(t){g=t.RectCaster},function(t){A=t.RectActionConfigHeaders,p=t.RectActionConfigData},function(t){d=t.VfxClip},function(t){v=t.VfxActionConfigHeaders,R=t.VfxActionConfigData},function(t){m=t.SFxAction},function(t){x=t.SFxActionConfigHeaders,B=t.SFxActionConfigData},function(t){H=t.SimpleCaster},function(t){S=t.SimpleCasterConfigHeaders,D=t.SimpleCasterConfigData},function(t){F=t.BulletCasterConfigHeaders,y=t.BulletCasterConfigData}],execute:function(){t({BattleActionManager:function(t){0==V.size&&(h(c,a,o),h(f,r,e),h(y,F,s),h(u,l,C),h(p,A,g),h(R,v,d),h(B,x,m),h(D,S,H));var n=V.get(t);if(!n)throw new Error("action not found: "+t);var i=n[0],M=n[1],w=new(0,n[2]);w.ID=t;for(var L=0;L<M.length;L++){var b=M[L];w[b]=i[L]}w.onLoad&&w.onLoad();return w},BehaviorActionRegister:h}),i._RF.push({},"3fbbcWsQTVH/qPFTlvBPtJl","BattleActionManager",void 0);var V=new Map;function h(t,i,o){for(var e,a=n(t);!(e=a()).done;){var c=e.value,r=c[0],f=c[1];V.set(r,[f,i,o])}}i._RF.pop()}}}));

System.register("chunks:///_virtual/BattleActor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventDefine.ts","./ObjectPool.ts","./Behavior.ts","./IdleBehavior.ts","./PropertyType.ts","./BattleBehavior.ts","./GameEventSystem.ts","./GameWorldDefine.ts","./BattleBehaviorConfig.ts","./BuffManager.ts","./EffectManager.ts"],(function(t){var i,e,n,r,s,a,o,h,u,f,c,d,v,p,l,m,y,g;return{setters:[function(t){i=t.createForOfIteratorHelperLoose,e=t.regeneratorRuntime,n=t.createClass},function(t){r=t.cclegacy,s=t.Vec3,a=t.math,o=t.Vec2},function(t){h=t.ActorEventDefine},function(t){u=t.ObjectPool},function(t){f=t.Behavior},function(t){c=t.IdleBehavior},function(t){d=t.PropertyType},function(t){v=t.BattleBehavior},function(t){p=t.FireEvent},function(t){l=t.WorldEventDefine},function(t){m=t.BattleBehaviorConfigSetup},function(t){y=t.GetBuff},function(t){g=t.GetEffect}],execute:function(){r._RF.push({},"a5cf0Lu2yVKk4NUlKmgXwNp","BattleActor",void 0);t("BattleActor",function(){function t(){this.scene=void 0,this.position=new s,this.location=null,this.forward=new s(0,1,0),this.radius=50,this.height=80,this.enabled=!0,this.mask=0,this.AiPath="",this.BrainPath="",this.Model="",this.Icon="",this.selected=!1,this.Sid=0,this.ID=0,this.Camp=1,this.RoleType=0,this.Name="",this.Description="",this.LoadMode=0,this.data=[],this.dataTemp=[],this.Skills=[],this.buffList=[],this.Buff=[],this.EffectIds=[],this.itemPackage=[],this.components=[],this.Memory=new Map,this.CarryItem=null,this.WeaponBehavior=void 0,this.targetEnemy=null,this.currentBehavior=null,this.defaultBehavior=void 0,this.bh=null,this.evt=new Map}var r=t.prototype;return r.checkMask=function(t){return(this.mask&t)==t},r.setMask=function(t){this.mask|=t},r.clearMask=function(t){this.mask&=~t},r.onEnable=function(){},r.Distance=function(t){return s.distance(this.position,t)},r.Distance2=function(t){return s.squaredDistance(this.position,t)},r.LookAt=function(t){this.forward=s.normalize(new s,new s(t.x-this.position.x,t.y-this.position.y,0))},r.onLoad=function(){},r.initialize=function(){this.components=[],this.itemPackage=new Array(6),this.position=new a.Vec3,this.dataTemp=new Array(d.count),this.dataTemp.fill(0),this.buffList=[];for(var t,e=i(this.Buff);!(t=e()).done;){var n=t.value;this.AddBuff(y(n))}for(var r,s=i(this.EffectIds);!(r=s()).done;){var o=r.value;g(o).apply(this,{})}this.defaultBehavior=u.spawn(c)},r.isOutSide=function(){return this.position.x<-500||this.position.x>500||this.position.y<-1e3||this.position.y>1e3},r.Enemies=e().mark((function t(){var i,n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<this.scene.actors.length)){t.next=14;break}if(n=this.scene.actors[i],1!=this.Camp||2!=n.Camp){t.next=8;break}return t.next=6,n;case 6:t.next=11;break;case 8:if(2!=this.Camp||1!=n.Camp){t.next=11;break}return t.next=11,n;case 11:i++,t.next=1;break;case 14:case"end":return t.stop()}}),t,this)})),r.DoBehaviorByType=function(t){var i=u.spawn(t);return this.DoBehavior(i)},r.DoBehavior=function(t){if(null==f||!t.onCondition(this))return!1;if(!this.currentBehavior)return this.currentBehavior=t,this.currentBehavior.onStart(this),this.fireEvent(h.onBehaviorStart,t),!0;if(this.currentBehavior.behaviorType==t.behaviorType)this.currentBehavior.timePassed=0,this.currentBehavior.onRefresh(this);else{if(!this.currentBehavior.onInterrupt(this,t))return!1;this.fireEvent(h.onBehaviorInterrupted,[this.currentBehavior,t]),this.currentBehavior.onEnd(this),this.fireEvent(h.onBehaviorEnd,t),this.currentBehavior=t,this.currentBehavior.timePassed=0,this.currentBehavior.onStart(this),this.fireEvent(h.onBehaviorStart,t)}return!0},r.onDisable=function(){for(var t=0;t<this.components.length;t++)this.components[t]&&this.components[t].onEnd()},r.UnEquipByIndex=function(t){0==t&&(this.bh=null),this.fireEvent(h.unEquip,this.itemPackage[t])},r.Carry=function(t){this.CarryItem=t,this.fireEvent(h.onCarry,t)},r.EquipItem=function(t){if(t.CanEquip){var i=t.SubType;if(this.itemPackage[i]){var e=this.itemPackage[i];this.itemPackage[i].UnEquip(this),this.UnEquipByIndex(i),this.scene.DropEquipItem(this.position.x,this.position.y,e)}this.itemPackage[i]=t,0==i&&(this.bh=new v,m(t.Arg,this.bh)),t.OnEquip(this),this.fireEvent(h.onEquip,t)}},r.ToHealth=function(t){if(void 0===t&&(t=!0),t){var i=this.data[d.healthRecover].toFixed(1);return"生命: "+this.data[d.health]+" / "+this.data[d.healthMax]+"<color = green> (+"+i+")</color>"}return"生命: "+this.data[d.health]+" / "+this.data[d.healthMax]},r.ToMana=function(){return"法力: "+this.data[d.mana]+" / "+this.data[d.manaMax]},r.ToHunger=function(){return"饥饿: "+this.data[d.hunger]+" / "+this.data[d.hungerMax]},r.ToEnergy=function(){return"体力: "+this.data[d.energy]+" / "+this.data[d.energyMax]},r.ToAttack=function(){return"攻击: "+this.data[d.attack]},r.ToArmor=function(){return"防御: "+this.data[d.armor]},r.ToCritical=function(){return"暴击: "+this.data[d.critical]},r.ToCriticalDamage=function(){return"暴伤: "+this.data[d.criticalDamage]},r.ToSpeed=function(){var t=this.data[d.speed];return t>200?"速度: <color=red>"+t+"</color>":t>100?"速度: <color=green>"+t+"</color>":"速度: "+t},r.ToMiss=function(){return"闪避: "+this.data[d.miss]},r.ToMagic=function(){return"魔法: "+this.data[d.mana]},r.ToHitRate=function(){return"命中: "+this.data[d.accurate]},r.ToProductivity=function(){return"工作效率: "+this.data[d.productivity]},r.GetProperty=function(t){return this.data[t]},r.SetProperty=function(t,i){this.data[t]=i},r.ChangeHp=function(t){this.ModifyProperty(d.health,t);var i=this.data[d.health];this.fireEvent(h.onDamage,t,this.position,this.Sid),i<=0&&(this.fireEvent(h.onDead,this),p(l.roleDead,this))},r.ModifyProperty=function(t,i,e){void 0===e&&(e=-999999);var n=this.data[t]+i;this.data[t]=n,n<e&&(this.data[t]=e)},r.update=function(t){return!(!this.enabled||this.IsDead)&&(this.updateBuff(t),this.updateComponent(t),this.updateBehavior(t),!0)},r.updateBuff=function(t){for(var i=this.buffList.length-1;i>=0;i--){var e=this.buffList[i];if(e.timePassed+=t,e.update(this,t)||e.isOver()){var n=this.buffList.length-1;this.buffList[i].detach(this),this.buffList[i]=this.buffList[n],this.buffList.pop()}}},r.updateComponent=function(t){for(var e,n=i(this.components);!(e=n()).done;){e.value.onUpdate(t)}},r.updateBehavior=function(t){(this.currentBehavior||this.DoBehavior(this.defaultBehavior),this.currentBehavior)&&(this.currentBehavior.timePassed+=t,this.currentBehavior.onUpdate(this,t)&&(0==this.currentBehavior.duration||this.currentBehavior.timePassed<this.currentBehavior.duration)||(this.currentBehavior.onEnd(this),this.fireEvent(h.onBehaviorEnd,this.currentBehavior),this.DoBehavior(this.defaultBehavior)))},r.Move=function(t){var i=this.speed;this.position=new a.Vec3(this.position.x+this.forward.x*i*t,this.position.y+this.forward.y*i*t,0)},r.disable=function(){this.enabled=!1},r.addEvent=function(t,i,e){this.evt.has(t)||this.evt.set(t,new Set),this.evt.get(t).add({binder:i,func:e})},r.removeEvent=function(t,e,n){var r=this.evt.get(t);if(r)for(var s,a=i(r);!(s=a()).done;){var o=s.value;if(o.func===n&&o.binder===e){r.delete(o);break}}},r.fireEvent=function(t){if(this.evt.has(t)){var e=this.evt.get(t);if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];for(var a,o=i(e);!(a=o()).done;){var h=a.value;h.func.call(h.binder,r)}}}},r.removeAll=function(t){this.evt.delete(t)},r.Release=function(){this.currentBehavior=null,this.Skills=[],this.buffList=[],this.itemPackage=new Array(6),this.components=[],this.Memory.clear(),this.evt.clear()},r.AddBuff=function(t){if(t){for(var e,n=i(this.buffList);!(e=n()).done;){var r=e.value;if(r.ID==t.ID)return r.layer<r.stack&&r.layer++,r.onRefresh(this),void this.fireEvent(h.onBuffRefresh,r)}t.attach(this),this.buffList.push(t),this.fireEvent(h.onBuffAdd,t)}},r.AddComponent=function(t){this.components.push(t)},r.toJSON=function(){return{Sid:this.Sid,ID:this.ID,Camp:this.Camp,Name:this.Name,data:this.data,_position:[this.position.x,this.position.y,this.position.z],_forward:[this.forward.x,this.forward.y,this.forward.z],_package:this.itemPackage.map((function(t){return t?t.uid:0}))}},r.fromJSON=function(t){this.Sid=t.Sid,this.ID=t.ID,this.Camp=t.Camp,this.Name=t.Name,this.data=t.data,this.position=new a.Vec3(t._position[0],t._position[1],t._position[2]),this.forward=new a.Vec3(t._forward[0],t._forward[1],t._forward[2])},n(t,[{key:"top",get:function(){return new s(this.position.x,this.position.y+this.height)}},{key:"Center",get:function(){return new s(this.position.x,this.position.y+this.height/2,0)}},{key:"Min",get:function(){return new s(this.position.x-this.radius,this.position.y,0)}},{key:"Max",get:function(){return new s(this.position.x+this.radius,this.position.y,0)}},{key:"Size",get:function(){return new o(2*this.radius,this.height)}},{key:"speed",get:function(){return this.GetProperty(d.speed)}},{key:"ConfigID",get:function(){return this.ID}},{key:"TargetEnemy",get:function(){return this.targetEnemy?this.targetEnemy.IsAlive?this.targetEnemy:(this.targetEnemy=null,null):null},set:function(t){this.targetEnemy=t}},{key:"IsAlive",get:function(){return this.data[d.health]>0}},{key:"IsDead",get:function(){return this.data[d.health]<=0}},{key:"HasWeapon",get:function(){return null!=this.itemPackage[0]}},{key:"Weapon",get:function(){return this.itemPackage[0]}},{key:"AttackRange",get:function(){return this.GetProperty(d.attackRange)}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/BattleBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SequenceBehavior.ts"],(function(e){var t,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.SequenceBehavior}],execute:function(){r._RF.push({},"a1a19VT+sJBDrESD3l77z2H","BattleBehavior",void 0);e("BattleBehavior",function(e){function r(){var t;return(t=e.call(this)||this)._behaviorType="BattleBehavior",t}return t(r,e),r.prototype.onInterrupt=function(e,t){return this.timePassed>=this.duration},r}(n));r._RF.pop()}}}));

System.register("chunks:///_virtual/BattleBehaviorConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({BattleBehaviorConfigGet:function(e,t){var n=i.get(e);return null==n?void 0:n[t]},BattleBehaviorConfigSetup:function(e,t){var a=i.get(e);if(!a)throw new Error("id:"+e+" is null");t.ID=e;for(var o=0;o<n.length;o++){var r=n[o];t[r]=Array.isArray(a[o])?[].concat(a[o]):a[o]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"813b0ceZoxBe4DBD5+1I+/m","BattleBehaviorConfig",void 0);var i=e("BattleBehaviorConfigData",new Map([[1e3,["拳击","近战攻击",2,2,[.5],[1e3]]],[1001,["挥刀","近战攻击",2,2,[.5,.5],[1001,6001]]],[1002,["防御塔炮击","远程攻击",2,3,[.5,.5,.5],[3001,4001,7001]]],[1003,["枪击","",2,3,[.5],[3001]]],[1004,["枪击","",2,3,[.5],[3001]]],[1005,["枪击","",2,3,[.5],[3001]]],[1006,["枪击","",2,3,[.5],[3001]]],[1007,["枪击","",2,3,[.5],[3001]]],[1008,["枪击","",2,3,[.5],[3001]]],[1009,["枪击","",2,3,[.5],[3001]]],[1010,["枪击","",2,3,[.5],[3001]]],[1011,["枪击","",2,3,[.5],[3001]]],[1012,["枪击","",2,3,[.5],[3001]]],[1013,["枪击","",2,3,[.5],[3001]]]])),n=e("BattleBehaviorConfigHeaders",["Name","Description","duration","Range","time","action"]);e("BattleBehaviorConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.duration=2]="duration",e[e.Range=3]="Range",e[e.time=4]="time",e[e.action=5]="action",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BattleContext.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"71aadjRuSdKSrGp2Nqvb9jH","BattleContext",void 0);t("BattleContext",function(){function t(){this.strDic=new Map}var e=t.prototype;return e.Release=function(){},e.setValue=function(t,e){this.strDic.set(t,e)},e.getValue=function(t){return this.strDic.get(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleContextType.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4c018dHPfVIuKha5FzM86Eg","BattleContextType",void 0);t("BattleContextType",function(t){return t[t.BuffTimePass=0]="BuffTimePass",t[t.Caster=1]="Caster",t[t.BuffID=2]="BuffID",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BattleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameScene.ts","./GameWorldDefine.ts","./GameWorld.ts","./TileMapManager.ts","./StorageManager.ts","./GameEventSystem.ts"],(function(e){var n,t,a,o,i,c,r,s,u,f,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e.resources,o=e.Prefab,i=e.instantiate},function(e){c=e.GameScene},function(e){r=e.InputDefine},function(e){s=e.GameWorld},function(e){u=e.TileMapManager},function(e){f=e.StorageManager},function(e){l=e.AddEvent}],execute:function(){t._RF.push({},"b8d3aKf+BhO6KbnfyYGMIJl","BattleScene",void 0);e("BattleScene",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var c=t.prototype;return c.onStart=function(){console.log("game battle start"),a.load("battleScene",o,(function(e,n){if(e)throw e;i(n).setParent(s.instance.node)})),l(r.Jump,this,(function(){u.instance.SetTile(0,0,0),f.instance.TrySet(100,100)}))},c.onUpdate=function(e){return!0},c.onEnd=function(){},t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/Behavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleContext.ts"],(function(n){var t,e,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){o=n.BattleContext}],execute:function(){e._RF.push({},"90a6fBHEJZAHYNxvRunywYS","Behavior",void 0);n("Behavior",function(){function n(){this._behaviorType=void 0,this.duration=0,this.timePassed=0,this.context=new o}var e=n.prototype;return e.onLoad=function(){},e.onStart=function(n){},e.onUpdate=function(n,t){return!0},e.onEnd=function(n){},e.onCondition=function(n){return!0},e.onRefresh=function(n){},e.onInterrupt=function(n,t){return!0},e.equals=function(n){return!0},e.Release=function(){},t(n,[{key:"behaviorType",get:function(){return this._behaviorType}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetWorkManager.ts"],(function(t){var e,o,n,i;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){n=t.cclegacy},function(t){i=t.NetWorkManager}],execute:function(){n._RF.push({},"089d7+cKmFJ5IyF5j6BBr7s","BehaviorTree",void 0);t("BehaviorTree",function(){function t(){this.root=void 0,this.owner=void 0,this._sid=0,this.node=new Map,this.timePass=0}var n=t.prototype;return n.SendMessage=function(t,e){i.instance.SendNodeState(t,e)},n.Init=function(t){if(this.owner=t,null==this.node)throw new Error("node is null");for(var o,n=e(this.node);!(o=n()).done;){o.value[1].onInit(this)}for(var i,r=e(this.node);!(i=r()).done;){var s=i.value;if("Entry"==s[1].nodeType)return this.root=s[1],void this.root.onStart()}},n.Update=function(t){this.root&&(this.timePass+=t,this.root.onUpdate(t))},n.onRelease=function(){this.root.onRelease()},n.GetPriority=function(t){return 0},o(t,[{key:"sid",get:function(){return this._sid},set:function(t){this._sid=t}},{key:"TimePass",get:function(){return this.timePass}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorTreeManager.ts",["cc","./BehaviorTree.ts","./TreeNodeRegister.ts"],(function(e){var t,r,i,n,o;return{setters:[function(e){t=e.cclegacy,r=e.resources,i=e.TextAsset},function(e){n=e.BehaviorTree},function(e){o=e.TreeNodeFactory}],execute:function(){var s;t._RF.push({},"1deecPbf4FEF5KOSo9J9Wir","BehaviorTreeManager",void 0);var a=e("BehaviorTreeManager",function(){function e(){this.list=[],this.list=[]}var t=e.prototype;return t.init=function(){},t.Update=function(e){for(var t=this.list.length-1;t>=0;t--)!this.list[t].owner.enabled||this.list[t].owner.IsDead?(this.list[t].onRelease(),this.list.splice(t,1)):this.list[t].Update(e)},t.LoadWithPath=function(e,t){var n=this;r.load(e,i,(function(e,r){if(e)throw console.error("load behavior tree error",e),e;n.Load(r.text,t)}))},t.Load=function(e,t){var r=JSON.parse(e),i=new n;if(Array.isArray(r.TreeNodes))for(var s=r.TreeNodes.length,a=0;a<s;a++){var c=r.TreeNodes[a],h=o(c.nodeType);if(h){for(var l in c)h[l]=c[l];h.enable&&i.node.set(h._sid,h)}}i.Init(t),this.list.push(i)},t.Clear=function(){this.list=[]},e}());s=a,a.instance=new s,t._RF.pop()}}}));

System.register("chunks:///_virtual/BinaryUtils.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r({BitArray2Number:function(r){if(r.length>32)throw new Error("[BitArray2Number] arr.length must <= 32");for(var t=0,n=0;n<r.length;n++)t|=r[n]<<r.length-n-1;return t},FlagClear:function(r,t){var n=1<<t;return r|=n,r^=n},FlagSet:function(r,t){return r|=1<<t}}),t._RF.push({},"cf3c7sfcF5IyLPGcDC10S3A","BinaryUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BlockConfig.ts",["cc"],(function(o){var r;return{setters:[function(o){r=o.cclegacy}],execute:function(){o({BlockConfigGet:function(o,r){var f=n.get(o);return null==f?void 0:f[r]},BlockConfigSetup:function(o,r){var l=n.get(o);if(!l)throw new Error("id:"+o+" is null");r.ID=o;for(var c=0;c<f.length;c++){var e=f[c];r[e]=Array.isArray(l[c])?[].concat(l[c]):l[c]}"function"==typeof r.onLoad&&r.onLoad()}}),r._RF.push({},"f629f2n0zhAKZaqh3zpjDAS","BlockConfig",void 0);var n=o("BlockConfigData",new Map([[1,["土块","块","floor"]],[2,["红岩","块","floor"]],[3,["花岗岩","块","floor"]],[4,["红岩","块","floor"]],[5,["花岗岩","块","floor"]],[6,["红岩","块","floor"]],[7,["花岗岩","块","floor"]],[100,["金矿","块","floor"]],[101,["银矿","块","floor"]],[102,["铜矿","块","floor"]],[103,["铁矿","块","floor"]],[104,["煤矿","块","floor"]],[105,["铀矿","块","floor"]],[106,["","","floor"]],[107,["","","floor"]],[108,["","","floor"]],[109,["","","floor"]],[110,["","","floor"]]])),f=o("BlockConfigHeaders",["Name","Description","Icon"]);o("BlockConfigField",function(o){return o[o.Name=0]="Name",o[o.Description=1]="Description",o[o.Icon=2]="Icon",o}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/Bomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Projectile.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Projectile}],execute:function(){n._RF.push({},"a4c9dhJwmJASJh01r2Dpr6z","Bomb",void 0);t("Bomb",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.Release=function(){},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/BombConfig.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){n({BombConfigGet:function(n,o){var i=e.get(n);return null==i?void 0:i[o]},BombConfigSetup:function(n,o){var r=e.get(n);if(!r)throw new Error("id:"+n+" is null");o.ID=n;for(var t=0;t<i.length;t++){var a=i[t];o[a]=Array.isArray(r[t])?[].concat(r[t]):r[t]}"function"==typeof o.onLoad&&o.onLoad()}}),o._RF.push({},"b47ccSeKCpHzano47AbAMO1","BombConfig",void 0);var e=n("BombConfigData",new Map([[2001,["圆形触发器","",.5,[1001]]],[2002,["圆形触发器","",.5,[1001]]],[2003,["圆形触发器","",.5,[1001]]],[2004,["圆形触发器","",.5,[1001]]],[2005,["圆形触发器","",.5,[1001]]],[2006,["圆形触发器","",.5,[1001]]],[2007,["圆形触发器","",.5,[1001]]],[2008,["圆形触发器","",.5,[1001]]]])),i=n("BombConfigHeaders",["Name","Description","radius","values"]);n("BombConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.radius=2]="radius",n[n.values=3]="values",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/Buff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleContext.ts","./ObjectPool.ts","./BattleContextType.ts","./EffectManager.ts"],(function(t){var e,i,n,s,o,f;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){n=t.BattleContext},function(t){s=t.ObjectPool},function(t){o=t.BattleContextType},function(t){f=t.GetEffect}],execute:function(){i._RF.push({},"dbc7birGYFKDYNGkaK8BDG6","Buff",void 0);t("Buff",function(){function t(){this.ID=void 0,this.uid=void 0,this.layerMax=void 0,this.layer=void 0,this.mask=void 0,this.effects=void 0,this.conditions=void 0,this.immunityConditions=void 0,this.timePassed=0,this.duration=0,this.buffType=void 0,this.context=void 0,this.effectList=void 0}var i=t.prototype;return i.attach=function(t){if(this.timePassed=0,this.context=s.spawn(n),this.context.setValue(o.BuffID,this.ID),this.effects&&this.effects.length>0){this.effectList=new Array(this.effects.length);for(var e=0;e<this.effects.length;e++)this.effectList[e]=f(this.effects[e])}},i.update=function(t,e){return 0},i.detach=function(t){s.recycle(this.context)},i.onRefresh=function(t){},i.isOver=function(){return this.duration>0&&this.timePassed>=this.duration},i.evaluate=function(t){if(!this.conditions)return!0;for(var i,n=e(this.conditions);!(i=n()).done;){if(!i.value.evaluate(this.context,t))return!1}return!0},i.execute=function(t,i){if(void 0===i&&(i=1),!this.effects)return-1;if(this.evaluate(t)){for(var n,s=e(this.effectList);!(n=s()).done;){n.value.apply(t,this.context,this.layer,i)}return 1}return-1},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/BuffEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./BuffManager.ts"],(function(f){var t,e,n,u,r;return{setters:[function(f){t=f.inheritsLoose,e=f.createForOfIteratorHelperLoose},function(f){n=f.cclegacy},function(f){u=f.Effect},function(f){r=f.GetBuff}],execute:function(){n._RF.push({},"43e48jmr9pJLrOh5C8fuVfi","BuffEffect",void 0);f("BuffEffect",function(f){function n(){for(var t,e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];return(t=f.call.apply(f,[this].concat(n))||this).values=[],t.buffs=null,t}t(n,f);var u=n.prototype;return u.onLoad=function(){if(!this.buffs){this.buffs=new Array(this.values.length);for(var f=0;f<this.values.length;f++)this.buffs[f]=r(this.values[f])}},u.apply=function(f){if(this.buffs)for(var t,n=e(this.buffs);!(t=n()).done;){var u=t.value;u&&f.AddBuff(u)}},u.Release=function(){},u.ToString=function(f){return"buff"},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/BuffEffectConfig.ts",["cc"],(function(f){var e;return{setters:[function(f){e=f.cclegacy}],execute:function(){f({BuffEffectConfigGet:function(f,e){var t=n.get(f);return null==t?void 0:t[e]},BuffEffectConfigSetup:function(f,e){var i=n.get(f);if(!i)throw new Error("id:"+f+" is null");e.ID=f;for(var r=0;r<t.length;r++){var u=t[r];e[u]=Array.isArray(i[r])?[].concat(i[r]):i[r]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"adb872VvnRC+pfbwsqir+Lk","BuffEffectConfig",void 0);var n=f("BuffEffectConfigData",new Map([[9001,["圆形触发器","",.5,[1001]]],[9002,["圆形触发器","",.5,[1001]]],[9003,["圆形触发器","",.5,[1001]]],[9004,["圆形触发器","",.5,[1001]]],[9005,["圆形触发器","",.5,[1001]]],[9006,["圆形触发器","",.5,[1001]]],[9007,["圆形触发器","",.5,[1001]]],[9008,["圆形触发器","",.5,[1001]]]])),t=f("BuffEffectConfigHeaders",["Name","Description","radius","values"]);f("BuffEffectConfigField",function(f){return f[f.Name=0]="Name",f[f.Description=1]="Description",f[f.radius=2]="radius",f[f.values=3]="values",f}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BuffManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AuraBuffConfig.ts","./AuraBuff.ts","./DelayBuffConfig.ts","./DelayBuff.ts","./FlipBuffConfig.ts","./FlipBuff.ts","./ModifierBuffConfig.ts","./ModifierBuff.ts","./TimerBuffConfig.ts","./TimerBuff.ts","./TriggerBuffConfig.ts","./TriggerBuff.ts","./DualBuffConfig.ts","./DualBuff.ts","./HourTriggerBuffConfig.ts","./HourTriggerBuff.ts","./ConstBuffConfig.ts","./ConstBuff.ts"],(function(f){var u,n,i,o,r,e,t,a,g,B,s,c,C,l,d,D,H,T,p,v,M,F,y,m,A,R,L,h,_;return{setters:[function(f){u=f.createForOfIteratorHelperLoose},function(f){n=f.cclegacy},function(f){i=f.AuraBuffConfigHeaders,o=f.AuraBuffConfigData},function(f){r=f.AuraBuff},function(f){e=f.DelayBuffConfigHeaders,t=f.DelayBuffConfigData},function(f){a=f.DelayBuff},function(f){g=f.FlipBuffConfigHeaders,B=f.FlipBuffConfigData},function(f){s=f.FlipBuff},function(f){c=f.ModifierBuffConfigHeaders,C=f.ModifierBuffConfigData},function(f){l=f.ModifierBuff},function(f){d=f.TimerBuffConfigHeaders,D=f.TimerBuffConfigData},function(f){H=f.TimerBuff},function(f){T=f.TriggerBuffConfigHeaders,p=f.TriggerBuffConfigData},function(f){v=f.TriggerBuff},function(f){M=f.DualBuffConfigHeaders,F=f.DualBuffConfigData},function(f){y=f.DualBuff},function(f){m=f.HourTriggerBuffConfigHeaders,A=f.HourTriggerBuffConfigData},function(f){R=f.HourTriggerBuff},function(f){L=f.ConstBuffConfigHeaders,h=f.ConstBuffConfigData},function(f){_=f.ConstBuff}],execute:function(){f({BuffRegisterRegister:z,GetBuff:function(f){0==w.size&&(z(o,i,r),z(h,L,_),z(t,e,a),z(B,g,s),z(C,c,l),z(D,d,H),z(p,T,v),z(F,M,y),z(A,m,R));var u=w.get(f);if(!u)return;var n=u[0],I=u[1],b=new(0,u[2]);b.ID=f;for(var j=0;j<I.length;j++){var k=I[j];b[k]=n[j]}b.onLoad&&b.onLoad();return b}}),n._RF.push({},"9f8fftsTzVBv7e9r2WR3dEl","BuffManager",void 0);var w=new Map;function z(f,n,i){for(var o,r=u(f);!(o=r()).done;){var e=o.value,t=e[0],a=e[1];w.set(t,[a,n,i])}}n._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Projectile.ts","./EffectManager.ts","./BattleContext.ts"],(function(t){var e,i,o,n,s,r,c,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){n=t.cclegacy,s=t.Vec3},function(t){r=t.Projectile},function(t){c=t.GetEffect},function(t){u=t.BattleContext}],execute:function(){n._RF.push({},"94229Pb0zpHLbScwBqON9ow","Bullet",void 0);t("Bullet",function(t){function n(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).isHit=!1,e.values=[],e.speed=350,e.context=new u,e}e(n,t);var r=n.prototype;return r.update=function(t){var e=this;this.MoveForward(this.speed*t);var o=this.position,n=this.scene.Filter((function(t){return t.Camp!=e.Camp&&(o.x-t.position.x)*(o.x-t.position.x)+(o.y-t.position.y)*(o.y-t.position.y)<2500}));if(n){for(var s,r=i(this.values);!(s=r()).done;){var u=s.value,a=c(u);null==a||a.apply(n,this.context,1,1)}this.isHit=!0}return!this.isHit&&this.position.y<1100},r.MoveForward=function(t){this.position=new s(this.position.x+this.forward.x*t,this.position.y+this.forward.y*t)},r.Release=function(){this.isHit=!1},o(n,[{key:"Type",get:function(){return"Bullet"}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCaster.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"004b4i8lbRNGalTCIKg76VV","BulletCaster",void 0);t("BulletCaster",function(){function t(){this.bullet=[]}var n=t.prototype;return n.onLoad=function(){},n.OnAction=function(t){for(var n,o=t.scene,r=e(this.bullet);!(n=r()).done;){var l=n.value;o.SpawnBullet(t.position,t.forward,l,t)}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCasterConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({BulletCasterConfigGet:function(e,t){var r=n.get(e);return null==r?void 0:r[t]},BulletCasterConfigSetup:function(e,t){var l=n.get(e);if(!l)throw new Error("id:"+e+" is null");t.ID=e;for(var a=0;a<r.length;a++){var u=r[a];t[u]=Array.isArray(l[a])?[].concat(l[a]):l[a]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"f2ca8UD7fhG1ITlI9YzpJ6Z","BulletCasterConfig",void 0);var n=e("BulletCasterConfigData",new Map([[3001,["发射子弹",[102,103,104],[1001]]],[3002,["发射子弹",[102,103,104],[1001]]],[3003,["发射子弹",[102,103,104],[1001]]],[3004,["发射子弹",[102,103,104],[1001]]],[3005,["发射子弹",[102,103,104],[1001]]],[3006,["发射子弹",[102,103,104],[1001]]],[3007,["发射子弹",[102,103,104],[1001]]],[3008,["发射子弹",[102,103,104],[1001]]]])),r=e("BulletCasterConfigHeaders",["Name","Item","bullet"]);e("BulletCasterConfigField",function(e){return e[e.Name=0]="Name",e[e.Item=1]="Item",e[e.bullet=2]="bullet",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BulletConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({BulletConfigGet:function(e,n){var r=t.get(e);return null==r?void 0:r[n]},BulletConfigSetup:function(e,n){var i=t.get(e);if(!i)throw new Error("id:"+e+" is null");n.ID=e;for(var o=0;o<r.length;o++){var u=r[o];n[u]=Array.isArray(i[o])?[].concat(i[o]):i[o]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"1368cQSbCJDcKNBrHAbAzoU","BulletConfig",void 0);var t=e("BulletConfigData",new Map([[1001,["圆形触发器","",.5,500,[1001]]],[1002,["圆形触发器","",.5,500,[1001]]],[1003,["圆形触发器","",.5,500,[1001]]],[1004,["圆形触发器","",.5,500,[1001]]],[1005,["圆形触发器","",.5,500,[1001]]],[1006,["圆形触发器","",.5,500,[1001]]],[1007,["圆形触发器","",.5,500,[1001]]],[1008,["圆形触发器","",.5,500,[1001]]]])),r=e("BulletConfigHeaders",["Name","Description","radius","speed","values"]);e("BulletConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.radius=2]="radius",e[e.speed=3]="speed",e[e.values=4]="values",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/BulletManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./BulletConfig.ts","./BombConfig.ts","./Bomb.ts"],(function(e){var t,n,o,r,l,u,a,i;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){o=e.Bullet},function(e){r=e.BulletConfigHeaders,l=e.BulletConfigData},function(e){u=e.BombConfigHeaders,a=e.BombConfigData},function(e){i=e.Bomb}],execute:function(){e({BulletRegister:s,GetBullet:function(e){0==f.size&&(s(l,r,o),s(a,u,i));var t=f.get(e);if(!t)throw new Error("Bullet not found: "+e);var n=t[0],c=t[1],B=new(0,t[2]);B.ID=e;for(var g=0;g<c.length;g++){var v=c[g];B[v]=n[g]}return B}}),n._RF.push({},"d3a1axpL91DoJhR/o83RZkx","BulletManager",void 0);var f=new Map;function s(e,n,o){for(var r,l=t(e);!(r=l()).done;){var u=r.value,a=u[0],i=u[1];f.set(a,[i,n,o])}}n._RF.pop()}}}));

System.register("chunks:///_virtual/BulletView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RootManager.ts"],(function(e){var t,n,o,r,i,l,a,u,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Node,i=e.resources,l=e.Prefab,a=e.instantiate,u=e.Component},function(e){c=e.RootManager}],execute:function(){var s;n._RF.push({},"717c4XuHttE5IQYGUnVe2YL","BulletView",void 0);var p=o.ccclass;o.property,e("BulletView",p("BulletView")(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).model=void 0,t.bullet=void 0,t}t(n,e);var o=n.prototype;return o.start=function(){},o.update=function(e){this.node.position=this.bullet.position},n.Create=function(e){var t=new r("BulletView");t.setParent(c.instance.SceneLayer);var o=t.addComponent(n);return o.bullet=e,i.load("prefabs/coin",l,(function(e,t){e?console.error("Failed to load bullet prefab:",e):(o.model=a(t),o.model.parent=o.node)})),o},n}(u))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleResManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,o,a,u,i,c,s,l,f;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime,t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,a=e.resources,u=e.Prefab,i=e.instantiate,c=e.SpriteFrame,s=e.Sprite,l=e.AudioClip,f=e.assetManager}],execute:function(){e({LoadAllBundles:function(e){return v.apply(this,arguments)},LoadAllPanel:function(e,n){return p.apply(this,arguments)},LoadAudio:function(e,n){void 0===n&&(n="extraBundle");return new Promise((function(r,t){d[n].load(e,l,(function(e,n){e?t(e):r(n)}))}))},LoadBundle:function(e){void 0===e&&(e="extraBundle");return new Promise((function(n,r){f.loadBundle(e,(function(e,t){e?r(e):(d[t.name]=t,n(t))}))}))},LoadModel:function(e,n,r,t,o){void 0===o&&(o=0);a.load(e,u,(function(e,a){if(e)throw e;var u=i(a);u.setParent(r),1==o&&d.extraBundle.load(n,c,(function(e,n){if(e)throw e;var r=u.getComponent(s);r&&(r.spriteFrame=n)})),t&&t(u)}))},LoadPrefab:function(e,n){void 0===n&&(n="extraBundle");return new Promise((function(r,t){d[n].load(e,u,(function(e,n){e?t(e):r(n)}))}))},LoadSprite:function(e,n){void 0===n&&(n="extraBundle");return new Promise((function(r,t){d[n].load(e+"/spriteFrame",c,(function(e,n){e?t(e):r(n)}))}))}}),o._RF.push({},"23027S6w1RJK5n4eBXMutOh","BundleResManager",void 0);var d={};function p(){return(p=n(r().mark((function e(n,o){var a,c,s,l,f,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=o.map((function(e){return new Promise((function(n,r){d.extraBundle.load("prefabs/"+e,u,(function(e,t){e&&r(e),n(t)}))}))})),e.next=4,Promise.all(a);case 4:for(c=e.sent,s=t(c);!(l=s()).done;)f=l.value,(p=i(f)).setParent(n),p.active=!1;e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=n(r().mark((function e(n){var o,a,u,i,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=n.map((function(e){return new Promise((function(n,r){f.loadBundle(e,(function(e,t){e&&r(e),n(t)}))}))})),e.next=4,Promise.all(o);case 4:for(a=e.sent,u=t(a);!(i=u()).done;)c=i.value,d[c.name]=c;e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}o._RF.pop()}}}));

System.register("chunks:///_virtual/CameraManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(a){var e,n,r,t,o;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy,r=a._decorator,t=a.Camera,o=a.Component}],execute:function(){var c,i;n._RF.push({},"93ee56KWCNM4LSvfFfsrQj/","CameraManager",void 0);var s=r.ccclass;r.property,a("CameraManager",s("CameraManager")(((i=function(a){function n(){for(var e,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return(e=a.call.apply(a,[this].concat(r))||this).camera=void 0,e}e(n,a);var r=n.prototype;return r.onLoad=function(){n.instance=this,this.camera=this.getComponent(t)},r.start=function(){},r.update=function(a){},n}(o)).instance=void 0,c=i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CampCheck.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e("CampCheck",(function(e,r,t){if(e==n.Any)return!0;if(e==n.self)return r==t;if(r==t)return!1;if(e==n.Other)return r!=t;if(e==n.Ally)return t.Camp==r.Camp;if(e==n.Enemy)return t.Camp!=r.Camp;if(e==n.Neutral)return 0==t.Camp;return!1})),r._RF.push({},"55cefXTZn5ORKWFTif4yvne","CampCheck",void 0);var n=e("CampType",function(e){return e[e.Any=0]="Any",e[e.self=1]="self",e[e.Other=2]="Other",e[e.Ally=3]="Ally",e[e.Enemy=4]="Enemy",e[e.Neutral=5]="Neutral",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/CamShakeEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Effect}],execute:function(){n._RF.push({},"b354e+83fdODJwa4Qc5hXEK","CamShakeEffect",void 0);e("CamShakeEffect",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.ToString=function(e){throw new Error("Method not implemented.")},o.apply=function(e){throw new Error("Method not implemented.")},o.Release=function(){throw new Error("Method not implemented.")},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/CamShakeEffectConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("CamShakeEffectConfigSetup",(function(e,t){for(var f=n.get(e),c=0;c<a.length;c++){t[a[c]]=null==f?void 0:f[c]}})),t._RF.push({},"eb722y2pxxACZN0kABj7Umo","CamShakeEffectConfig",void 0);var n=e("CamShakeEffectConfigData",new Map([[2001,[2001,"吕布","群"]],[2002,[2002,"貂蝉","群"]],[2003,[2003,"吕布","群"]],[2004,[2004,"貂蝉","群"]],[2005,[2005,"吕布","群"]],[2006,[2006,"貂蝉","群"]],[2007,[2007,"吕布","群"]],[2008,[2008,"貂蝉","群"]],[2009,[2009,"吕布","群"]],[2010,[2010,"貂蝉","群"]],[2011,[2011,"吕布","群"]],[2012,[2012,"貂蝉","群"]],[2013,[2013,"吕布","群"]]])),a=["ID","Name","Description"];t._RF.pop()}}}));

System.register("chunks:///_virtual/CanonBall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Projectile.ts"],(function(n){var t,e,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},function(n){o=n.Projectile}],execute:function(){e._RF.push({},"7f92fo0kvRI67nTwc9cEsQb","CanonBall",void 0);n("CanonBall",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.Release=function(){},e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/CanonBallConfig.ts",["cc"],(function(n){var a;return{setters:[function(n){a=n.cclegacy}],execute:function(){n({CanonBallConfigGet:function(n,a){var e=o.get(n);return null==e?void 0:e[a]},CanonBallConfigSetup:function(n,a){var i=o.get(n);if(!i)throw new Error("id:"+n+" is null");a.ID=n;for(var r=0;r<e.length;r++){var t=e[r];a[t]=i[r]}"function"==typeof a.onLoad&&a.onLoad()}}),a._RF.push({},"166a7uLfP9EsqLEg5c30l8e","CanonBallConfig",void 0);var o=n("CanonBallConfigData",new Map([[9001,["圆形触发器","",.5,[1001]]],[9002,["圆形触发器","",.5,[1001]]],[9003,["圆形触发器","",.5,[1001]]],[9004,["圆形触发器","",.5,[1001]]],[9005,["圆形触发器","",.5,[1001]]],[9006,["圆形触发器","",.5,[1001]]],[9007,["圆形触发器","",.5,[1001]]],[9008,["圆形触发器","",.5,[1001]]]])),e=n("CanonBallConfigHeaders",["Name","Description","radius","values"]);n("CanonBallConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.radius=2]="radius",n[n.values=3]="values",n}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardBagConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({CardBagConfigGet:function(n,t){var e=a.get(n);return null==e?void 0:e[t]},CardBagConfigSetup:function(n,t){var r=a.get(n);if(!r)throw new Error("id:"+n+" is null");t.ID=n;for(var o=0;o<e.length;o++){var i=e[o];t[i]=Array.isArray(r[o])?[].concat(r[o]):r[o]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"c5a182De3xDKZ8Outdf3NJO","CardBagConfig",void 0);var a=n("CardBagConfigData",new Map([[1001,["基础卡包",3,[101,106,116,102,112],[10,10,10,10,10]]],[1002,["食物卡包",3,[101,106,133,134,135,136,137,138,116],[10,10,10,10,10,10,10,10,10]]],[1003,["探索卡包",3,[101,106,112,121],[35,35,10,35,35,35,35,35,35]]],[1004,["人才卡包",3,[101,106,112,1005],[10,10,10,10]]],[1005,["人才子卡包",1,[100,100,100,100,100,100,100],[10,10,10,10,10,10,10,10,10]]],[1006,["灌木掉落",1,[106,142,142],[10,10,10]]],[1007,["挖矿掉落",1,[112,112,121,122,124],[20,10,5,10,20,10]]],[1008,["野生动物包",1,[145,146,147,148,149,150],[10,10,10,10,10,10]]],[1009,["砍树掉落",2,[106,106,106],[10,10,10]]]])),e=n("CardBagConfigHeaders",["Name","Count","Item","Weight"]);n("CardBagConfigField",function(n){return n[n.Name=0]="Name",n[n.Count=1]="Count",n[n.Item=2]="Item",n[n.Weight=3]="Weight",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CarryBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(r){var e,i,o;return{setters:[function(r){e=r.inheritsLoose},function(r){i=r.cclegacy},function(r){o=r.Behavior}],execute:function(){i._RF.push({},"6b9b8wso0xOZZPwg6Zi3f9j","CarryBehavior",void 0);r("CarryBehavior",function(r){function i(){var e;return(e=r.call(this)||this)._behaviorType="CarryBehavior",e}return e(i,r),i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/CastSkillAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./BattleBehavior.ts","./TreeNodeRegister.ts","./BattleBehaviorConfig.ts"],(function(t){var n,i,e,o,s,r,h;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.Action},function(t){o=t.ResultType},function(t){s=t.BattleBehavior},function(t){r=t.TreeNodeRegister},function(t){h=t.BattleBehaviorConfigSetup}],execute:function(){var a;i._RF.push({},"ad433OASnRMzYZsscFgUWpl","CastSkillAction",void 0);t("CastSkillAction",r("CastSkillAction")(a=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).bh=void 0,n.ConfigID=1e3,n}n(i,t);var e=i.prototype;return e.onStart=function(){this.bh||(this.bh=new s,h(this.ConfigID,this.bh)),this.bh.timePassed=0,this.bh.onStart(this.mgr.owner)},e.onUpdate=function(t){var n=this.mgr.owner;return this.bh.timePassed>=this.bh.duration?o.ok:(this.bh.timePassed+=t,this.bh.onUpdate(n,t),o.running)},e.onEnd=function(){t.prototype.onEnd.call(this),this.bh.onEnd(this.mgr.owner)},i}(e))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/CastWeaponSkillAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var n,e,i,o,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Action},function(t){o=t.ResultType},function(t){s=t.TreeNodeRegister}],execute:function(){var r;e._RF.push({},"23ed3uY1mFEY4L2a65fwwPJ","CastWeaponSkillAction",void 0);t("CastWeaponSkillAction",s("CastWeaponSkillAction")(r=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).bh=void 0,n}n(e,t);var i=e.prototype;return i.onStart=function(){if(!this.owner.bh)throw"BattleBehavior is null";this.bh=this.owner.bh,this.bh.timePassed=0,this.bh.onStart(this.mgr.owner)},i.onUpdate=function(t){var n=this.mgr.owner;return this.bh.timePassed>=this.bh.duration?o.ok:(this.bh.timePassed+=t,this.bh.onUpdate(n,t),o.running)},i.onEnd=function(){t.prototype.onEnd.call(this),this.bh.onEnd(this.mgr.owner)},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeColorEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./ViewManager.ts"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Effect},function(t){r=t.ViewManager}],execute:function(){n._RF.push({},"cf06fNQRtFHkaaYywR9MAlY","ChangeColorEffect",void 0);t("ChangeColorEffect",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).Name="",e.Path="",e.Color="",e}e(n,t);var o=n.prototype;return o.apply=function(t,e,n,o){if(void 0===o&&(o=1),1==o){var i=r.instance.GetActorView(t.Sid);i&&i.onColorChange(this.Path,this.Color)}},o.Release=function(){},o.ToString=function(t){return this.Name},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeColorEffectConfig.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){o({ChangeColorEffectConfigGet:function(o,e){var F=n.get(o);return null==F?void 0:F[e]},ChangeColorEffectConfigSetup:function(o,e){var r=n.get(o);if(!r)throw new Error("id:"+o+" is null");e.ID=o;for(var d=0;d<F.length;d++){var t=F[d];e[t]=Array.isArray(r[d])?[].concat(r[d]):r[d]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"18de8TwPs1ETavkYZF/qaLx","ChangeColorEffectConfig",void 0);var n=o("ChangeColorEffectConfigData",new Map([[6001,["改变外观","衣服换色","Node/body","FF0000"]],[6002,["改变外观","衣服换色","Node/body","FF4500"]],[6003,["改变外观","衣服换色","Node/body","FF6347"]],[6004,["改变外观","衣服换色","Node/body","FF7F50"]],[6005,["改变外观","衣服换色","Node/body","FFA500"]],[6006,["改变外观","衣服换色","Node/body","FFC0CB"]],[6007,["改变外观","衣服换色","Node/body","FFDB58"]],[6008,["改变外观","衣服换色","Node/body","32CD32"]],[6009,["改变外观","衣服换色","Node/body","00FF7F"]],[6010,["改变外观","衣服换色","Node/body","00FFFF"]],[6011,["改变外观","衣服换色","Node/body","00BFFF"]],[6012,["改变外观","衣服换色","Node/body","1E90FF"]],[6013,["改变外观","衣服换色","Node/body","FF6EFF"]],[6014,["改变外观","衣服换色","Node/body","9400D3"]],[6015,["改变外观","衣服换色","Node/body","9932CC"]],[6050,["改变光环外观","鞋子换色","Node/ring","FFFFFF"]]])),F=o("ChangeColorEffectConfigHeaders",["Name","Description","Path","Color"]);o("ChangeColorEffectConfigField",function(o){return o[o.Name=0]="Name",o[o.Description=1]="Description",o[o.Path=2]="Path",o[o.Color=3]="Color",o}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeHatEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./ViewManager.ts"],(function(t){var e,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.Effect},function(t){c=t.ViewManager}],execute:function(){n._RF.push({},"61af3utGKVFdJwU3mfNCD8b","ChangeHatEffect",void 0);t("ChangeHatEffect",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))||this).Path="",e}return e(n,t),n.prototype.apply=function(t,e,n,a){if(void 0===a&&(a=1),1==a){var i=c.instance.GetActorView(t.Sid);i&&i.changeHat(this.Path)}},n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeHatEffectConfig.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({ChangeHatEffectConfigGet:function(t,n){var a=e.get(t);return null==a?void 0:a[n]},ChangeHatEffectConfigSetup:function(t,n){var f=e.get(t);if(!f)throw new Error("id:"+t+" is null");n.ID=t;for(var i=0;i<a.length;i++){var o=a[i];n[o]=Array.isArray(f[i])?[].concat(f[i]):f[i]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"2f09aYOKpFCMak+MgXpSjU+","ChangeHatEffectConfig",void 0);var e=t("ChangeHatEffectConfigData",new Map([[6100,["改变外观","衣服换色","hats/icon_752"]]])),a=t("ChangeHatEffectConfigHeaders",["Name","Description","Path"]);t("ChangeHatEffectConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.Path=2]="Path",t}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChatManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,r,e,c;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,e=n.RichText,c=n.Component}],execute:function(){var i,a;t._RF.push({},"3341eWS61pPAYg6r4aq+lnl","ChatManager",void 0);var s=r.ccclass;r.property,n("ChatManager",s("ChatManager")(((a=function(n){function t(){for(var o,t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return(o=n.call.apply(n,[this].concat(r))||this).content=void 0,o.str=[],o}o(t,n);var r=t.prototype;return r.onLoad=function(){t.instance=this;var n=this.node.getComponentInChildren(e);n?this.content=n:console.error("RichText component not found on node!"),this.content.string=""},r.onClick=function(){console.error("onClick~~~~~~~")},r.Error=function(n){this.Push("<color=red>"+n+"</color>")},r.Push=function(n){},t}(c)).instance=void 0,i=a))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/CheckBuildJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts","./MemoryDefine.ts"],(function(e){var t,n,o,r,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){i=e.TreeNodeRegister},function(e){s=e.MemoryDefine}],execute:function(){var u;n._RF.push({},"1670bMyFwND+6JxRlBoOHWA","CheckBuildJob",void 0);e("CheckBuildJob",i("CheckBuildJob")(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).Target=0,t}return t(n,e),n.prototype.onUpdate=function(e){if(!this.Target)return r.fail;var t=this.mgr.owner.scene,n=this.Target,o=t.FindMaterial((function(e){return e.Type==n&&e.HasJob.bind(e)}));if(o){var i=o.GetMission(),u=i[0],c=i[1];if(u)return u.SetFreeze(!0),this.owner.Memory.set(s.targetPos,u.position),this.owner.Memory.set(s.targetMatCount,c),this.owner.Memory.set(s.nextPos,o.position),r.ok}return r.fail},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckCamp.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"83618BjgFpKmbaR7YrhjFOc","CheckCamp",void 0);t("CheckCamp",function(){function t(){this.camp=0}return t.prototype.evaluate=function(t,c){return c.Camp==this.camp},t}());c._RF.pop()}}}));

System.register("chunks:///_virtual/CheckCollectJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./TreeNodeRegister.ts","./ResultType.ts","./MemoryDefine.ts","./ItemOrderType.ts"],(function(e){var t,n,r,o,i,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.TreeNodeRegister},function(e){i=e.ResultType},function(e){c=e.MemoryDefine},function(e){s=e.ItemOrderType}],execute:function(){var u;n._RF.push({},"01581HtGiJG1J8JEpK5zi42","CheckCollectJob",void 0);e("CheckCollectJob",o("CheckCollectJob")(u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).Target=s.None,t}return t(n,e),n.prototype.onUpdate=function(e){if(!this.Target)return i.fail;var t=this.mgr.owner.scene,n=this.Target,r=t.FindMaterial((function(e){return e._orderType==n}));return r?(r.SetFreeze(!0),this.owner.Memory.set(c.targetPos,r.position),i.ok):i.fail},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckCondition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./ConditionManager.ts"],(function(n){var t,o,i,e,r,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},function(n){i=n.TreeNodeRegister},function(n){e=n.Action},function(n){r=n.ResultType},function(n){c=n.GetCondition}],execute:function(){var u;o._RF.push({},"8b6379aVZBMrp/MPy/aoaHj","CheckCondition",void 0);n("CheckCondition",i("CheckCondition")(u=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).ConditionID=0,t}return t(o,n),o.prototype.onUpdate=function(n){var t=c(this.ConditionID);if(!t)throw new Error("condition "+this.ConditionID+" not found");return t.evaluate({},this.mgr.owner)?r.ok:r.fail},o}(e))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CheckCurrentBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(e){var t,r,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.TreeNodeRegister},function(e){o=e.Action},function(e){i=e.ResultType}],execute:function(){var u;r._RF.push({},"aa09dju30NMMbO5ZNTEQUXP","CheckCurrentBehavior",void 0);e("CheckCurrentBehavior",n("CheckCurrentBehavior")(u=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).ConfigId=0,t}return t(r,e),r.prototype.onUpdate=function(e){var t=this.mgr.owner.currentBehavior;return t&&t!=this.ConfigId?i.ok:i.fail},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckEnemyCondition.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"d1690YLU8RPi5M73QP5k5Yh","CheckEnemyCondition",void 0);n("CheckEnemyCondition",function(){function n(){}return n.prototype.evaluate=function(n,e){return e.scene.enemyCount>0},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CheckEnemyConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({CheckEnemyConfigGet:function(e,n){var o=r.get(e);return null==o?void 0:o[n]},CheckEnemyConfigSetup:function(e,n){var t=r.get(e);if(!t)throw new Error("id:"+e+" is null");n.ID=e;for(var i=0;i<o.length;i++){var c=o[i];n[c]=Array.isArray(t[i])?[].concat(t[i]):t[i]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"9b2f6ElDNRCipDKw0/ELgrN","CheckEnemyConfig",void 0);var r=e("CheckEnemyConfigData",new Map([[101,["检查有没有敌人"]]])),o=e("CheckEnemyConfigHeaders",["Name"]);e("CheckEnemyConfigField",function(e){return e[e.Name=0]="Name",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./TreeNodeRegister.ts","./ResultType.ts"],(function(e){var t,n,o,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){i=e.TreeNodeRegister},function(e){r=e.ResultType}],execute:function(){var s;n._RF.push({},"4ff67gPIgNIFKCgEdpSZB2B","CheckItem",void 0);e("CheckItem",i("CheckItem")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.mgr.owner;return this.owner.scene.GetItem(t.position.x,t.position.y)?r.ok:r.fail},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckItemInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./PropertyType.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ItemType},function(e){i=e.ResultType},function(e){c=e.TreeNodeRegister}],execute:function(){var u;n._RF.push({},"b4780MJ/ixBr5JBdS083e8i","CheckItemInfo",void 0);e("CheckItemInfo",c("CheckItemInfo")(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).TargetType=r.wood,t.Num=0,t}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.scene;if(!t.itemInfo)return i.fail;var n=t.itemInfo.get(this.TargetType);return n&&n>=this.Num?i.ok:i.fail},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckOrderMat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,r,n,o,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.Action},function(e){o=e.ResultType},function(e){i=e.MemoryDefine},function(e){c=e.TreeNodeRegister}],execute:function(){var u;r._RF.push({},"da29bAZ7GBNHLR2hU1vQT1D","CheckOrderMat",void 0);e("CheckOrderMat",c("CheckOrderMat")(u=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.onUpdate=function(e){return this.owner.Memory.get(i.order)?o.ok:o.fail},r}(n))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckPackageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./PropertyType.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,r,o,i,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ItemType},function(e){i=e.ResultType},function(e){c=e.MemoryDefine},function(e){u=e.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"1b747wxwRFJspmLpbw1NEZZ","CheckPackageItem",void 0);e("CheckPackageItem",u("CheckPackageItem")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){for(var t,n=this,r=function(e){if(!n.owner.itemPackage.find((function(t){return t&&t.Type==o.equipment&&t.SubType==e})))for(var t=n.owner.scene.items,r=0;r<n.owner.scene.Rows;r++)for(var u=0;u<n.owner.scene.Columns;u++){var s=t[r][u];if(s&&!s.GetFreeze()&&s.Type==o.equipment&&s.SubType==e)return n.owner.Memory.set(c.targetPos,s.position),{v:i.ok}}},u=0;u<4;u++)if(t=r(u))return t.v;return i.fail},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckRoleMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(e){var t,n,o,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.TreeNodeRegister},function(e){c=e.Action},function(e){s=e.ResultType}],execute:function(){var r;n._RF.push({},"9c752D/IpRLaYTTr0kMbI42","CheckRoleMask",void 0);e("CheckRoleMask",o("CheckRoleMask")(r=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).mask=0,t}return t(n,e),n.prototype.onUpdate=function(e){return this.owner.checkMask(this.mask)?s.ok:s.fail},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckTableJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts","./MemoryDefine.ts"],(function(e){var t,n,o,r,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){i=e.TreeNodeRegister},function(e){s=e.MemoryDefine}],execute:function(){var u;n._RF.push({},"2479aHB1llJ/4d4JKuMLXdG","CheckTableJob",void 0);e("CheckTableJob",i("CheckTableJob")(u=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.mgr.owner.scene.FindMaterial((function(e){return"CraftTable"==e.Func&&e.HasJob.bind(e)}));if(t){var n=t.GetMission(),o=n[0],i=n[1];if(o)return o.SetFreeze(!0),this.owner.Memory.set(s.targetPos,o.position),this.owner.Memory.set(s.targetMatCount,i),this.owner.Memory.set(s.nextPos,t.position),r.ok}return r.fail},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CompareAction.ts","./ResultType.ts","./CompareType.ts","./TreeNodeRegister.ts"],(function(e){var t,i,r,n,o,s,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){r=e.cclegacy},function(e){n=e.CompareAction},function(e){o=e.ResultType},function(e){s=e.CompareType},function(e){c=e.TreeNodeRegister}],execute:function(){var a;r._RF.push({},"fe0d1r5uqlFwrQ1S2x9nb8F","CheckTime",void 0);e("CheckTime",c("CheckTime")(a=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).StartTime=0,t.EndTime=0,t.CompareType=s.Equal,t}return t(r,e),r.prototype.onUpdate=function(e){var t=this.mgr.owner.scene.hour;return this.StartTime>this.EndTime?t>=this.StartTime||t<=this.EndTime?o.ok:o.fail:t>=this.StartTime&&t<=this.EndTime?o.ok:o.fail},i(r,[{key:"Compare",get:function(){return this.CompareType}}]),r}(n))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckWeaponAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(e){var n,t,o,r,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){c=e.TreeNodeRegister}],execute:function(){var i;t._RF.push({},"687e2rrMgxLIo0YgYmWht4n","CheckWeaponAction",void 0);e("CheckWeaponAction",c("CheckWeaponAction")(i=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).WeaponID=1e3,n}return n(t,e),t.prototype.onUpdate=function(e){var n=this.mgr.owner;return n.Weapon&&n.Weapon.ConfigID==this.WeaponID?r.ok:r.fail},t}(o))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChopQuest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Quest.ts"],(function(t){var e,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.Quest}],execute:function(){n._RF.push({},"b7ca9SCWOJL6pAYTzXNAJHW","ChopQuest",void 0);t("ChopQuest",function(t){function n(e){var n;return(n=t.call(this,e)||this).type="ChopQuest",n}return e(n,t),n.prototype.Commit=function(t){return this.InternalCommit(1)},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/CircleActionConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){i({CircleActionConfigGet:function(i,n){var r=e.get(i);return null==r?void 0:r[n]},CircleActionConfigSetup:function(i,n){var t=e.get(i);if(!t)throw new Error("id:"+i+" is null");n.ID=i;for(var o=0;o<r.length;o++){var c=r[o];n[c]=Array.isArray(t[o])?[].concat(t[o]):t[o]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"4bf13RsJ1ROwI9wrnLo53RA","CircleActionConfig",void 0);var e=i("CircleActionConfigData",new Map([[1e3,["圆形触发器","拳头用",100,[1001]]],[1001,["圆形触发器","",100,[1002]]],[1002,["圆形触发器","",100,[1002]]],[1003,["圆形触发器","",100,[1002]]],[1004,["圆形触发器","",100,[1002]]],[1005,["圆形触发器","",100,[1002]]],[1006,["圆形触发器","",100,[1002]]],[1007,["圆形触发器","",100,[1002]]],[1008,["圆形触发器","",100,[1002]]]])),r=i("CircleActionConfigHeaders",["Name","Description","radius","effects"]);i("CircleActionConfigField",function(i){return i[i.Name=0]="Name",i[i.Description=1]="Description",i[i.radius=2]="radius",i[i.effects=3]="effects",i}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CircleCaster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Clamp.ts","./EffectCaster.ts"],(function(t){var e,i,r,s,n;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy},function(t){s=t.Clamp},function(t){n=t.EffectCaster}],execute:function(){r._RF.push({},"533f4ZJ5ItLO4/qPtFpO8EN","CircleCaster",void 0);t("CircleCaster",function(t){function r(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).radius=100,e.x=0,e.y=0,e}return e(r,t),r.prototype.OnAction=function(t){t.Camp;this.x=t.Center.x,this.y=t.Center.y;for(var e,r={caster:t},n=i(t.Enemies());!(e=n()).done;){var o=e.value,a=s(this.x,o.position.x-o.radius,o.position.x+o.radius),c=s(this.y,o.position.y,o.position.y+o.height),u=a-this.x,f=c-this.y;if(u*u+f*f<=this.radius*this.radius&&this.EffectItem)for(var l,p=i(this.EffectItem);!(l=p()).done;){l.value.apply(o,r)}}},r}(n));r._RF.pop()}}}));

System.register("chunks:///_virtual/Clamp.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){t("Clamp",(function(t,c,n){return Math.min(Math.max(t,c),n)})),c._RF.push({},"304bcIkPrpHPq8NjQtOP6Qw","Clamp",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/CleanAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(e){var t,n,o,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.TreeNodeRegister},function(e){i=e.Action},function(e){s=e.ResultType}],execute:function(){var r;n._RF.push({},"44e3baHsoFKlpk/n06EGQGA","CleanAction",void 0);e("CleanAction",o("CleanAction")(r=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.position;return this.owner.scene.RemoveItemByPos(t.x,t.y),s.ok},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ClearJobAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){i=e.MemoryDefine},function(e){c=e.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"9d8cfEn7K5Op6CSvvHxHpbY","ClearJobAction",void 0);e("ClearJobAction",c("ClearJobAction")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.Memory.get(i.nextPos),n=this.owner.scene.GetItem(t.x,t.y);return n&&n.DayCall(),r.ok},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CmdCalenderItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./GameEventSystem.ts","./GameWorldDefine.ts"],(function(e){var t,n,i,s,c,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.ItemRegister},function(e){s=e.SceneItem},function(e){c=e.AddEvent},function(e){r=e.WorldEventDefine}],execute:function(){var o;n._RF.push({},"d1d57+OIdpCHr8TEJOadz64","CmdCalenderItem",void 0);e("CmdCalenderItem",i("CmdCalenderItem")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var i=n.prototype;return i.OnSpawn=function(t){e.prototype.OnSpawn.call(this,t),this.Name="";var n=this.scene.calendar;this.OnTimeTick(n),c(r.hourTick,this,this.OnTimeTick)},i.OnTimeTick=function(e){this.Name=e[0]+":00",this.Description="第 "+e[2]+" 月 "+e[1]+" 天 "+e[0]+" 时",this.isStateChange=!0},n}(s))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/CmdGoldItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./GameEventSystem.ts","./GameWorldDefine.ts","./PlayerDataManager.ts"],(function(t){var e,n,a,o,i,r,s,c,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){o=t.ItemRegister},function(t){i=t.SceneItem},function(t){r=t.AddEvent},function(t){s=t.WorldEventDefine},function(t){c=t.PlayerDataManager,l=t.PlayerDataType}],execute:function(){var u;a._RF.push({},"77632ZzjJNBXZtArc+XTiwA","CmdGoldItem",void 0);t("CmdGoldItem",o("CmdGoldItem")(u=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var o=a.prototype;return o.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e),this.Name=c.GetData(l.Gold).toString(),r(s.goldData,this,this.OnGoldChange)},o.OnGoldChange=function(t){this.Name=t[0].toString(),this.isStateChange=!0},n(a,[{key:"Count",get:function(){return c.GetData(l.Gold)},set:function(t){this.Name=t.toString(),c.SetData(l.Gold,t),this.isStateChange=!0}}]),a}(i))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/CmdMenuItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./ItemFunc.ts","./UIManager.ts"],(function(n){var e,t,i,o,c,a;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){i=n.ItemRegister},function(n){o=n.SceneItem},function(n){c=n.ItemFunc},function(n){a=n.UIManager}],execute:function(){var u;t._RF.push({},"0313eOkG+5NjrfCf3URdM39","CmdMenuItem",void 0);n("CmdMenuItem",i("CmdMenuItem")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var i=t.prototype;return i.OnSpawn=function(e){n.prototype.OnSpawn.call(this,e)},i.OnContextShow=function(n){var e=c.instance;e.Begin(this),e.Append("迁移",this.OnMove),e.Append("拆除",this.Teardown),e.End(this)},i.OnMove=function(){a.instance.ShowPanel("prefabs/RebuildPanel",null),c.instance.node.active=!1},i.Teardown=function(){a.instance.ShowPanel("prefabs/TearDownPanel",null),c.instance.node.active=!1},t}(o))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/CmdPopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./PlayerDataManager.ts","./GameEventSystem.ts","./GameWorldDefine.ts","./UIManager.ts","./TimerTask.ts","./CraftPanel.ts"],(function(t){var n,e,o,i,a,c,r,s,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.ItemRegister},function(t){i=t.SceneItem},function(t){a=t.PlayerDataManager},function(t){c=t.AddEvent},function(t){r=t.WorldEventDefine},function(t){s=t.UIManager},function(t){u=t.TimerTask},function(t){l=t.CraftPanel}],execute:function(){var f;e._RF.push({},"2c6b9cPJnlO+pkdZ3eHw19c","CmdPopItem",void 0);t("CmdPopItem",o("CmdPopItem")(f=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.OnSpawn=function(n){var e=this;t.prototype.OnSpawn.call(this,n),c(r.Population,this,this.OnPopulationChange),u.instance.Add(.5,this,(function(){e.isStateChange=!0,a.ModifyPopulation(0)})),a.ModifyPopulationMax(3)},o.OnContextShow=function(t){var n=this;s.instance.ShowPanel("prefabs/ScheduleUi",(function(t){var e=t.getComponent(l);e&&e.init(n.ID)}))},o.OnRemove=function(){t.prototype.OnRemove.call(this),a.ModifyPopulationMax(-3)},o.OnPopulationChange=function(t){var n=t[0]>t[1];this.Name=n?"<color=red> "+t[0]+" / "+t[1]+"</color>":t[0]+" / "+t[1],this.isStateChange=!0},e}(i))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/CollectMaterial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(t){var e,o,r,i,n,l;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){r=t.Decorator},function(t){i=t.ResultType},function(t){n=t.MemoryDefine},function(t){l=t.TreeNodeRegister}],execute:function(){var a;o._RF.push({},"cb4b9U2HWZKO4e3aR1tvZAp","CollectMaterial",void 0);t("CollectMaterial",l("CollectMaterial")(a=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).table=void 0,e}e(o,t);var r=o.prototype;return r.onStart=function(){this.table=this.owner.Memory.get(n.targetItem),this.owner.Memory.set(n.nextPos,this.table.position),this.owner.Memory.set(n.targetTable,this.table),this.table.StartCollect(this.owner),t.prototype.onStart.call(this)},r.onDecoratorUpdate=function(t){if(!this.table)return i.fail;var e=this.updateChild(t);if(e!=i.running){if(this.childNode.onEnd(),this.table.SubmitMat(e==i.ok,this.owner),this.table.CollectDone)return this.table.CollectResult?i.ok:(this.table.SetFreeze(!1),i.fail);this.childNode.onStart()}return i.running},o}(r))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/CommandItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./UIManager.ts","./ItemSchema.ts","./CraftPanel.ts"],(function(t){var n,e,o,i,a,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.SceneItem},function(t){i=t.UIManager},function(t){a=t.ItemRegister},function(t){c=t.CraftPanel}],execute:function(){var r;e._RF.push({},"829be68qGxPK4bwDcqi5CDa","CommandItem",void 0);t("CommandItem",a("CommandItem")(r=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.OnContextShow=function(){var t=this;i.instance.ShowPanel("prefabs/"+this.Description,(function(n){var e=n.getComponent(c);e&&e.init(t.ID)}))},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/CommonUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventSystem.ts","./GameWorldDefine.ts"],(function(t){var n,e,o,i,r,a,l,c,s,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Label,c=t.Component},function(t){s=t.AddEvent},function(t){u=t.WorldEventDefine}],execute:function(){var p,d,f,m,g;r._RF.push({},"24212PvW61Emo1DH1QZJ0Nq","CommonUi",void 0);var h=a.ccclass,v=a.property;t("CommonUi",(p=h("CommonUi"),d=v(l),p((g=n((m=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"goldLb",g,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){s(u.goldData,this,this.OnGoldChange)},r.OnGoldChange=function(t){this.goldLb.string=t[0].toString()},n}(c)).prototype,"goldLb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/CompareAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./CompareType.ts"],(function(e){var t,n,r,o,c,i;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy},function(e){o=e.Action},function(e){c=e.ResultType},function(e){i=e.CompareType}],execute:function(){r._RF.push({},"e02b4lHccNNFZG6dic6fVmS","CompareAction",void 0);e("CompareAction",function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.evaluate=function(e,t){switch(this.Compare){case i.Equal:return e==t?c.ok:c.fail;case i.Greater:return e>t?c.ok:c.fail;case i.Less:return e<t?c.ok:c.fail;case i.GreaterEqual:return e>=t?c.ok:c.fail;case i.LessEqual:return e<=t?c.ok:c.fail}},n(r,[{key:"Compare",get:function(){return 0}}]),r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/CompareProperty.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CompareAction.ts","./PropertyType.ts","./CompareType.ts","./TreeNodeRegister.ts"],(function(e){var r,t,o,n,p,a,i;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy},function(e){n=e.CompareAction},function(e){p=e.PropertyType},function(e){a=e.CompareType},function(e){i=e.TreeNodeRegister}],execute:function(){var u;o._RF.push({},"521edXlJTNKaZPXtg7+a3th","CompareProperty",void 0);e("CompareProperty",i("CompareProperty")(u=function(e){function o(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=e.call.apply(e,[this].concat(o))||this).Property=p.health,r.Value=0,r.CompareType=a.Equal,r}return r(o,e),o.prototype.onUpdate=function(e){var r=this.mgr.owner;return this.evaluate(r.GetProperty(this.Property),this.Value)},t(o,[{key:"Compare",get:function(){return this.CompareType}}]),o}(n))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CompareType.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"ff1eduD54RO6LT8BLrTriRq","CompareType",void 0);e("CompareType",function(e){return e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e[e.Less=2]="Less",e[e.GreaterEqual=3]="GreaterEqual",e[e.LessEqual=4]="LessEqual",e}({})),e("ItemCheckType",function(e){return e[e.ConfigId=0]="ConfigId",e[e.TypeId=1]="TypeId",e[e.Mask=2]="Mask",e[e.TargetTable=3]="TargetTable",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/CompleteOrder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./QuestManager.ts","./TreeNodeRegister.ts"],(function(e){var t,n,r,o,i,u,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ResultType},function(e){i=e.MemoryDefine},function(e){u=e.QuestManager},function(e){s=e.TreeNodeRegister}],execute:function(){var c;n._RF.push({},"37f1eUMKBBFdLiTdDkEy3uP","CompleteOrder",void 0);e("CompleteOrder",s("CompleteOrder")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.mgr.owner,n=t.Memory.get(i.order);return n?u.Instance.CompleteOrder(n.sid,t)?o.ok:o.running:o.fail},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Condition.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"1c6848YcTdLSLXRVdaTcAd0","Condition",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Condition2.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"e8646VwExBJ0YrOZnBHuMli","Condition",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Conditional.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var n,e,i,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Decorator},function(t){r=t.ResultType},function(t){o=t.TreeNodeRegister}],execute:function(){var l;e._RF.push({},"8f872ZOSRtOPLKni0JQZG4W","Conditional",void 0);t("Conditional",o("Conditional")(l=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this)._maxChildrenCount=99,n}n(e,t);var i=e.prototype;return i.onStart=function(){t.prototype.onStart.call(this);for(var n=0;n<this._children.length;n++){var e=this.GetChildByIdx(n);null==e||e.onStart()}},i.onEnd=function(){t.prototype.onEnd.call(this);for(var n=0;n<this._children.length;n++){var e=this.GetChildByIdx(n);null==e||e.onEnd()}},i.onDecoratorUpdate=function(t){if(0==this._children.length)return r.fail;var n=this._children.length-1;if(this._children.length>1)for(var e=0;e<n;e++){var i=this.GetChildByIdx(e);if((null==i?void 0:i.onUpdate(t))!=r.ok)return r.fail}var o=this.GetChildByIdx(n);return null==o?r.fail:o.onUpdate(t)},e}(i))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ConditionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DateConditionConfig.ts","./DateCondition.ts","./CheckEnemyCondition.ts","./CheckEnemyConfig.ts"],(function(n){var e,t,o,i,r,a,c,C;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){t=n.cclegacy},function(n){o=n.DateConditionConfigHeaders,i=n.DateConditionConfigData},function(n){r=n.DateCondition},function(n){a=n.CheckEnemyCondition},function(n){c=n.CheckEnemyConfigHeaders,C=n.CheckEnemyConfigData}],execute:function(){n({ConditionRegister:f,GetCondition:function(n){0==s.size&&(f(i,o,r),f(C,c,a));var e=s.get(n);if(!e)return;var t=e[0],u=e[1],d=new(0,e[2]);d.ID=n;for(var g=0;g<u.length;g++){var v=u[g];d[v]=t[g]}return d}}),t._RF.push({},"72503PskstKeZC9E5demSWy","ConditionManager",void 0);var s=new Map;function f(n,t,o){for(var i,r=e(n);!(i=r()).done;){var a=i.value,c=a[0],C=a[1];s.set(c,[C,t,o])}}t._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({GetConfig:function(n,t){return e[n].Data[t]},RegisterConfig:function(n){return function(t){e[n]=t}}}),t._RF.push({},"5da5eJ5S65JKafp7wpBtUt4","ConfigManager",void 0);var e={};t._RF.pop()}}}));

System.register("chunks:///_virtual/ConfirmTip.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,o,r,l,a,c,s,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.RichText,c=t.Node,s=t.Label,u=t.Button,p=t.Component}],execute:function(){var b,f,C,h,v,y,d,g,m,T,L;r._RF.push({},"32aedLKrv1I86QQybsP3POF","ConfirmTip",void 0);var I=l.ccclass,E=l.property;t("ConfirmTip",(b=I("ConfirmTip"),f=E(a),C=E(a),h=E(c),v=E(c),b((g=n((d=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return n=t.call.apply(t,[this].concat(r))||this,i(n,"text",g,o(n)),i(n,"tittle",m,o(n)),i(n,"btnOk",T,o(n)),i(n,"btnCancel",L,o(n)),n.btn=null,n}e(n,t);var r=n.prototype;return r.Show=function(t,n,e,i,o,r){var l=this;void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),this.tittle.string=t,this.text.string=n,e&&(this.btnOk.getComponentInChildren(s).string=e),i&&(this.btnCancel.getComponentInChildren(s).string=i),this.btnOk.off(u.EventType.CLICK),this.btnOk.on(u.EventType.CLICK,o||function(){l.node.active=!1}),this.btnCancel.off(u.EventType.CLICK),this.btnCancel.on(u.EventType.CLICK,r||function(){l.node.active=!1})},r.onLoad=function(){var t=this;this.btn=this.node.getChildByName("Close"),this.btn&&(this.btn.off(u.EventType.CLICK),this.btn.on(u.EventType.CLICK,(function(){t.node.active=!1})))},r.onEnable=function(){},n}(p)).prototype,"text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(d.prototype,"tittle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(d.prototype,"btnOk",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(d.prototype,"btnCancel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ConstBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts"],(function(t){var n,u,f;return{setters:[function(t){n=t.inheritsLoose},function(t){u=t.cclegacy},function(t){f=t.Buff}],execute:function(){u._RF.push({},"3cdb7YfI9hJqYMubpF+OQsZ","ConstBuff",void 0);t("ConstBuff",function(t){function u(){return t.apply(this,arguments)||this}return n(u,t),u}(f));u._RF.pop()}}}));

System.register("chunks:///_virtual/ConstBuffConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({ConstBuffConfigGet:function(n,t){var o=f.get(n);return null==o?void 0:o[t]},ConstBuffConfigSetup:function(n,t){var e=f.get(n);if(!e)throw new Error("id:"+n+" is null");t.ID=n;for(var i=0;i<o.length;i++){var r=o[i];t[r]=Array.isArray(e[i])?[].concat(e[i]):e[i]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"56d41HwCIlG56L2M61qMiqo","ConstBuffConfig",void 0);var f=n("ConstBuffConfigData",new Map([[2001,["身强体壮","",.5,[1001]]],[2002,["​​天资聪颖","",.5,[1001]]],[2003,["疾如闪电","",.5,[1001]]],[2004,["铜皮铁骨","",.5,[1001]]],[2005,["​​百步穿杨","",.5,[1001]]],[2006,["魅力四射","",.5,[1001]]],[2007,["厄运缠身","",.5,[1001]]],[2008,["剑术宗师","",.5,[1001]]],[2009,["天选之人","",.5,[1001]]]])),o=n("ConstBuffConfigHeaders",["Name","Description","radius","effects"]);n("ConstBuffConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.radius=2]="radius",n[n.effects=3]="effects",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ConstDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"699c0L5CWpEk7Foo7yWuxNL","ConstDefine",void 0);e("default",{mapWidth:10,mapHeight:5});t._RF.pop()}}}));

System.register("chunks:///_virtual/ContinueState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewManager.ts","./VillageScene.ts","./WorldStateEnum.ts","./SaveManager.ts","./ActorManager.ts","./PlayerDataManager.ts"],(function(t){var n,e,a,r,o,i,c,u,s,l;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy},function(t){a=t.ViewManager},function(t){r=t.VillageScene},function(t){o=t.WorldStateEnum},function(t){i=t.LoadCurrentUserData,c=t.LoadCurrentEquips,u=t.LoadCurrentActors},function(t){s=t.ActorManager},function(t){l=t.PlayerDataManager}],execute:function(){e._RF.push({},"e82bbqaOS1BFoKStc9J7zQ7","ContinueState",void 0);t("ContinueState",function(){function t(t){this.world=void 0,this.world=t}var e=t.prototype;return e.onStart=function(){a.instance.init(),l.Init(!1),l.ModifyGold(0);var t=r.instance;t.onStart();i();for(var e,o=c(),f=u(),g=n(f);!(e=g()).done;){var S=e.value,d=s.instance.RegisterJsonActor(S);if(t.actorJoinScene(d),o)for(var p=new Array(0),v=0;v<S._package.length;v++){var M=S._package[v],w=o.get(M);w&&(M?(p[v]=t.SpawnOriginItem(w.ID),p[v].OnSpawn(t),p[v].fromJSON(w),d.EquipItem(p[v])):p[v]=null)}}},e.onUpdate=function(t){this.world.ChangeState(o.Play)},e.onEnd=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ConvertConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({ConvertConfigGet:function(n,t){var r=e.get(n);return null==r?void 0:r[t]},ConvertConfigSetup:function(n,t){var o=e.get(n);if(!o)throw new Error("id:"+n+" is null");t.ID=n;for(var a=0;a<r.length;a++){var i=r[a];t[i]=Array.isArray(o[a])?[].concat(o[a]):o[a]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"9c0baI6tTJENpIPvAspiY4+","ConvertConfig",void 0);var e=n("ConvertConfigData",new Map([[10001,["篝火",[136,137,138],[133,134,135]]],[10002,["销售台清单",[107,111,117],[]]],[10003,["熔炼清单",[121,122,123,124],[127,128,129,130]]],[10004,["加工台",[106,116,112],[107,117,111]]],[10005,["",[],[]]],[10006,["",[],[]]],[10007,["",[],[]]],[10008,["",[],[]]],[10009,["",[],[]]],[10010,["",[],[]]],[10011,["",[],[]]],[10012,["",[],[]]],[10013,["",[],[]]],[10014,["",[],[]]],[10015,["",[],[]]],[10016,["",[],[]]],[10017,["",[],[]]],[10018,["",[],[]]],[10019,["",[],[]]],[10020,["",[],[]]],[10021,["",[],[]]],[10022,["",[],[]]],[10023,["",[],[]]],[10024,["",[],[]]],[10025,["",[],[]]],[10026,["",[],[]]]])),r=n("ConvertConfigHeaders",["Name","Item","Target"]);n("ConvertConfigField",function(n){return n[n.Name=0]="Name",n[n.Item=1]="Item",n[n.Target=2]="Target",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CoolDown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var o,r,e,n,i;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy},function(t){e=t.Decorator},function(t){n=t.ResultType},function(t){i=t.TreeNodeRegister}],execute:function(){var s;r._RF.push({},"74bfcrYEdhFnoBZ81sSW5ot","CoolDown",void 0);t("CoolDown",i("CoolDown")(s=function(t){function r(){for(var o,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).duration=0,o.timer=0,o}o(r,t);var e=r.prototype;return e.onStart=function(){t.prototype.onStart.call(this)},e.onDecoratorUpdate=function(t){if(this.mgr.TimePass-this.timer>this.duration){var o=this.updateChild(t);return o!=n.running&&(this.timer=this.mgr.TimePass),o}return n.fail},r}(e))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/CraftAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Progress.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(t){var e,n,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Progress},function(t){r=t.MemoryDefine},function(t){i=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"9d211kA6VVD9JaaKznp6tOj","CraftAction",void 0);t("CraftAction",i("CraftAction")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onStart=function(){t.prototype.onStart.call(this);this.owner.Memory.get(r.targetItem);this.Duration=3},o.onEnd=function(){t.prototype.onEnd.call(this)},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CraftBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(r){var e,t,i;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy},function(r){i=r.Behavior}],execute:function(){t._RF.push({},"5d3d7BnBapMDLzphsOL7fOo","CraftBehavior",void 0);r("CraftBehavior",function(r){function t(){var e;return(e=r.call(this)||this)._behaviorType="CraftBehavior",e}return e(t,r),t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/CraftPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemBoxConfig.ts","./ItemConfig.ts","./FormulaConfig.ts","./BundleResManager.ts","./VillageScene.ts","./ShowMessageManager.ts"],(function(t){var e,o,i,n,s,r,a,l,h,c,u,p,d,f,v,g,m,y,C,R,w,T,S,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Button,l=t.Node,h=t.Label,c=t.Vec2,u=t.Vec3,p=t.Sprite,d=t.UITransform,f=t.Color,v=t.instantiate,g=t.Component},function(t){m=t.ItemBoxConfigGet,y=t.ItemBoxConfigField},function(t){C=t.ItemConfigGet,R=t.ItemConfigField},function(t){w=t.FormulaConfigSetup},function(t){T=t.LoadSprite},function(t){S=t.VillageScene},function(t){P=t.ShowMessageManager}],execute:function(){var I,b,x,D,E,M,N,z,B,L,U,F,_,H;s._RF.push({},"60ae1qxWrpPl41+fkibCyIV","CraftPanel",void 0);var O=r.ccclass,A=r.property,V=(t("CraftPanel",(I=O("CraftPanel"),b=A(a),x=A(l),D=A(l),E=A(l),M=A(h),I(((H=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"closeBtn",B,n(e)),i(e,"slotRoot",L,n(e)),i(e,"touchTest",U,n(e)),i(e,"preview",F,n(e)),i(e,"previewLb",_,n(e)),e.formulaID=1041,e.previewSprite=null,e.state=V.None,e.timer=0,e.mousePos=new c,e.localPoint=new u,e.detailRoot=void 0,e}o(e,t);var s=e.prototype;return s.onLoad=function(){var t=this.node.getChildByName("Details");if(!t)throw new Error("CraftPanel: Details node not found!");this.detailRoot=t,this.previewSprite=this.preview.getComponent(p);var e=this.node;this.closeBtn.node.on(a.EventType.CLICK,(function(){e.destroy()}))},s.onEnable=function(){this.clear(),this.slotRoot.active=!0,this.preview.active=!1,this.detailRoot.active=!0,this.node.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this)},s.onDisable=function(){this.clear(),this.slotRoot.active=!1,this.preview.active=!1,this.detailRoot.active=!1,this.node.off(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},s.onTouchStart=function(t){this.mousePos=t.getUILocation();var e=new u(this.mousePos.x,this.mousePos.y,0);this.localPoint=this.node.getComponent(d).convertToNodeSpaceAR(e),this.state=V.Ready},s.onTouchMove=function(t){if(this.state==V.Dragging){this.mousePos=t.getUILocation();var e=new u(this.mousePos.x,this.mousePos.y,0);this.localPoint=this.node.getComponent(d).convertToNodeSpaceAR(e),this.preview.position=new u(this.localPoint.x,this.localPoint.y,0);var o=S.instance.GetItem(this.localPoint.x,this.localPoint.y);this.previewSprite.color=o?f.RED:f.WHITE}},s.onTouchEnd=function(t){this.mousePos=t.getUILocation();var o=new u(this.mousePos.x,this.mousePos.y,0);if(this.state==V.Dragging){var i=100*Math.floor(this.preview.position.x/100)+50,n=100*Math.floor(this.preview.position.y/100)+50,s=S.instance,r=s.GetItem(this.localPoint.x,this.localPoint.y);if(r)P.instance.Show("这地方有东西了，换个位置吧",r.position,2,null,255,0,0);else s.SpawnItem(i,n,249).SetTarget(e.selected);this.node.destroy()}else for(var a=this.slotRoot.getComponent(d).convertToNodeSpaceAR(o),l=this.slotRoot.children.length,h=0;h<l;h++){var c=this.slotRoot.children[h].getComponent(d),p=c.contentSize.width/2,f=c.contentSize.height/2,v=this.slotRoot.children[h].position;if(v.x-p<a.x&&v.x+p>=a.x&&v.y-f<a.y&&v.y+f>=a.y){var g=e.list[h];this.UpdateDetail(g);break}}this.clear()},s.init=function(){this.formulaID=arguments.length<=0?void 0:arguments[0],this.InitSlots()},s.tryFind=function(t,e){for(var o=this.slotRoot.children.length,i=0;i<o;i++){var n=this.slotRoot.children[i].getComponent(d),s=n.contentSize.width/2,r=n.contentSize.height/2,a=this.slotRoot.children[i].position;if(a.x-s<t&&a.x+s>=t&&a.y-r<e&&a.y+r>=e)return[!0,i,a.x,a.y]}return[!1,0,0,0]},s.clear=function(){this.state=V.None,this.timer=0},s.update=function(t){if(this.state==V.Ready&&(this.timer+=t,this.timer>.5)){var o=new u(this.mousePos.x,this.mousePos.y,0),i=this.slotRoot.getComponent(d).convertToNodeSpaceAR(o);this.detailRoot.active=!1;var n=this.tryFind(i.x,i.y),s=n[0],r=n[1];n[2],n[3];s?(this.state=V.Dragging,this.previewLb.string=this.slotRoot.children[r].getComponentInChildren(h).string,this.preview.worldPosition=o,this.slotRoot.active=!1,this.preview.active=!0,e.selected=e.list[r]):this.state=V.None}},s.UpdateDetail=function(t){var e=this,o={};w(t,o);for(var i=this.detailRoot.children.length,n=o.Mat.length,s=i;s<n;s++){v(this.detailRoot.children[0]).setParent(this.detailRoot)}for(var r=function(){var t=e.detailRoot.children[a];if(t.active=a<n,t.active){var i=C(o.Mat[a],R.Icon),s=t.getChildByName("Icon").getComponent(p);T(i).then((function(t){s.spriteFrame=t})),t.getComponentInChildren(h).string=C(o.Mat[a],R.Name)+" x"+o.MatCount[a]}},a=0;a<this.detailRoot.children.length;a++)r()},s.InitSlots=function(){var t=this;e.list=m(this.formulaID,y.Item);var o=this.slotRoot.children.length;e.CellSize=this.slotRoot.children[0].getComponent(d).contentSize.width;for(var i=o;i<e.list.length;i++){v(this.slotRoot.children[0]).setParent(this.slotRoot)}for(var n=function(){var o=t.slotRoot.children[s].getComponentInChildren(h),i=e.list[s],n=t.slotRoot.children[s].getChildByName("Sprite").getComponent(p);o.string=C(i,R.Name);var r=C(i,R.Icon);T(r).then((function(t){n.spriteFrame=t}))},s=0;s<e.list.length;s++)n()},e}(g)).selected=void 0,H.list=void 0,H.CellSize=160,B=e((z=H).prototype,"closeBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(z.prototype,"slotRoot",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"touchTest",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"preview",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(z.prototype,"previewLb",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=z))||N)),function(t){return t[t.None=0]="None",t[t.Dragging=1]="Dragging",t[t.Drop=2]="Drop",t[t.Ready=3]="Ready",t}(V||{}));s._RF.pop()}}}));

System.register("chunks:///_virtual/CraftQuest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MemoryDefine.ts","./Quest.ts","./FormulaConfig.ts","./RootManager.ts"],(function(t){var e,n,i,r,o,s,a,u,f,l,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.resources,r=t.Prefab,o=t.instantiate,s=t.RichText,a=t.Vec3},function(t){u=t.MemoryDefine},function(t){f=t.Quest},function(t){l=t.FormulaConfigGet,c=t.FormulaConfigField},function(t){h=t.RootManager}],execute:function(){n._RF.push({},"e9487yGsD1KOJq4r2q4Pn6z","CraftQuest",void 0);t("CraftQuest",function(t){function n(e){var n;return(n=t.call(this,e)||this).item=0,n.Materials=void 0,n.MaterialCount=void 0,n.CurrentCount=void 0,n.pos=new a,n.prefab=void 0,n.useTargetPos=!1,n.type="CraftQuest",n}e(n,t);var f=n.prototype;return f.init=function(t){var e;this.item=l(t,c.Target),this.Materials=l(t,c.Mat),this.MaterialCount=l(t,c.MatCount),this.CurrentCount=new Array(null==(e=this.Materials)?void 0:e.length),this.CurrentCount.fill(0)},f.InitWithPos=function(t,e){var n=this;this.useTargetPos=!0,this.init(t),this.pos=e.clone(),i.load("prefabs/model",r,(function(t,i){if(t)throw t;n.prefab=o(i);var r=n.prefab.getComponentInChildren(s);r&&(r.string="建造中..."),n.prefab.setParent(h.instance.SceneRoot),n.prefab.position=e,n.prefab.active=!0}))},f.Commit=function(t){var e=this.InternalCommit(10);if(e){t.Memory.set(u.order,null);var n=this.useTargetPos?this.pos:t.position;t.scene.SpawnItem(n.x,n.y,this.item),this.done()}return e},f.done=function(){this.prefab.active=!1},f.SubmitMat=function(t,e){if(console.error("Submit",t,e),this.CurrentCount[t]+=e,this.CurrentCount[t]>=this.MaterialCount[t]){for(var n=0;n<this.MaterialCount.length;n++)if(this.CurrentCount[n]<this.MaterialCount[n])return!1;return!0}return!1},n}(f));n._RF.pop()}}}));

System.register("chunks:///_virtual/CraftTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./FoundationItem.ts","./UIManager.ts","./ItemCraftPanel.ts","./ItemFunc.ts"],(function(t){var e,n,i,a,s,r,u,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){a=t.ItemRegister},function(t){s=t.FoundationItem},function(t){r=t.UIManager},function(t){u=t.ItemCraftPanel},function(t){o=t.ItemFunc}],execute:function(){var c;i._RF.push({},"d45c0hJecxPKpafDpiDRX9q","CraftTable",void 0);t("CraftTable",a("CraftTable")(c=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).targetQueue=[],e}e(i,t);var a=i.prototype;return a.OnContextShow=function(){var e=this;t.prototype.OnContextShow.call(this,!1),o.instance.Append("打开",(function(){r.instance.ShowPanel("prefabs/ItemCraftPanel",(function(t){t.getComponent(u).Init(e)})),o.instance.node.active=!1})),o.instance.End(this)},a.Complete=function(){var t=this.targetQueue[0];this.scene.SpawnItemInNearCell(this.position.x,this.position.y,t),this.targetQueue.splice(0,1),0==this.targetQueue.length?(this.matList=[],this.matNum=[]):this.SetTarget(this.targetQueue[0])},a.HasJob=function(){return 0!=this.targetQueue.length&&t.prototype.HasJob.call(this)},a.TryRemove=function(t){var e=this.targetQueue.length;return 0==e&&(this.matList=[],this.matNum=[],this.progress=[]),t<e?(this.targetQueue.splice(t,1),1):0},a.GetMission=function(){return 0==this.targetQueue.length?[void 0,0]:t.prototype.GetMission.call(this)},a.Push=function(t){var e=this.targetQueue.length;return 0==e?(this.targetQueue.push(t),this.SetTarget(t),1):e<6?(this.targetQueue.push(t),1):0},n(i,[{key:"ToDescription",get:function(){return this.Name}},{key:"ToString",get:function(){return""+this.Name}}]),i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/CreateItemAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Action},function(t){o=t.ResultType},function(t){r=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"17ae7FkMINHIoKhfO6SPSt8","CreateItemAction",void 0);t("CreateItemAction",r("CreateItemAction")(s=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).duration=3,e.itemID=0,e.t=0,e}e(n,t);var i=n.prototype;return i.onStart=function(){this.t=0,this.duration=1},i.onUpdate=function(t){if(this.t+=t,console.error("wait "+this.t+" "+t),this.t>=this.duration){this.t=0;var e=this.mgr.owner,n=e.position.x+c(-50,50),i=e.position.y+c(-50,50);return e.scene.SpawnItem(n,i,this.itemID),o.ok}return o.running},n}(i))||s);function c(t,e){return Math.random()*(e-t)-25}n._RF.pop()}}}));

System.register("chunks:///_virtual/CreateOrder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./QuestManager.ts","./TreeNodeRegister.ts"],(function(e){var t,r,n,o,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.Action},function(e){o=e.ResultType},function(e){i=e.MemoryDefine},function(e){s=e.QuestManager},function(e){u=e.TreeNodeRegister}],execute:function(){var c;r._RF.push({},"e86cahynb1EWbR3HCq/pkgs","CreateOrder",void 0);e("CreateOrder",u("CreateOrder")(c=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).OrderType="",t}return t(r,e),r.prototype.onUpdate=function(e){var t=this.owner.Memory.get(i.order);return t?t.type==this.OrderType?o.ok:o.fail:(s.Instance.CreateQuest(this.OrderType),o.ok)},r}(n))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/DamageEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./PropertyType.ts"],(function(t){var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Effect},function(t){a=t.PropertyType}],execute:function(){n._RF.push({},"0a426ptXMtAbIhDbt4n8/um","DamageEffect",void 0);t("DamageEffect",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).Type=0,e.Value=0,e}e(n,t);var r=n.prototype;return r.ToString=function(t){return"damage"},r.apply=function(t,e,n,r){if(void 0===e&&(e=void 0),void 0===r&&(r=1),1==r)if(0!=this.Type){var i=e.caster;1==this.Type&&t.ChangeHp(-i.GetProperty(a.attack)*this.Value),this.Type}else t.ChangeHp(-this.Value)},r.Release=function(){},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/DamageEffectConfig.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){e({DamageEffectConfigGet:function(e,a){var t=n.get(e);return null==t?void 0:t[a]},DamageEffectConfigSetup:function(e,a){var f=n.get(e);if(!f)throw new Error("id:"+e+" is null");a.ID=e;for(var i=0;i<t.length;i++){var o=t[i];a[o]=Array.isArray(f[i])?[].concat(f[i]):f[i]}"function"==typeof a.onLoad&&a.onLoad()}}),a._RF.push({},"fb219V1bw1B8K6FWsunf4wW","DamageEffectConfig",void 0);var n=e("DamageEffectConfigData",new Map([[1001,["伤害效果","伤害效果",0,5]],[1002,["伤害效果","伤害效果",1,1]],[1003,["伤害效果","伤害效果",1,1]],[1004,["伤害效果","伤害效果",1,1]],[1005,["伤害效果","伤害效果",1,1]],[1006,["伤害效果","伤害效果",1,1]],[1007,["伤害效果","伤害效果",1,1]],[1008,["伤害效果","伤害效果",1,1]]])),t=e("DamageEffectConfigHeaders",["Name","Description","Type","Value"]);e("DamageEffectConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.Type=2]="Type",e[e.Value=3]="Value",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/DateCondition.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"87a00353odN4ZqfxfAg/Xpq","DateCondition",void 0);t("DateCondition",function(){function t(){this.Fail="",this.day=1}return t.prototype.evaluate=function(t,n){return n.scene.DayCount>=this.day},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/DateConditionConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({DateConditionConfigGet:function(n,t){var i=o.get(n);return null==i?void 0:i[t]},DateConditionConfigSetup:function(n,t){var a=o.get(n);if(!a)throw new Error("id:"+n+" is null");t.ID=n;for(var e=0;e<i.length;e++){var r=i[e];t[r]=Array.isArray(a[e])?[].concat(a[e]):a[e]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"d8315ItdL5EgIq4yp3Vznto","DateConditionConfig",void 0);var o=n("DateConditionConfigData",new Map([[311,["",2,"第2天之后才能打开！"]],[312,["",3,"第3天之后才能打开！"]],[313,["",4,"第4天之后才能打开！"]],[314,["",5,"第5天之后才能打开！"]],[315,["",6,"第6天之后才能打开！"]],[316,["",7,"第7天之后才能打开！"]],[317,["",8,"第8天之后才能打开！"]],[318,["",9,"第9天之后才能打开！"]],[319,["",10,"第10天之后才能打开！"]],[320,["",11,"第11天之后才能打开！"]]])),i=n("DateConditionConfigHeaders",["Name","day","Fail"]);n("DateConditionConfigField",function(n){return n[n.Name=0]="Name",n[n.day=1]="day",n[n.Fail=2]="Fail",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Decorator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./ParentNode.ts"],(function(t){var e,o,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.ResultType},function(t){i=t.ParentNode}],execute:function(){o._RF.push({},"46091DZ3JZOQa0891lwGTvO","Decorator",void 0);t("Decorator",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).childNode=void 0,e._maxChildrenCount=1,e._category="decorator",e}e(o,t);var i=o.prototype;return i.onInit=function(e){if(t.prototype.onInit.call(this,e),1!=this._children.length)throw"Decorator must have one child node";var o;this.childNode=this.GetChildByIdx(0),null==(o=this.childNode)||o.onInit(e)},i.onStart=function(){this.childNode&&this.childNode.onStart()},i.onUpdate=function(t){return 0==this._children.length?n.ok:this.onDecoratorUpdate(t)},i.onEnd=function(){this.childNode&&this.childNode.onEnd()},i.updateChild=function(t){if(!this.childNode)return n.fail;var e=this.childNode.onUpdate(t);return e!=this.childNode.nodeState&&(this.mgr.SendMessage(this.childNode._sid,e),this.childNode.nodeState=e),e},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/DelayBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimerBuff.ts"],(function(e){var t,n,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){u=e.TimerBuff}],execute:function(){n._RF.push({},"e4192tb5axFE7RC3PvL/4kV","DelayBuff",void 0);e("DelayBuff",function(e){function n(){var t;return(t=e.call(this)||this).interval=.1,t}return t(n,e),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/DelayBuffConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({DelayBuffConfigGet:function(e,n){var t=f.get(e);return null==t?void 0:t[n]},DelayBuffConfigSetup:function(e,n){var o=f.get(e);if(!o)throw new Error("id:"+e+" is null");n.ID=e;for(var r=0;r<t.length;r++){var i=t[r];n[i]=Array.isArray(o[r])?[].concat(o[r]):o[r]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"bd508/6sEJKQolWzgerBTgY","DelayBuffConfig",void 0);var f=e("DelayBuffConfigData",new Map([[3001,["圆形触发器","",.11,[9101]]],[3002,["圆形触发器","",1,[9002]]],[3003,["圆形触发器","",1,[9002]]],[3004,["圆形触发器","",1,[9002]]],[3005,["圆形触发器","",1,[9002]]],[3006,["圆形触发器","",1,[9002]]],[3007,["圆形触发器","",1,[9002]]],[3008,["圆形触发器","",1,[9002]]]])),t=e("DelayBuffConfigHeaders",["Name","Description","duration","effects"]);e("DelayBuffConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.duration=2]="duration",e[e.effects=3]="effects",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/DelayEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(e){var t,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.Effect}],execute:function(){n._RF.push({},"061c6ZzfBdCHbWpeIUFmAcr","DelayEffect",void 0);e("DelayEffect",function(e){function n(){for(var t,n=arguments.length,c=new Array(n),f=0;f<n;f++)c[f]=arguments[f];return(t=e.call.apply(e,[this].concat(c))||this).delay=.1,t.effects=[],t}t(n,e);var c=n.prototype;return c.ToString=function(e){return""},c.apply=function(e){for(var t=0;t<this.effects.length;t++)this.effects[t]},c.Release=function(){},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/DelayEffectConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({DelayEffectConfigGet:function(e,t){var n=f.get(e);return null==n?void 0:n[t]},DelayEffectConfigSetup:function(e,t){var i=f.get(e);if(!i)throw new Error("id:"+e+" is null");t.ID=e;for(var r=0;r<n.length;r++){var a=n[r];t[a]=Array.isArray(i[r])?[].concat(i[r]):i[r]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"732fczt7GNCyoz/puemNewd","DelayEffectConfig",void 0);var f=e("DelayEffectConfigData",new Map([[2001,["圆形触发器","",.5,[9001]]],[2002,["圆形触发器","",.5,[9001]]],[2003,["圆形触发器","",.5,[9001]]],[2004,["圆形触发器","",.5,[9001]]],[2005,["圆形触发器","",.5,[9001]]],[2006,["圆形触发器","",.5,[9001]]],[2007,["圆形触发器","",.5,[9001]]],[2008,["圆形触发器","",.5,[9001]]]])),n=e("DelayEffectConfigHeaders",["Name","Description","radius","effects"]);e("DelayEffectConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.radius=2]="radius",e[e.effects=3]="effects",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DelayTaskManager.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var e;t._RF.push({},"4319bNAM1ROMZlNiQP2+dDp","DelayTaskManager",void 0);var a=[],r=[],c=n("DelayTaskManager",function(){function n(){}var t=n.prototype;return t.Init=function(){a=[],r=[]},t.Update=function(n){for(var t=a.length-1;t>=0;t--)if(a[t]-=n,a[t]<=0){r[t]&&r[t]();var e=a.length-1;a[t]=a[e],r[t]=r[e],a.pop(),r.pop()}},t.Add=function(n,t){a.push(n),r.push(t)},n}());e=c,c.instance=new e,t._RF.pop()}}}));

System.register("chunks:///_virtual/DisableEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(t){var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.Effect}],execute:function(){i._RF.push({},"adddfI6Wn1HiYnC8mBDXZK2","DisableEffect",void 0);t("DisableEffect",function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.apply=function(e,i,n,o){void 0===i&&(i=void 0),void 0===n&&(n=0),void 0===o&&(o=1),t.prototype.apply.call(this,e,i,n,o),1==o&&e.disable()},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/DisableEffectConfig.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){e({DisableEffectConfigGet:function(e,i){var t=n.get(e);return null==t?void 0:t[i]},DisableEffectConfigSetup:function(e,i){var f=n.get(e);if(!f)throw new Error("id:"+e+" is null");i.ID=e;for(var a=0;a<t.length;a++){var o=t[a];i[o]=Array.isArray(f[a])?[].concat(f[a]):f[a]}"function"==typeof i.onLoad&&i.onLoad()}}),i._RF.push({},"94cbauuU4xIPLlW3zKa3Z2R","DisableEffectConfig",void 0);var n=e("DisableEffectConfigData",new Map([[201,["禁用","禁用"]]])),t=e("DisableEffectConfigHeaders",["Name","Description"]);e("DisableEffectConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/DisableRoleAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(e){var t,n,o,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.TreeNodeRegister},function(e){i=e.Action},function(e){s=e.ResultType}],execute:function(){var r;n._RF.push({},"63e8amkV+hAhrHkNYxULRGf","DisableRoleAction",void 0);e("DisableRoleAction",o("DisableRoleAction")(r=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){return this.owner.enabled=!1,s.ok},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/DoBehaviorById.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./BattleBehavior.ts","./BattleBehaviorConfig.ts","./TreeNodeRegister.ts","./IdleBehavior.ts"],(function(t){var e,o,i,n,r,h,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){i=t.Action},function(t){n=t.ResultType},function(t){r=t.BattleBehavior},function(t){h=t.BattleBehaviorConfigSetup},function(t){s=t.TreeNodeRegister},function(t){a=t.IdleBehavior}],execute:function(){var u;o._RF.push({},"9426eyvQjpHSoKFJS8Bmwtt","DoBehaviorById",void 0);t("DoBehaviorById",s("DoBehaviorById")(u=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).ConfigId=0,e.bh=null,e}return e(o,t),o.prototype.onUpdate=function(t){return this.bh||(this.ConfigId?(this.bh=new r,h(this.ConfigId,this.bh)):this.bh=new a),this.owner.DoBehavior(this.bh)?n.ok:n.fail},o}(i))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/DropConfig.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){n({DropConfigGet:function(n,o){var e=r.get(n);return null==e?void 0:e[o]},DropConfigSetup:function(n,o){var t=r.get(n);if(!t)throw new Error("id:"+n+" is null");o.ID=n;for(var i=0;i<e.length;i++){var a=e[i];o[a]=Array.isArray(t[i])?[].concat(t[i]):t[i]}"function"==typeof o.onLoad&&o.onLoad()}}),o._RF.push({},"4bba0UKTd1Ena1d8dLE4APY","DropConfig",void 0);var r=n("DropConfigData",new Map([[1003,["掉落1",[1301,1301,1301],[10,10,10]]],[102,["掉落2",[106,106,106],[10,10,10]]],[103,["掉落3",[106,106,106],[10,10,10]]],[104,["掉落4",[106,142,142],[10,10,10]]],[105,["掉落5",[106,106,106],[10,10,10]]],[106,["掉落6",[106,106,106],[10,10,10]]],[107,["掉落7",[106,106,106],[10,10,10]]],[108,["掉落8",[106,106,106],[10,10,10]]]])),e=n("DropConfigHeaders",["Name","Item","Weight"]);n("DropConfigField",function(n){return n[n.Name=0]="Name",n[n.Item=1]="Item",n[n.Weight=2]="Weight",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/DropItemAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Action},function(t){r=t.ResultType},function(t){i=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"de608M0bodJ6Yl3/Fypvu4D","DropItemAction",void 0);t("DropItemAction",i("DropItemAction")(s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.position;return this.owner.scene.DropItem(e.x,e.y,this.owner.CarryItem),this.owner.Carry(null),r.ok},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/DualBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts","./EffectManager.ts"],(function(t){var e,f,n,s,c;return{setters:[function(t){e=t.inheritsLoose,f=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){s=t.Buff},function(t){c=t.GetEffect}],execute:function(){n._RF.push({},"530abnbkhVASKfwNSxR57N0","DualBuff",void 0);t("DualBuff",function(t){function n(){for(var e,f=arguments.length,n=new Array(f),s=0;s<f;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).endEffects=void 0,e.endEffectList=[],e}e(n,t);var s=n.prototype;return s.attach=function(e){var n;if(t.prototype.attach.call(this,e),null!=(n=this.effects)&&n.length)for(var s,c=f(this.effectList);!(s=c()).done;){s.value.apply(e,this.context,this.layer)}},s.detach=function(e){var n;if(this.endEffects&&this.endEffects.length>0){this.endEffectList=new Array(this.endEffects.length);for(var s=0;s<this.endEffects.length;s++)this.endEffectList[s]=c(this.endEffects[s])}if(null!=(n=this.endEffects)&&n.length)for(var i,r=f(this.endEffectList);!(i=r()).done;){i.value.apply(e,this.context,this.layer,1)}t.prototype.detach.call(this,e)},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/DualBuffConfig.ts",["cc"],(function(f){var e;return{setters:[function(f){e=f.cclegacy}],execute:function(){f({DualBuffConfigGet:function(f,e){var t=n.get(f);return null==t?void 0:t[e]},DualBuffConfigSetup:function(f,e){var u=n.get(f);if(!u)throw new Error("id:"+f+" is null");e.ID=f;for(var i=0;i<t.length;i++){var o=t[i];e[o]=Array.isArray(u[i])?[].concat(u[i]):u[i]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"12770eJUFFDF5Ou5CGsFFRU","DualBuffConfig",void 0);var n=f("DualBuffConfigData",new Map([[4001,["孕期","速度会减慢，几天后会生下小宝宝",3,[7001,9001],[7002,8001,9002]]],[4002,["圆形触发器","",30,[9001],[9001]]],[4003,["圆形触发器","",0,[9001],[9001]]],[4004,["圆形触发器","",3,[9001],[9001]]],[4005,["圆形触发器","",3,[9001],[9001]]],[4006,["圆形触发器","",3,[9001],[9001]]],[4007,["圆形触发器","",3,[9001],[9001]]],[4008,["圆形触发器","",3,[9001],[9001]]],[4009,["圆形触发器","",3,[9001],[9001]]]])),t=f("DualBuffConfigHeaders",["Name","Description","duration","effects","endEffects"]);f("DualBuffConfigField",function(f){return f[f.Name=0]="Name",f[f.Description=1]="Description",f[f.duration=2]="duration",f[f.effects=3]="effects",f[f.endEffects=4]="endEffects",f}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/DungeonConfig.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){n({DungeonConfigGet:function(n,e){var t=o.get(n);return null==t?void 0:t[e]},DungeonConfigSetup:function(n,e){var i=o.get(n);if(!i)throw new Error("id:"+n+" is null");e.ID=n;for(var r=0;r<t.length;r++){var u=t[r];e[u]=Array.isArray(i[r])?[].concat(i[r]):i[r]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"4d536B7sLlEe5iI7KwtX4Dg","DungeonConfig",void 0);var o=n("DungeonConfigData",new Map([[1001,["地下城1",[[0,0,1043],[1,0,1042],[1,1,114]],[103]]],[1002,["地下城2",[[0,0,1043],[1,0,1042]],[103]]],[1003,["地下城3",[[0,0,1043],[1,0,1042]],[103]]],[1004,["地下城4",[[0,0,1043],[1,0,1042]],[103]]],[1005,["地下城5",[[0,0,1043],[1,0,1042]],[103]]],[1006,["地下城6",[[0,0,1043],[1,0,1042]],[103]]],[1007,["地下城7",[[0,0,1043],[1,0,1042]],[103]]],[1008,["地下城8",[[0,0,1043],[1,0,1042]],[103]]],[1009,["地下城9",[[0,0,1043],[1,0,1042]],[103]]],[1010,["地下城10",[[0,0,1043],[1,0,1042]],[103]]],[1011,["地下城11",[[0,0,1043],[1,0,1042]],[103]]],[1012,["地下城12",[[0,0,1043],[1,0,1042]],[103]]],[1013,["地下城13",[[0,0,1043],[1,0,1042]],[103]]],[1014,["地下城14",[[0,0,1043],[1,0,1042]],[103]]],[1015,["地下城15",[[0,0,1043],[1,0,1042]],[103]]],[1016,["地下城16",[[0,0,1043],[1,0,1042]],[103]]],[1017,["地下城17",[[0,0,1043],[1,0,1042]],[103]]],[1018,["地下城18",[[0,0,1043],[1,0,1042]],[103]]]])),t=n("DungeonConfigHeaders",["Name","FixItem","RandItem"]);n("DungeonConfigField",function(n){return n[n.Name=0]="Name",n[n.FixItem=1]="FixItem",n[n.RandItem=2]="RandItem",n}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/DungeonEntrance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./ItemFunc.ts","./UIManager.ts"],(function(n){var e,t,c,o,i,u;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){c=n.ItemRegister},function(n){o=n.SceneItem},function(n){i=n.ItemFunc},function(n){u=n.UIManager}],execute:function(){var r;t._RF.push({},"339f27pv6BLO47fg682qVn8","DungeonEntrance",void 0);n("DungeonEntrance",c("DungeonEntrance")(r=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var c=t.prototype;return c.OnContextShow=function(n){i.instance.ShowSingleTip(this,"进入",this.Enter)},c.Enter=function(){u.instance.ShowPanel("prefabs/DungeonEntrancePanel",null),i.instance.node.active=!1},t}(o))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/DungeonEntrancePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts","./CameraManager.ts","./DungeonScene.ts","./UIManager.ts"],(function(e){var n,t,i,o,a,r,l,c,s,u,d,p,f,g,h,m,v,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,s=e.RichText,u=e.Button,d=e.Vec3,p=e.instantiate,f=e.Component,g=e.Toggle},function(e){h=e.VillageScene},function(e){m=e.CameraManager},function(e){v=e.DungeonScene},function(e){y=e.UIManager}],execute:function(){var b,I,C,P,D,R,B,T,E,L,w,z;r._RF.push({},"89d80uRJN1HpZq+fnLY/tPA","DungeonEntrancePanel",void 0);var S=l.ccclass,N=l.property;e("DungeonEntrancePanel",(b=S("DungeonEntrancePanel"),I=N(c),C=N(s),P=N(c),D=N(c),b(((z=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).closeBtn=null,i(n,"detailRoot",T,o(n)),i(n,"num",E,o(n)),i(n,"outBtn",L,o(n)),i(n,"itemTmp",w,o(n)),n.select=0,n.selectRole=null,n.selectNode=null,n.localHouse=void 0,n.seatStatus=void 0,n.selectedIndices=new Set,n.keepPause=!1,n}t(n,e);var r=n.prototype;return r.onLoad=function(){var e=this;this.closeBtn=this.node.getChildByName("Close"),this.closeBtn.on(u.EventType.CLICK,(function(){e.node.destroy()}))},r.onEnable=function(){var e=this;h.instance.isPaused=!0,this.outBtn.on(u.EventType.CLICK,(function(){if(0!=e.selectedIndices.size){m.instance.node.position=new d(2e3,0,0),y.instance.panelRoot.position=new d(2e3,0,0),v.instance.loadDungeon(null);for(var n,t=a(e.selectedIndices);!(n=t()).done;){var i=n.value;v.instance.actorJoinScene(i)}e.keepPause=!0,e.node.destroy()}}));for(var n=h.instance.actors.filter((function(e){return 1==e.Camp})),t=0;t<n.length;t++){p(this.itemTmp).setParent(this.detailRoot)}for(var i=function(){var t=e.detailRoot.children[o];t.active=!0,e.setItem(e.detailRoot.children[o],n[o]);var i=n[o];t.on(g.EventType.TOGGLE,(function(n){n.isChecked?e.selectedIndices.add(i):e.selectedIndices.delete(i),e.num.string=e.selectedIndices.size+" / 5"}))},o=0;o<n.length;o++)i()},r.onDisable=function(){this.keepPause||(h.instance.isPaused=!1)},r.setItem=function(e,n){e.getChildByName("Label").getComponent(s).string=n.Name},n}(f)).houseItem=void 0,T=n((B=z).prototype,"detailRoot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(B.prototype,"num",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(B.prototype,"outBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(B.prototype,"itemTmp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=B))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/DungeonMap.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("floorTest",(function(){})),t._RF.push({},"0dc8a97HMBEuKA7a4Thbbkf","DungeonMap",void 0);n("DungeonMap",function(){function n(){}var t=n.prototype;return t.InitMap=function(){},t.Active=function(){},t.onUpdate=function(n){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/DungeonScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameScene.ts","./MemoryDefine.ts","./PropertyType.ts","./DungeonConfig.ts"],(function(n){var e,t,o,i,c,u,s,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n.Vec3},function(n){i=n.GameScene},function(n){c=n.MemoryDefine},function(n){u=n.IntentionType},function(n){s=n.DungeonConfigGet,r=n.DungeonConfigField}],execute:function(){var a;t._RF.push({},"93458SkdKtIwqhCusPI0VVV","DungeonScene",void 0);var f=n("DungeonScene",function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var i=t.prototype;return i.init=function(){this.isPaused=!0,this.x=2e3},i.loadDungeon=function(n){var e=this;this.isPaused=!1,s(1001,r.FixItem).forEach((function(n){e.SpawnItemByRowCol(n[0],n[1],n[2])})),s(1001,r.RandItem).forEach((function(n){e.RandomItem(n)}))},i.onUpdate=function(e){n.prototype.onUpdate.call(this,e)},i.actorJoinScene=function(n){n.scene=this,n.position=new o(2e3,0,0),n.Memory.set(c.intention,u.none),this.actors.push(n)},t}(i));a=f,f.instance=new a,t._RF.pop()}}}));

System.register("chunks:///_virtual/EarthItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./TemplateManager.ts","./RootManager.ts","./BundleResManager.ts","./ItemSchema.ts","./ItemFunc.ts","./ItemConfig.ts","./RandomUtils.ts"],(function(t){var e,n,i,o,r,a,s,c,p,u,h,l,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,o=t.Sprite},function(t){r=t.SceneItem},function(t){a=t.TemplateManager},function(t){s=t.RootManager},function(t){c=t.LoadSprite},function(t){p=t.ItemRegister},function(t){u=t.ItemFunc},function(t){h=t.ItemConfigGet,l=t.ItemConfigField},function(t){f=t.RandomInt}],execute:function(){var g;i._RF.push({},"b04851fhKJCHafO+tyZBQ6H","EarthItem",void 0);t("EarthItem",p("EarthItem")(g=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).targetID=0,e.plantView=void 0,e.progress=0,e.dayCare=!1,e}e(i,t);var r=i.prototype;return r.NeedCare=function(){return this.targetID>0&&!this.dayCare},r.DayCall=function(){t.prototype.DayCall.call(this),this.dayCare=!1},r.OnInteract=function(){this.progress+=f(30,40),this.progress>=100&&this.Harvest()},r.takeCare=function(){this.dayCare=!0},r.OnContextShow=function(e){var n=this;if(0==this.targetID){var i=u.instance;i.Begin(this),i.Append("播种玉米",(function(){n.Seed(),n.targetID=137,i.node.active=!1})),i.Append("播种小麦",(function(){n.Seed(),n.targetID=256,i.node.active=!1})),i.End(this)}else t.prototype.OnContextShow.call(this,e)},r.Seed=function(){var t=a.Instance.Spawn("Sprite");this.plantView=t;var e=t.getComponent(o);c("small_grass_01").then((function(t){e.spriteFrame=t})),t.setParent(s.instance.SceneRoot),t.position=this.position.clone()},r.Harvest=function(){var t;null==(t=this.plantView)||t.destroy(),this.plantView=null,this.scene.SpawnItemInNearCell(this.position.x,this.position.y,this.targetID),this.targetID=0,this.progress=0},r.OnRemove=function(){this.plantView&&this.plantView.destroy()},n(i,[{key:"ToString",get:function(){return" "}},{key:"ToDescription",get:function(){return this.targetID>0?"<color=green>"+h(this.targetID,l.Name)+"</color>成长中\n "+this.progress+" / 100":t.prototype.ToDescription}}]),i}(r))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/EatAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts","./ActorMask.ts"],(function(t){var e,n,o,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Action},function(t){i=t.ResultType},function(t){r=t.TreeNodeRegister},function(t){s=t.ActorMask}],execute:function(){var c;n._RF.push({},"2d23btcqhJEkqLKtdgx67nG","EatAction",void 0);t("EatAction",r("EatAction")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.position,n=this.owner.scene.GetItem(e.x,e.y);return n&&n.CanEat?(this.owner.scene.RemoveItemByPos(e.x,e.y),this.owner.clearMask(s.hunger),console.error("吃掉物品"),i.ok):i.fail},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/EatBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(e){var t,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){r=e.Behavior}],execute:function(){i._RF.push({},"9907aCeAi5LsZSLMxDGEvCj","EatBehavior",void 0);e("EatBehavior",function(e){function i(){var t;return(t=e.call(this)||this)._behaviorType="EatBehavior",t}return t(i,e),i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/Effect.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"a7f46VnJMtKO50dys5pBIBC","Effect",void 0);t("Effect",function(){function t(){this.ID=void 0,this.Name=void 0}var n=t.prototype;return n.apply=function(t,n,e,c){},n.Release=function(){},n.ToString=function(t){return this.Name},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectCaster.ts",["cc","./EffectManager.ts"],(function(t){var e,f;return{setters:[function(t){e=t.cclegacy},function(t){f=t.GetEffect}],execute:function(){e._RF.push({},"8764bvPivxEkaE5LB7nUYzU","EffectCaster",void 0);t("EffectCaster",function(){function t(){this.effects=[],this.EffectItem=void 0}return t.prototype.onLoad=function(){if(!this.EffectItem){this.EffectItem=new Array(this.effects.length);for(var t=0;t<this.effects.length;t++)if(this.EffectItem[t]=f(this.effects[t]),!this.EffectItem[t])throw new Error("Effect:"+this.effects[t]+" is not exist")}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropertyModifier.ts","./ModifierEffectConfig.ts","./DamageEffectConfig.ts","./DamageEffect.ts","./DelayEffectConfig.ts","./DelayEffect.ts","./HitStiffEffectConfig.ts","./HitStiffEffect.ts","./StunEffectConfig.ts","./StunEffect.ts","./HitBackEffectConfig.ts","./HitBackEffect.ts","./ChangeColorEffect.ts","./ChangeColorEffectConfig.ts","./LogEffectConfig.ts","./LogEffect.ts","./ScaleEffectConfig.ts","./ScaleEffect.ts","./GiftEffectConfig.ts","./GiftEffect.ts","./DisableEffect.ts","./DisableEffectConfig.ts","./ChangeHatEffect.ts","./ChangeHatEffectConfig.ts","./BuffEffect.ts","./RandomBuffEffect.ts","./BuffEffectConfig.ts","./RandomBuffEffectConfig.ts"],(function(f){var t,e,n,c,o,i,a,E,g,r,s,u,C,d,l,H,D,B,S,h,m,v,p,y,L,M,R,b,k,G,w,F,O,P,_,I,j,q,x,z,Z,A,J,K;return{setters:[function(f){t=f.createForOfIteratorHelperLoose},function(f){e=f.cclegacy},function(f){n=f.PropertyModifier},function(f){c=f.ModifierEffectConfigHeaders,o=f.ModifierEffectConfigData},function(f){i=f.DamageEffectConfigHeaders,a=f.DamageEffectConfigData},function(f){E=f.DamageEffect},function(f){g=f.DelayEffectConfigHeaders,r=f.DelayEffectConfigData},function(f){s=f.DelayEffect},function(f){u=f.HitStiffEffectConfigHeaders,C=f.HitStiffEffectConfigData},function(f){d=f.HitStiffEffect},function(f){l=f.StunEffectConfigHeaders,H=f.StunEffectConfigData},function(f){D=f.StunEffect},function(f){B=f.HitBackEffectConfigHeaders,S=f.HitBackEffectConfigData},function(f){h=f.HitBackEffect},function(f){m=f.ChangeColorEffect},function(f){v=f.ChangeColorEffectConfigHeaders,p=f.ChangeColorEffectConfigData},function(f){y=f.LogEffectConfigHeaders,L=f.LogEffectConfigData},function(f){M=f.LogEffect},function(f){R=f.ScaleEffectConfigHeaders,b=f.ScaleEffectConfigData},function(f){k=f.ScaleEffect},function(f){G=f.GiftEffectConfigHeaders,w=f.GiftEffectConfigData},function(f){F=f.GiftEffect},function(f){O=f.DisableEffect},function(f){P=f.DisableEffectConfigHeaders,_=f.DisableEffectConfigData},function(f){I=f.ChangeHatEffect},function(f){j=f.ChangeHatEffectConfigHeaders,q=f.ChangeHatEffectConfigData},function(f){x=f.BuffEffect},function(f){z=f.RandomBuffEffect},function(f){Z=f.BuffEffectConfigHeaders,A=f.BuffEffectConfigData},function(f){J=f.RandomBuffEffectConfigHeaders,K=f.RandomBuffEffectConfigData}],execute:function(){f({EffectRegister:Q,GetEffect:function(f){0==N.size&&(Q(o,c,n),Q(a,i,E),Q(r,g,s),Q(C,u,d),Q(H,l,D),Q(S,B,h),Q(A,Z,x),Q(K,J,z),Q(p,v,m),Q(q,j,I),Q(b,R,k),Q(w,G,F),Q(L,y,M),Q(_,P,O));var t=N.get(f);if(!t)throw new Error("effect not found: "+f);var e=t[0],T=t[1],U=new(0,t[2]);U.ID=f;for(var V=0;V<T.length;V++){var W=T[V];U[W]=e[V]}U.onLoad&&U.onLoad();return U}}),e._RF.push({},"a338bqur3lEO56ZO/fps20d","EffectManager",void 0);var N=new Map;function Q(f,e,n){for(var c,o=t(f);!(c=o()).done;){var i=c.value,a=i[0],E=i[1];N.set(a,[E,e,n])}}e._RF.pop()}}}));

System.register("chunks:///_virtual/EmptyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts"],(function(t){var e,n,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.ItemRegister},function(t){u=t.SceneItem}],execute:function(){var c;n._RF.push({},"7137bBBDQdItoFeT+BvuObu","EmptyItem",void 0);t("EmptyItem",o("EmptyItem")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.OnContextShow=function(t){},n}(u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/EntityActor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Actor.ts"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){r=t.Actor}],execute:function(){o._RF.push({},"91ac6k5I2ZJEoroV/h8t07I","EntityActor",void 0);t("EntityActor",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var r=o.prototype;return r.addEvent=function(t,e,n){throw new Error("Method not implemented.")},r.fireEvent=function(t){throw new Error("Method not implemented.")},r.removeEvent=function(t,e,n){throw new Error("Method not implemented.")},r.initialize=function(){throw new Error("Method not implemented.")},r.onEnable=function(){throw new Error("Method not implemented.")},r.update=function(t){throw new Error("Method not implemented.")},r.onDisable=function(){throw new Error("Method not implemented.")},r.Distance=function(t){throw new Error("Method not implemented.")},r.Distance2=function(t){throw new Error("Method not implemented.")},r.LookAt=function(t){throw new Error("Method not implemented.")},r.Release=function(){throw new Error("Method not implemented.")},n(o,[{key:"top",get:function(){throw new Error("Method not implemented.")}},{key:"Center",get:function(){throw new Error("Method not implemented.")}},{key:"Min",get:function(){throw new Error("Method not implemented.")}},{key:"Max",get:function(){throw new Error("Method not implemented.")}},{key:"Size",get:function(){throw new Error("Method not implemented.")}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/Entry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sequence.ts","./TreeNodeRegister.ts"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Sequence},function(t){i=t.TreeNodeRegister}],execute:function(){var o;n._RF.push({},"54f52TdiAZINZFS/wFOYbv3","Entry",void 0);t("Entry",i("Entry")(o=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onStart=function(){this._runningIdx=0},n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/EquipBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SequenceBehavior.ts"],(function(e){var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy},function(e){i=e.SequenceBehavior}],execute:function(){o._RF.push({},"c349dnIFIFAbpnwLSGGoHOT","EquipBehavior",void 0);e("EquipBehavior",function(e){function o(){var t;return(t=e.call(this)||this).effects=[],t._behaviorType="EquipBehavior",t}t(o,e);var i=o.prototype;return i.OnEquip=function(e){for(var t,o=n(this.effects);!(t=o()).done;){t.value.apply(e,this.context)}},i.UnEquip=function(e){for(var t,o=n(this.effects);!(t=o()).done;){t.value.apply(e,this.context,0,-1)}},i.ToDetail=function(){return this.effects.map((function(e){return e.ToString(1)})).join("\n")},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/EquipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./RandomUtils.ts","./EquipItemConfig.ts","./RandomByWeights.ts","./ItemSchema.ts","./EffectManager.ts","./UIManager.ts","./GenSid.ts","./ItemFunc.ts","./ChatManager.ts"],(function(t){var e,n,i,o,s,r,c,a,l,f,u,h,p,v,g,m;return{setters:[function(t){e=t.inheritsLoose,n=t.extends,i=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){s=t.cclegacy},function(t){r=t.SceneItem},function(t){c=t.RandomInt},function(t){a=t.EquipItemConfigGet,l=t.EquipItemConfigField},function(t){f=t.RandomByWeights},function(t){u=t.ItemRegister},function(t){h=t.GetEffect},function(t){p=t.UIManager},function(t){v=t.GenSid},function(t){g=t.ItemFunc},function(t){m=t.ChatManager}],execute:function(){var d;s._RF.push({},"2c404wsL3tBIoUd3qwIhmgM","EquipItem",void 0);t("EquipItem",u("EquipItem")(d=function(t){function s(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).Arg=0,e.rawEx=[],e.effects=[],e.level=1,e.grade=0,e.mainAttrCount=1,e}e(s,t);var r=s.prototype;return r.toJSON=function(){return n({},t.prototype.toJSON.call(this),{uid:this.uid,level:this.level,grade:this.grade,rawEx:this.rawEx})},r.fromJSON=function(e){t.prototype.fromJSON.call(this,e),this.level=e.level,this.grade=e.grade,this.rawEx=e.rawEx},r.OnContextShow=function(e){var n=this;t.prototype.OnContextShow.call(this,!1),g.instance.Append("分配",(function(){var t=n.scene.selectedActor;t||(t=n.scene.randomActor,m.instance.Push("随机分给"+t.Name)),t.EquipItem(n),n.scene.RemoveItem(n.sid),g.instance.node.active=!1})),g.instance.End(this)},r.ToEffectString=function(){for(var t="<color=#FF8F00>主要属性:</color>\n",e=0;e<this.mainAttrCount;e++)t+="+ "+this.effects[e].ToString(this.level)+"\n";t+="<color=#FF8F00>附加属性:</color>\n",this.effects.length<=this.mainAttrCount&&(t+="<color=#FFFFFF>无</color>\n");for(var n=this.mainAttrCount;n<this.effects.length;n++){this.effects[n];t+="+ "+this.effects[n].ToString(this.level)}return t},r.OnDetail=function(){p.instance.equipTip.Reset(this),p.instance.equipTip.node.active=!0},r.ChangeLevel=function(t,e){this.SetLevel(this.level+t,e)},r.SetLevel=function(t,e){this.UnEquip(e),this.level=t,this.OnEquip(e)},r.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e),this.effects=[];var n=a(this.ConfigID,l.Attr0);this.mainAttrCount=n.length;for(var o,s=i(n);!(o=s()).done;){var r=o.value;this.effects.push(h(r))}this.grade=c(0,4),this.level=0;var u=a(this.ConfigID,l.Attr1),p=a(this.ConfigID,l.Weight);if(u&&u.length>0){var v=f(u,p);this.rawEx.push(v),this.effects.push(h(v))}},r.OnRemove=function(){t.prototype.OnRemove.call(this)},r.OnEquip=function(t){this.uid=v();for(var e,n=i(this.effects);!(e=n()).done;){e.value.apply(t,void 0,this.level)}},r.UnEquip=function(t){for(var e,n=i(this.effects);!(e=n()).done;){e.value.apply(t,void 0,this.level,-1)}},r.OnDrop=function(e){t.prototype.OnDrop.call(this,e)},o(s,[{key:"levelString",get:function(){return"+"+this.level}},{key:"Level",get:function(){return this.level}}]),s}(r))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/EquipItemConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({EquipItemConfigGet:function(t,e){var i=n.get(t);return null==i?void 0:i[e]},EquipItemConfigSetup:function(t,e){var r=n.get(t);if(!r)throw new Error("id:"+t+" is null");e.ID=t;for(var o=0;o<i.length;o++){var u=i[o];e[u]=Array.isArray(r[o])?[].concat(r[o]):r[o]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"8774bCuPLxJSJUIazxnTdRc","EquipItemConfig",void 0);var n=t("EquipItemConfigData",new Map([[201,["青春版T恤",[6001],[],[]]],[202,["衣服",[6002],[110,111,112,113],[10,10,10,10]]],[203,["衣服",[6003],[110,111,112,113],[10,10,10,10]]],[204,["衣服",[6004],[110,111,112,113],[10,10,10,10]]],[205,["衣服",[6005],[110,111,112,113],[10,10,10,10]]],[206,["衣服",[6006],[110,111,112,113],[10,10,10,10]]],[207,["轻甲",[6007],[110,111,112,113],[10,10,10,10]]],[208,["重甲",[6008],[110,111,112,113],[10,10,10,10]]],[209,["板甲",[6009],[110,111,112,113],[10,10,10,10]]],[210,["圣灵甲",[6010],[110,111,112,113],[10,10,10,10]]],[211,["霜语之甲",[6011],[110,111,112,113],[10,10,10,10]]],[212,["雷纹铠",[6012],[110,111,112,113],[10,10,10,10]]],[213,["龙炎战铠",[6013],[110,111,112,113],[10,10,10,10]]],[214,["龙鳞甲",[6014],[110,111,112,113],[10,10,10,10]]],[215,["蚀星甲",[6015],[110,111,112,113],[10,10,10,10]]],[216,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[217,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[218,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[219,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[220,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[221,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[222,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[223,["帽子",[101,6100],[110,111,112,113],[10,10,10,10]]],[224,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[225,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[226,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[227,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[228,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[229,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[230,["鞋子",[103,6050],[110,111,112,113],[10,10,10,10]]],[231,["长剑",[101,101],[114,115,116,117],[10,10,10,10]]],[232,["雷鸣刀",[101,101],[114,115,116,117],[10,10,10,10]]],[233,["炽魂剑",[101,101],[114,115,116,117],[10,10,10,10]]],[234,["斧头",[101,101],[114,115,116,117],[10,10,10,10]]],[235,["矿镐",[101,101],[114,115,116,117],[10,10,10,10]]],[236,["武器",[101,101],[114,115,116,117],[10,10,10,10]]],[237,["武器",[101,101],[114,115,116,117],[10,10,10,10]]],[238,["武器",[101,101],[114,115,116,117],[10,10,10,10]]],[239,["武器",[101,101],[114,115,116,117],[10,10,10,10]]],[240,["手枪",[101,118],[114,115,116,117],[10,10,10,10]]],[241,["手枪",[101,118],[114,115,116,117],[10,10,10,10]]],[242,["手枪",[101,118],[114,115,116,117],[10,10,10,10]]],[243,["炽魂剑",[101],[114,115,116,117],[10,10,10,10]]],[244,["龙脊逆刃",[101],[114,115,116,117],[10,10,10,10]]],[245,["苍炎剑",[101],[114,115,116,117],[10,10,10,10]]]])),i=t("EquipItemConfigHeaders",["Name","Attr0","Attr1","Weight"]);t("EquipItemConfigField",function(t){return t[t.Name=0]="Name",t[t.Attr0=1]="Attr0",t[t.Attr1=2]="Attr1",t[t.Weight=3]="Weight",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EquipTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts"],(function(t){var e,i,n,o,r,l,c,s,a,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,c=t.RichText,s=t.Button,a=t.Component},function(t){u=t.ItemConfigGet,p=t.ItemConfigField}],execute:function(){var f,h,y,g,v,C,T;r._RF.push({},"8494aoOjTZKfYkKfWDoTsmn","EquipTip",void 0);var d=l.ccclass,m=l.property;t("EquipTip",(f=d("EquipTip"),h=m(c),y=m(c),f((C=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"tittle",C,o(e)),n(e,"text",T,o(e)),e.closeBtn=null,e}i(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;this.closeBtn=this.node.getChildByName("Close"),this.closeBtn.on(s.EventType.CLICK,(function(){t.node.active=!1}))},r.onDestroy=function(){this.closeBtn.off(s.EventType.CLICK)},r.start=function(){},r.Reset=function(t){var e=t;this.text.string=e.ToEffectString();var i=u(t.ConfigID,p.Name);this.tittle.string="<color = yellow>"+i+"</color>"},e}(a)).prototype,"tittle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(v.prototype,"text",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/EvaluateSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParentNode.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,r,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.ParentNode},function(t){o=t.ResultType},function(t){i=t.TreeNodeRegister}],execute:function(){var a;n._RF.push({},"8fcedE/OHpEcJyzL3liI79z","EvaluateSelector",void 0);t("EvaluateSelector",i("EvaluateSelector")(a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).index=void 0,e.router=void 0,e}e(n,t);var r=n.prototype;return r.onStart=function(){t.prototype.onStart.call(this),this.index=Math.random()*this._children.length,this.GetChildByIdx(this.index).onStart()},r.onUpdate=function(t){var e=this.GetChildByIdx(this.index),n=e.onUpdate(t);return n!=o.running&&e.onEnd(),n},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Evaluator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./TreeNodeRegister.ts"],(function(t){var e,r,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){o=t.Decorator},function(t){n=t.TreeNodeRegister}],execute:function(){var u;r._RF.push({},"40b52n5ngNN1JGU9lrs4/9K","Evaluator",void 0);t("Evaluator",n("Evaluator")(u=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).key="",e}return e(r,t),r.prototype.onDecoratorUpdate=function(t){return this.updateChild(t)},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/EventDefines.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ad8caEaqRhHb652Q3Kw9KO7","EventDefines",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmitter.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d104Io4uNHP5ImKy/25QVk","EventEmitter",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EvtListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,r,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Decorator},function(t){o=t.ResultType},function(t){i=t.TreeNodeRegister}],execute:function(){var c;n._RF.push({},"f90f70xIrBCDocaGnUicPXZ","EvtListener",void 0);t("EvtListener",i("EvtListener")(c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).block=!1,e}e(n,t);var r=n.prototype;return r.onStart=function(){t.prototype.onStart.call(this)},r.onDecoratorUpdate=function(t){if(this.block){this.childNode.onUpdate(t);return o.running}return o.ok},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/FeedPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,r,a,c,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.RichText,r=t.instantiate,a=t.UITransform,c=t.math,s=t.Component}],execute:function(){var l;e._RF.push({},"1a44djJqAxOKrWYskmnhA41","FeedPanel",void 0);var h=n.ccclass;n.property,t("FeedPanel",h("FeedPanel")(l=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).locatorRoot=void 0,o.btn=void 0,o.txt=void 0,o}o(e,t);var n=e.prototype;return n.onLoad=function(){this.locatorRoot=this.node.getChildByName("LocatorRoot"),this.btn=this.node.getChildByName("Button"),this.txt=this.node.getComponentInChildren(i)},n.onEnable=function(){this.Clear(!0)},n.onDisable=function(){for(var t=0;t<this.locatorRoot.children.length;t++)this.locatorRoot.children[t].active=!1},n.update=function(t){},n.UpdateLocator=function(t){var o=r(this.locatorRoot.children[0]);o.active=!0,o.setParent(this.locatorRoot),o.position=t.Center,o.getComponent(a).contentSize=new c.Size(2*t.radius+10,t.height+10)},n.Clear=function(t){this.btn.active=t,this.txt.node.active=t},e}(s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/FindCarryJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./Action.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(t){var e,n,r,o,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.ResultType},function(t){o=t.Action},function(t){i=t.MemoryDefine},function(t){s=t.TreeNodeRegister}],execute:function(){var u;n._RF.push({},"29542jP2rBNqY6PXyNOqSgp","FindCarryJob",void 0);t("FindCarryJob",s("FindCarryJob")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.mgr.owner.scene.FindNextMaterial((function(t){return t.Stack>1&&t._Count<t.Stack}),(function(t,e){return t.ID==e.ID&&t._Count+e._Count<=t.Stack}));if(e){var n=e[1],o=e[0];return n&&o?(o.SetFreeze(!0),this.owner.Memory.set(i.targetPos,o.position),this.owner.Memory.set(i.nextPos,n.position),r.ok):r.fail}return r.fail},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindCarryMineJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./PropertyType.ts"],(function(e){var t,n,r,i,o,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.TreeNodeRegister},function(e){i=e.Action},function(e){o=e.ResultType},function(e){s=e.MemoryDefine},function(e){u=e.ItemType}],execute:function(){var c;n._RF.push({},"24d292eGOBCwo92t+QEYRPI","FindCarryMineJob",void 0);e("FindCarryMineJob",r("FindCarryMineJob")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.mgr.owner.scene;if(0==t.getItemConfigCount(155))return o.fail;var n=t.FindNextMaterial((function(e){var t=e;return t&&155==e.ID&&0==t.Status}),(function(e,t){return t.Type===u.mine}));if(n){var r=n[0],i=n[1];return r&&i?(i.SetFreeze(!0),this.owner.Memory.set(s.targetPos,i.position),this.owner.Memory.set(s.nextPos,r.position),o.ok):o.fail}return o.fail},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindCarryTrashJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./PropertyType.ts"],(function(e){var t,r,n,i,o,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.TreeNodeRegister},function(e){i=e.Action},function(e){o=e.ResultType},function(e){s=e.MemoryDefine},function(e){u=e.ItemType}],execute:function(){var a;r._RF.push({},"7ed39JqEehBU5jum9QihhJd","FindCarryTrashJob",void 0);e("FindCarryTrashJob",n("FindCarryTrashJob")(a=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.onUpdate=function(e){var t=this.mgr.owner.scene;if(0==t.getItemConfigCount(156))return o.fail;var r=t.FindNextMaterial((function(e){var t=e;return t&&156==e.ID&&0==t.Status}),(function(e,t){return t.Type===u.dirtySolid}));if(r){var n=r[0],i=r[1];return n&&i?(i.SetFreeze(!0),this.owner.Memory.set(s.targetPos,i.position),this.owner.Memory.set(s.nextPos,n.position),o.ok):o.fail}return o.fail},r}(i))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/FindChopJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./Action.ts","./MemoryDefine.ts","./PropertyType.ts","./TreeNodeRegister.ts"],(function(e){var t,o,n,r,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.ResultType},function(e){r=e.Action},function(e){i=e.MemoryDefine},function(e){s=e.ItemType},function(e){u=e.TreeNodeRegister}],execute:function(){var c;o._RF.push({},"d1e94o04JJPpbtTKkJWAXtU","FindChopJob",void 0);e("FindChopJob",u("FindChopJob")(c=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).TargetType=s.wood,t}return t(o,e),o.prototype.onUpdate=function(e){for(var t=this.owner.scene,o=0;o<t.Rows;o++)for(var r=0;r<t.Columns;r++){var s=t.items[o][r];if(s&&!s.GetFreeze()&&s.Type==this.TargetType)return s.SetFreeze(!0),this.owner.Memory.set(i.targetPos,s.position),this.owner.Memory.set(i.targetItem,s),n.ok}return n.fail},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/FindCleanJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./PropertyType.ts","./ResultType.ts","./MemoryDefine.ts"],(function(e){var t,n,r,o,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.TreeNodeRegister},function(e){o=e.Action},function(e){i=e.ItemType},function(e){s=e.ResultType},function(e){u=e.MemoryDefine}],execute:function(){var a;n._RF.push({},"949e1dI/0JDrahB/q78beUM","FindCleanJob",void 0);e("FindCleanJob",r("FindCleanJob")(a=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).TargetType=i.stone,t}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.scene;if(0==t.getItemTypeCount(this.TargetType))return s.fail;for(var n=0;n<t.Rows;n++)for(var r=0;r<t.Columns;r++){var o=t.items[n][r];if(o&&!o.GetFreeze()&&o.Type==this.TargetType)return o.SetFreeze(!0),this.owner.Memory.set(u.targetPos,o.position),s.ok}return s.fail},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindCraftJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./PropertyType.ts","./TreeNodeRegister.ts"],(function(e){var t,n,r,o,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ResultType},function(e){i=e.MemoryDefine},function(e){s=e.ItemType},function(e){u=e.TreeNodeRegister}],execute:function(){var f;n._RF.push({},"491dfYJH9dDtY8KEf9N4mCl","FindCraftJob",void 0);e("FindCraftJob",u("FindCraftJob")(f=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){for(var t=this.owner.scene,n=0;n<t.Rows;n++)for(var r=0;r<t.Columns;r++){var u=t.items[n][r];if(u&&!u.GetFreeze()&&u.Type==s.craftTable&&u.targetQueue.length>0)return u.SetFreeze(!0),this.owner.Memory.set(i.targetPos,u.position),this.owner.Memory.set(i.targetItem,u),o.ok}return o.fail},n}(r))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindFarmJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./MemoryDefine.ts"],(function(e){var t,n,r,o,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.TreeNodeRegister},function(e){o=e.Action},function(e){i=e.ResultType},function(e){s=e.MemoryDefine}],execute:function(){var u;n._RF.push({},"799e766u09N1octn8HzmOsp","FindFarmJob",void 0);e("FindFarmJob",r("FindFarmJob")(u=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){for(var t=this.owner.scene,n=0;n<t.Rows;n++)for(var r=0;r<t.Columns;r++){var o=t.items[n][r];if(o&&!o.GetFreeze()&&253==o.ID){var u=o;if(u.NeedCare())return u.takeCare(),o.SetFreeze(!0),this.owner.Memory.set(s.targetPos,o.position),i.ok}}return i.fail},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindFeedJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./SceneItem.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){i=e.ItemMask},function(e){s=e.MemoryDefine},function(e){u=e.TreeNodeRegister}],execute:function(){var a;n._RF.push({},"a862aEtd7pC8oYV9c+heX3a","FindFeedJob",void 0);e("FindFeedJob",u("FindFeedJob")(a=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).targetID=0,t}return t(n,e),n.prototype.onUpdate=function(e){var t=this,n=this.mgr.owner.scene;if(0==n.getItemConfigCount(this.targetID))return r.fail;var o=n.FindNextMaterial((function(e){return e.ID==t.targetID}),(function(e,t){return(t.Flag&i.CanEat)>0}));if(o){var u=o[0],a=o[1];return u&&a?(a.SetFreeze(!0),this.owner.Memory.set(s.targetPos,a.position),this.owner.Memory.set(s.nextPos,u.position),r.ok):r.fail}return r.fail},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindFuelJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts","./MemoryDefine.ts"],(function(e){var t,n,r,o,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ResultType},function(e){i=e.TreeNodeRegister},function(e){u=e.MemoryDefine}],execute:function(){var s;n._RF.push({},"834526FAx5KZon79PZdJmWC","FindFuelJob",void 0);e("FindFuelJob",i("FindFuelJob")(s=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).TargetID=0,t.FuelID=0,t}return t(n,e),n.prototype.onUpdate=function(e){var t=this,n=this.mgr.owner.scene;if(0==n.getItemConfigCount(this.TargetID))return o.fail;var r=n.FindNextMaterial((function(e){var n=e;return n&&e.ID==t.TargetID&&1==n.Status}),(function(e,n){return n.ID==t.FuelID}));if(r){var i=r[0],s=r[1];return i&&s?(s.SetFreeze(!0),this.owner.Memory.set(u.targetPos,s.position),this.owner.Memory.set(u.nextPos,i.position),o.ok):o.fail}return o.fail},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindItemAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./Vector2Utils.ts","./CompareType.ts","./TreeNodeRegister.ts"],(function(e){var t,r,i,o,n,s,c,a,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){i=e.Action},function(e){o=e.SearchType,n=e.ResultType},function(e){s=e.MemoryDefine},function(e){c=e.Vector3Dist2},function(e){a=e.ItemCheckType},function(e){u=e.TreeNodeRegister}],execute:function(){var f;r._RF.push({},"8dea08E+/ZAEo+rk9JlevT6","FindItemAction",void 0);e("FindItemAction",u("FindItemAction")(f=function(e){function r(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).value=101,t.searchMode=o.Any,t.checkMode=a.ConfigId,t.remember=!0,t.freeze=!1,t}t(r,e);var i=r.prototype;return i.onUpdate=function(e){var t=this.mgr.owner,r=this.owner.scene;if(this.searchMode===o.Any)for(var i=0;i<r.Rows;i++)for(var a=0;a<r.Columns;a++){var u=r.items[i][a];if(u&&this.check(u))return this.remember&&t.Memory.set(s.targetPos,u.position),n.ok}else if(this.searchMode===o.Nearest){for(var f=t.position,h=!1,m=Number.MAX_SAFE_INTEGER,l=0;l<r.Rows;l++)for(var p=0;p<r.Columns;p++){var v=r.items[l][p];if(v&&this.check(v)){h=!0;var d=c(v.position,t.position);d<m&&(m=d,f=v.position)}}if(h)return this.remember&&t.Memory.set(s.targetPos,f),n.ok}else if(this.searchMode===o.Farthest){for(var y=t.position,M=!1,g=0,k=0;k<r.Rows;k++)for(var T=0;T<r.Columns;T++){var A=r.items[k][T];if(A&&this.check(A)){M=!0;var I=c(A.position,t.position);I>g&&(g=I,y=A.position)}}if(M)return this.remember&&t.Memory.set(s.targetPos,y),n.ok}return n.fail},i.check=function(e){if(!e||e.GetFreeze())return!1;if(this.checkMode===a.ConfigId)return e.ConfigID===this.value;if(this.checkMode===a.TypeId)return e.Type===this.value;if(this.checkMode===a.Mask)return(e.Flag&this.value)>0;if(this.checkMode===a.TargetTable){var t=this.owner.Memory.get(s.targetTable);return e.ConfigID==t.currentMat}return!1},r}(i))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/FindItemPos.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){i=e.MemoryDefine},function(e){s=e.TreeNodeRegister}],execute:function(){var u;n._RF.push({},"eb316fj6tpOS7QHQw4KtAdG","FindItemPos",void 0);e("FindItemPos",s("FindItemPos")(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).itemSid=0,t}return t(n,e),n.prototype.onUpdate=function(e){for(var t=this.mgr.owner,n=this.owner.scene,o=t.Memory.get(i.order),s=0;s<n.Rows;s++)for(var u=0;u<n.Columns;u++){var c=n.items[s][u];if(c&&c.sid==o.itemSid)return t.Memory.set(i.targetPos,c.position),t.Memory.set(i.targetMat,c.sid),r.ok}return r.fail},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/FindReLocateJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./ItemOrderType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,o,n,r,i,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.Action},function(e){r=e.ResultType},function(e){i=e.ItemOrderType},function(e){s=e.MemoryDefine},function(e){c=e.TreeNodeRegister}],execute:function(){var u;o._RF.push({},"4f01a8Zqo1NWK9kLIb5noWu","FindReLocateJob",void 0);e("FindReLocateJob",c("FindReLocateJob")(u=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onUpdate=function(e){var t=this.mgr.owner.scene.FindMaterial((function(e){return e._orderType==i.ReLocate}));return t?(t.SetFreeze(!0),this.owner.Memory.set(s.targetPos,t.position),this.owner.Memory.set(s.nextPos,t.reLocation),r.ok):r.fail},o}(n))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/FindTearDownJob.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./ItemOrderType.ts","./MemoryDefine.ts"],(function(e){var n,t,o,r,i,s,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.TreeNodeRegister},function(e){r=e.Action},function(e){i=e.ResultType},function(e){s=e.ItemOrderType},function(e){u=e.MemoryDefine}],execute:function(){var c;t._RF.push({},"3fdaabTEDlA3bzZYiFRsIUC","FindTearDownJob",void 0);e("FindTearDownJob",o("FindTearDownJob")(c=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.onUpdate=function(e){var n=this.mgr.owner.scene.FindMaterial((function(e){return e._orderType==s.TearDown}));return n?(n.SetFreeze(!0),this.owner.Memory.set(u.targetPos,n.position),i.ok):i.fail},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/FindVoidSpace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./MemoryDefine.ts"],(function(e){var t,n,i,o,r,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Vec3},function(e){o=e.TreeNodeRegister},function(e){r=e.Action},function(e){s=e.ResultType},function(e){c=e.MemoryDefine}],execute:function(){var u;n._RF.push({},"2b538FhHvJI9ohSidIKfcb3","FindVoidSpace",void 0);e("FindVoidSpace",o("FindVoidSpace")(u=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.scene,n=this.owner,o=t.RequestFreeCell(n.position.x,n.position.y),r=o[0],u=o[1];o[2];return-1===r?s.fail:(n.Memory.set(c.targetPos,new i(100*u-450,100*r-950)),s.ok)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/FlipBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts"],(function(t){var e,i,s,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy},function(t){r=t.Buff}],execute:function(){s._RF.push({},"38e0fCL7MVEmJ7PMLAax+Uf","FlipBuff",void 0);t("FlipBuff",function(t){function s(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).isActive=!1,e}e(s,t);var r=s.prototype;return r.attach=function(e){t.prototype.attach.call(this,e),this.isActive=!1},r.detach=function(e){var s;if(this.isActive&&null!=(s=this.effects)&&s.length)for(var r,a=i(this.effectList);!(r=a()).done;){r.value.apply(e,this.context,this.layer,-1)}t.prototype.detach.call(this,e)},r.update=function(e,s){var r;if(null==(r=this.effects)||!r.length)return-1;if(this.isActive){if(!this.evaluate(e)){for(var a,c=i(this.effectList);!(a=c()).done;){a.value.apply(e,this.context,this.layer,-1)}this.isActive=!1}}else if(this.evaluate(e)){for(var f,n=i(this.effectList);!(f=n()).done;){f.value.apply(e,this.context,this.layer)}this.isActive=!0}return t.prototype.update.call(this,e,s)},s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/FlipBuffConfig.ts",["cc"],(function(i){var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){i({FlipBuffConfigGet:function(i,n){var e=f.get(i);return null==e?void 0:e[n]},FlipBuffConfigSetup:function(i,n){var t=f.get(i);if(!t)throw new Error("id:"+i+" is null");n.ID=i;for(var r=0;r<e.length;r++){var o=e[r];n[o]=Array.isArray(t[r])?[].concat(t[r]):t[r]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"5d5dczhDZlHTrv6sd+RxxU0","FlipBuffConfig",void 0);var f=i("FlipBuffConfigData",new Map([[5001,["圆形触发器","",1,[1001]]],[5002,["圆形触发器","",1,[1001]]],[5003,["圆形触发器","",1,[1001]]],[5004,["圆形触发器","",1,[1001]]],[5005,["圆形触发器","",1,[1001]]],[5006,["圆形触发器","",1,[1001]]],[5007,["圆形触发器","",1,[1001]]],[5008,["圆形触发器","",1,[1001]]]])),e=i("FlipBuffConfigHeaders",["Name","Description","duration","effects"]);i("FlipBuffConfigField",function(i){return i[i.Name=0]="Name",i[i.Description=1]="Description",i[i.duration=2]="duration",i[i.effects=3]="effects",i}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/FollowTargetAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./Action.ts","./TreeNodeRegister.ts"],(function(t){var o,e,n,i,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.ResultType},function(t){i=t.Action},function(t){r=t.TreeNodeRegister}],execute:function(){var c;e._RF.push({},"04adeYXg89N2ZMencPzDEVM","FollowTargetAction",void 0);t("FollowTargetAction",r("FollowTargetAction")(c=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var i=e.prototype;return i.onStart=function(){t.prototype.onStart.call(this)},i.onUpdate=function(t){var o=this.mgr.owner,e=this.owner.TargetEnemy;if(!e||e.isOutSide())return n.fail;var i=o.Distance2(e.position),r=100*o.AttackRange;return i<r*r?n.ok:(o.LookAt(e.position),o.Move(1.2*t),n.running)},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/FormulaConfig.ts",["cc"],(function(a){var t;return{setters:[function(a){t=a.cclegacy}],execute:function(){a({FormulaConfigGet:function(a,t){var n=r.get(a);return null==n?void 0:n[t]},FormulaConfigSetup:function(a,t){var o=r.get(a);if(!o)throw new Error("id:"+a+" is null");t.ID=a;for(var e=0;e<n.length;e++){var u=n[e];t[u]=Array.isArray(o[e])?[].concat(o[e]):o[e]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"55545iJSmdGeYWX+p8QQ3m1","FormulaConfig",void 0);var r=a("FormulaConfigData",new Map([[107,["木板",1,107,[106],[3]]],[108,["木棍",1,108,[106],[3]]],[111,["石砖",1,111,[112],[1]]],[117,["纤维",1,117,[116],[1]]],[118,["绳子",1,118,[117],[3]]],[119,["布料",1,119,[117],[3]]],[152,["工作台",1,152,[106],[3]]],[153,["加工台",1,153,[106,112],[3,1]]],[154,["工作台",1,154,[106],[3]]],[155,["熔炉",1,155,[111],[3]]],[156,["熔炉",1,156,[111],[3]]],[157,["熔炉",1,157,[111],[3]]],[158,["缝纫机",1,158,[107,130],[2,1]]],[159,["缝纫机",1,159,[107],[3]]],[160,["缝纫机",1,160,[107],[3]]],[161,["铁砧",1,161,[130],[3]]],[162,["单身公寓",1,162,[106,107,111],[3,3,3]]],[163,["住宅",1,163,[106,107,111,127],[6,6,6,1]]],[164,["篝火",1,164,[106],[1]]],[165,["灶台",1,165,[106],[3]]],[166,["灶台3",1,166,[106],[3]]],[167,["研究台",1,167,[106],[3]]],[168,["智慧之塔",1,168,[106],[3]]],[169,["量子引擎",1,169,[106],[3]]],[170,["强化台",1,170,[106],[3]]],[171,["货架",1,171,[107],[3]]],[172,["强化台",1,172,[106],[3]]],[201,["青春版T恤",1,201,[117],[3]]],[202,["衣服",1,202,[117],[3]]],[203,["衣服",1,203,[117],[3]]],[204,["衣服",1,204,[117],[3]]],[205,["衣服",1,205,[117],[3]]],[206,["衣服",1,206,[117],[3]]],[207,["轻甲",1,207,[117],[3]]],[208,["重甲",1,208,[117],[3]]],[209,["板甲",1,209,[117],[3]]],[210,["圣灵甲",1,210,[117],[3]]],[211,["霜语之甲",1,211,[117],[3]]],[212,["雷纹铠",1,212,[117],[3]]],[213,["龙炎战铠",1,213,[117],[3]]],[214,["龙鳞甲",1,214,[117],[3]]],[215,["蚀星甲",1,215,[117],[3]]],[216,["帽子",1,216,[117],[3]]],[217,["帽子",1,217,[117],[3]]],[218,["帽子",1,218,[117],[3]]],[219,["帽子",1,219,[117],[3]]],[220,["帽子",1,220,[117],[3]]],[221,["帽子",1,221,[117],[3]]],[222,["帽子",1,222,[117],[3]]],[223,["帽子",1,223,[117],[3]]],[224,["鞋子",1,224,[117],[3]]],[225,["鞋子",1,225,[117],[3]]],[226,["鞋子",1,226,[117],[3]]],[227,["鞋子",1,227,[117],[3]]],[228,["鞋子",1,228,[117],[3]]],[229,["鞋子",1,229,[117],[3]]],[230,["鞋子",1,230,[117],[3]]],[231,["长剑",1,231,[130],[3]]],[232,["雷鸣刀",1,232,[130],[3]]],[233,["炽魂剑",1,233,[130],[3]]],[234,["斧头",1,234,[106,112],[1,1]]],[235,["矿镐",1,235,[106,112],[1,2]]],[236,["武器",1,236,[130],[3]]],[237,["武器",1,237,[106],[3]]],[238,["武器",1,238,[130],[3]]],[239,["武器",1,239,[130],[3]]],[240,["手枪",1,240,[130],[3]]],[241,["手枪",1,241,[130],[3]]],[242,["手枪",1,242,[130],[3]]],[243,["炽魂剑",1,243,[130],[3]]],[244,["龙脊逆刃",1,244,[130],[3]]],[245,["苍炎剑",1,245,[130],[3]]],[1201,["防御塔",1,245,[999],[60]]],[1202,["防御塔",1,245,[999],[60]]],[1203,["防御塔",1,245,[999],[60]]],[1204,["地雷",1,245,[999],[30]]],[1205,["地雷",1,245,[999],[30]]],[1206,["地雷",1,245,[999],[30]]],[1207,["地雷",1,245,[999],[30]]],[1208,["地雷",1,245,[999],[30]]],[1209,["地雷",1,245,[999],[30]]],[1210,["地雷",1,245,[999],[30]]],[1211,["地雷",1,245,[999],[30]]],[1212,["地雷",1,245,[999],[30]]]])),n=a("FormulaConfigHeaders",["Name","CraftTable","Target","Mat","MatCount"]);a("FormulaConfigField",function(a){return a[a.Name=0]="Name",a[a.CraftTable=1]="CraftTable",a[a.Target=2]="Target",a[a.Mat=3]="Mat",a[a.MatCount=4]="MatCount",a}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/FoundationItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemConfig.ts","./ItemSchema.ts","./FormulaConfig.ts"],(function(t){var e,r,s,i,o,n,a,h,m,u;return{setters:[function(t){e=t.inheritsLoose,r=t.extends,s=t.createClass},function(t){i=t.cclegacy},function(t){o=t.SceneItem},function(t){n=t.ItemConfigGet,a=t.ItemConfigField},function(t){h=t.ItemRegister},function(t){m=t.FormulaConfigGet,u=t.FormulaConfigField}],execute:function(){var g;i._RF.push({},"01f72+1QlxI44yVmLLUKuMR","FoundationItem",void 0);t("FoundationItem",h("FoundationItem")(g=function(t){function i(){for(var e,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).target=201,e.matList=[],e.matNum=[],e.progress=[],e.targetName="",e}e(i,t);var o=i.prototype;return o.toJSON=function(){return r({},t.prototype.toJSON.call(this),{target:this.target,matList:this.matList,matNum:this.matNum,progress:this.progress,targetName:this.targetName})},o.fromJSON=function(e){t.prototype.fromJSON.call(this,e),this.target=e.target,this.matList=e.matList,this.matNum=e.matNum,this.progress=e.progress,this.targetName=e.targetName},o.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e)},o.HasJob=function(){for(var t=0;t<this.progress.length;t++)if(0==this.progress[t])return!0;return!1},o.SetTarget=function(t){this.target=t,this.targetName=n(this.target,a.Name),this.matList=m(this.target,u.Mat);var e=m(this.target,u.MatCount);this.matNum=[];for(var r=0;r<e.length;r++)this.matNum[r]=e[r];this.progress=new Array(this.matList.length),this.progress.fill(0)},o.OnDrop=function(t){for(var e=0;e<this.matList.length;e++)if(this.matList[e]==t.ConfigID)return this.matNum[e]-=t.Count,this.progress[e]=this.matNum[e]<=0?-1:0,void(this.CompleteCheck()&&this.Complete())},o.DayCall=function(){for(var t=0;t<this.progress.length;t++)this.progress[t]>0&&(this.progress[t]=0)},o.GetMission=function(){var t=this;if(!this.progress)return[void 0,0];for(var e,r=this.scene.totalSecond,s=function(){if(-1==t.progress[i]||t.progress[i]>0&&r-t.progress[i]<20)return 0;var e=t.matList[i],s=t.matNum[i],o=t.scene.FindMaterial((function(t){return t.ID===e}));return o?(t.progress[i]=r,{v:[o,s]}):void 0},i=0;i<this.progress.length;i++)if(0!==(e=s())&&e)return e.v;return[void 0,0]},o.CompleteCheck=function(){for(var t=0;t<this.progress.length;t++)if(this.progress[t]>=0)return!1;return!0},o.Complete=function(){this.scene.RemoveItemByPos(this.position.x,this.position.y),this.scene.SpawnItem(this.position.x,this.position.y,this.target),this.matList=[],this.matNum=[]},s(i,[{key:"ToString",get:function(){return""+this.Name}},{key:"ToDescription",get:function(){for(var t=this.targetName,e=0;e<this.matList.length;e++){var r=-1==this.progress[e]?" <color=green>完成</color>":1==this.progress[e]?" <color=white>收集中</color>":" <color=red>缺少 x"+this.matNum[e]+"</color>";t+="\n"+n(this.matList[e],a.Name)+":"+r}return t}}]),i}(o))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventDefine.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"ed2daIM7dtL3oVKwKgfzEE8","GameEventDefine",void 0);n("ActorEventDefine",function(n){return n.onBehaviorStart="onBehaviorStart",n.onBehaviorEnd="onBehaviorEnd",n.onBehaviorInterrupted="onBehaviorInterrupted",n.onItemPush="onItemPush",n.onBuffRefresh="onBuffRefresh",n.onBuffAdd="onBuffAdd",n.onDamage="onDamage",n.onVfx="onVfx",n.onDead="onDead",n.onEquip="onEquip",n.unEquip="unEquip",n.onColorChange="onColorChange",n.onCarry="onCarry",n}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){e({AddEvent:function(e,n,t){r.has(e)||r.set(e,new Set);r.get(e).add({binder:n,func:t})},ClearEvent:function(e){r.has(e)&&r.delete(e)},ClearGlobalEvent:function(){r.clear()},FireEvent:function(e){if(r.has(e)){for(var t=r.get(e),a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];for(var u,i=n(t);!(u=i()).done;){var l=u.value;l.func.call(l.binder,o)}}},RemoveEvent:function(e,t,a){var o=r.get(e);if(o)for(var c,u=n(o);!(c=u()).done;){var i=c.value;if(i.func===a&&i.binder===t){o.delete(i);break}}}}),t._RF.push({},"38e2dqiAhNOJ4ZOLELLunzX","GameEventSystem",void 0);var r=new Map;t._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataManager.ts","./SaveManager.ts","./GameWorld.ts","./WorldStateEnum.ts","./VillageScene.ts"],(function(e){var n,t,a,o,i,r,c,u,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,o=e.Component},function(e){i=e.PlayerDataManager},function(e){r=e.NewSave},function(e){c=e.GameWorld},function(e){u=e.WorldStateEnum},function(e){l=e.VillageScene}],execute:function(){var s;t._RF.push({},"bec28LXn/BFgYSWviVL01Ml","GameOverPanel",void 0);var v=a.ccclass;a.property,e("GameOverPanel",v("GameOverPanel")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var a=t.prototype;return a.GameOver=function(){this.node.active=!1},a.Continue=function(){l.instance.SpawnItem(0,0,99),i.ModifyGold(-500),this.node.active=!1},a.NewGame=function(){r(),c.instance.ChangeState(u.Login),this.node.active=!1},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameSaveUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameWorld.ts","./WorldStateEnum.ts","./SaveManager.ts"],(function(e){var t,n,a,i,o,r,l,s,c,g,u,m,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,s=e.instantiate,c=e.Toggle,g=e.RichText,u=e.Component},function(e){m=e.GameWorld},function(e){d=e.WorldStateEnum},function(e){h=e.SetCurrent}],execute:function(){var v,S,p,f,y;o._RF.push({},"5dd35h+gHlI6LZA1IP3oBLH","GameSaveUi",void 0);var I=r.ccclass,b=r.property;e("GameSaveUi",(v=I("GameSaveUi"),S=b(l),v((y=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"gameSaveRoot",y,i(t)),t.siblingIndex=0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){for(var e=this,t=this.gameSaveRoot.children.length;t<5;t++){s(this.gameSaveRoot.children[0]).setParent(this.gameSaveRoot)}for(var n=0;n<5;n++){this.gameSaveRoot.children[n].on(c.EventType.TOGGLE,(function(t){t.isChecked&&(e.siblingIndex=t.node.getSiblingIndex())}))}},o.onEnable=function(){for(var e=0;e<5;e++){var t=localStorage.getItem("meta_"+e);if(t){var n=JSON.parse(t);this.gameSaveRoot.children[e].getComponentInChildren(g).string=n.timestamp}}},o.StartGame=function(){h(this.siblingIndex),localStorage.setItem("meta_"+this.siblingIndex,JSON.stringify({timestamp:(new Date).toLocaleString()})),m.instance.ChangeState(d.Continue)},t}(u)).prototype,"gameSaveRoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventSystem.ts","./GameWorldDefine.ts","./ItemConfig.ts","./ItemSchema.ts","./GenSid.ts","./RandomUtils.ts","./SaveManager.ts","./PlayerDataManager.ts","./RootManager.ts","./UIManager.ts","./ItemOrderType.ts","./BulletManager.ts","./PositionUtils.ts"],(function(t){var e,i,n,s,o,r,a,h,u,l,m,f,c,v,p,I,d,C;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t.Vec3},function(t){s=t.FireEvent},function(t){o=t.WorldEventDefine},function(t){r=t.ItemConfigGet,a=t.ItemConfigField},function(t){h=t.ItemSchema},function(t){u=t.GenSid},function(t){l=t.Random,m=t.RandomInt},function(t){f=t.LoadCurrent},function(t){c=t.PlayerDataManager},function(t){v=t.RootManager},function(t){p=t.UIManager},function(t){I=t.ItemOrderType},function(t){d=t.GetBullet},function(t){C=t.Pos2Loc}],execute:function(){i._RF.push({},"eb964Wh/HJOZqBIjZmwlYR3","GameScene",void 0);t("CellSize",100),t("GameScene",function(){var t=i.prototype;function i(){this.x=0,this.y=0,this.isPaused=!1,this.itemCount=200,this._enemyCount=0,this._villagerCount=0,this.actors=[],this.items=[],this.itemMaps=new Map,this.bullets=[],this.itemInfo=new Map,this.Row2y=function(t){return 100*t+50-1e3},this.Col2x=function(t){return 100*t+50-500};for(var t=0;t<this.Rows;t++){this.items[t]=[];for(var e=0;e<this.Columns;e++)this.items[t][e]=void 0}}return t.Filter=function(t){for(var e=0;e<this.actors.length;e++){var i=this.actors[e];if(t(i))return i}return null},t.randomPos=function(){return[this.x+l(-450,450),this.y+l(-800,800)]},t.FindMaterial=function(t){for(var e=m(0,this.Rows),i=m(0,this.Columns),n=0;n<this.Rows;n++)for(var s=0;s<this.Columns;s++){var o=(n+e)%this.Rows,r=(s+i)%this.Columns,a=this.items[o][r];if(a&&!a.GetFreeze()&&t(a))return a}return null},t.FindNextMaterial=function(t,e){for(var i=m(0,this.Rows),n=m(0,this.Columns),s=0;s<this.Rows;s++)for(var o=0;o<this.Columns;o++){var r=(s+i)%this.Rows,a=(o+n)%this.Columns,h=this.items[r][a];if(h&&!h.GetFreeze()&&t(h)){var u=this.FindNextItem(h,r,a,e);if(u)return[h,u]}}return null},t.UpdateItemInfo=function(t,e){0!=e&&(e>0?this.itemInfo.has(t)?this.itemInfo.set(t,this.itemInfo.get(t)+1):this.itemInfo.set(t,1):this.itemInfo.has(t)&&this.itemInfo.set(t,this.itemInfo.get(t)-1))},t.FindItem=function(t){for(var e=0;e<this.Rows;e++)for(var i=0;i<this.Columns;i++){var n=this.items[e][i];if(t(n))return n}return null},t.FindNextItem=function(t,e,i,n){for(var s=0;s<this.Rows;s++)for(var o=0;o<this.Columns;o++)if(s!=e||o!=i){var r=this.items[s][o];if(r&&!r.GetFreeze()&&n(t,r))return r}return null},t.SpawnItem=function(t,e,i){var h=r(i,a.Type),u=this.SpawnOriginItem(i);return u.position=new n(t,e,0),u.OnSpawn(this),u.CanImDestroy||(this.SetItem(t,e,u),this.UpdateItemInfo(h,1),this.addItemMap(u),this.itemCount--,s(o.itemSpawn,u)),u},t.SpawnItemByRowCol=function(t,e,i){var h=r(i,a.Type),u=this.SpawnOriginItem(i);return u.position=new n(this.x+this.Col2x(e),this.Row2y(t),0),u.OnSpawn(this),u.CanImDestroy||(this.items[t][e]=u,this.UpdateItemInfo(h,1),this.addItemMap(u),this.itemCount--,s(o.itemSpawn,u)),u},t.getItemTypeCount=function(t){var e=this.itemInfo.get(t);return e||0},t.getItemConfigCount=function(t){var e=this.itemMaps.get(t);return e?e.size:0},t.addItemMap=function(t){var e=this.itemMaps.get(t.ConfigID),i=t.sid;e?e.add(i):this.itemMaps.set(t.ConfigID,new Set([i]))},t.removeItemMap=function(t){var e=this.itemMaps.get(t.ConfigID),i=t.sid;e&&e.delete(i)},t.SpawnOriginItem=function(t){var e=r(t,a.Func),i=new h[e];return i.Init(t,u()),i},t.RandomItem=function(t){for(var e=m(0,this.Rows),i=m(0,this.Columns),n=0;n<this.Rows;n++)for(var s=0;s<this.Columns;s++){var o=(n+e)%this.Rows,r=(s+i)%this.Columns;if(!this.items[o][r])return this.SpawnItem(this.x+this.Col2x(r),this.Row2y(o),t)}return null},t.RandomFreeCell=function(){for(var t=m(0,this.Rows),e=m(0,this.Columns),i=0;i<this.Rows;i++)for(var n=0;n<this.Columns;n++){var s=(i+t)%this.Rows,o=(n+e)%this.Columns;if(!this.items[s][o])return[s,o]}return null},t.GetItem=function(t,e){if(!(t<-500||e<-1e3||t>=500||e>=1e3)){var i=Math.floor((t+500)/100),n=Math.floor((e+1e3)/100);return this.items[n][i]}},t.SetItem=function(t,e,i){var n=Math.floor((t+500)/100),s=Math.floor((e+1e3)/100);this.items[s][n]=i},t.TrySpawnItemAtPos=function(t,e,i,n){void 0===n&&(n=0);var s=this.GetItem(t,e);s?n>0&&s.Count<=n?(this.RemoveItemByPos(t,e),this.SpawnItem(t,e,i)):(n<0&&(n=0),s.Count-=n,s.SetFreeze(!1),this.SpawnItemInNearCell(t,e,i)):this.SpawnItem(t,e,i)},t.SpawnItemInNearCell=function(t,e,i){var n=this.RequestFreeCell(t,e);if(n){var s=n[1],o=n[0];this.SpawnItem(100*s+50-500,100*o+50-1e3,i)}},t.RequestFreeCell=function(t,e){for(var i=Math.floor((t+500)/100),n=Math.floor((e+1e3)/100),s=Math.max(i,n,this.Columns-i,this.Rows-n),o=0;o<=s;o++){for(var r=i-o;r<=i+o;r++)if(r>=0&&r<this.Columns){var a=n-o;if(a>=2&&!this.items[a][r])return[a,r,o];if(n+o<this.Rows&&!this.items[n+o][r])return[n+o,r,o]}for(var h=n-o+1;h<=n+o-1;h++)if(h>=0&&h<this.Rows){if(i-o>=0&&!this.items[h][i-o])return[h,i-o,o];if(i+o<this.Columns&&!this.items[h][i+o])return[h,i+o,o]}}return[-1,-1,-1]},t.SpawnBullet=function(t,e,i,n){var r=d(i);r.init(u()),r.scene=this,r.owner=n,r.forward=e.clone(),r.position=t.clone(),this.bullets.push(r),s(o.bulletSpawn,r)},t.DropItem=function(t,e,i){if(i){var n=this.GetItem(t,e);n?(n.SetFreeze(!1),n.OnDrop(i)):this.dropItemAtVoidCell(t,e,i)}},t.dropItemAtVoidCell=function(t,e,i){var r=Math.floor((t+500)/100),a=Math.floor((e+1e3)/100);i.orderType=I.None,i.position=new n(100*r+50-500,100*a+50-1e3,0),this.items[a][r]=i,this.addItemMap(i),this.itemCount--,s(o.itemSpawn,i)},t.DropEquipItem=function(t,e,i){if(i)if(this.GetItem(t,e)){var n=this.RequestFreeCell(t,e),s=n[0],o=n[1],r=n[2];s>=0&&this.dropItemAtVoidCell(100*o+50-500,100*r+50-1e3,i)}else this.dropItemAtVoidCell(t,e,i)},t.RemoveItem=function(t){for(var e=0;e<this.Rows;e++)for(var i=0;i<this.Columns;i++){var n,r=this.items[e][i];if(r&&r.sid==t)return this.UpdateItemInfo(r.Type,-1),s(o.itemDelete,t),null==(n=this.items[e][i])||n.OnRemove(),this.items[e][i]=void 0,this.itemCount++,void this.removeItemMap(r)}},t.RemoveItemByPos=function(t,e){var i,n=Math.floor((t+500)/100),r=Math.floor((e+1e3)/100),a=this.items[r][n];a&&(this.UpdateItemInfo(a.Type,-1),s(o.itemDelete,a.sid),null==(i=this.items[r][n])||i.OnRemove(),this.items[r][n]=void 0,this.itemCount++)},t.updateActors=function(t){for(var e=this,i=this.actors.length-1;i>=0;i--)if(!this.actors[i].update(t)){var n=this.actors[i];this.actors[i]=this.actors[this.actors.length-1],this.actors.pop(),this.onRemoveActor(n)}this._enemyCount=0,this.actors.forEach((function(t){2==t.Camp&&e._enemyCount++}))},t.onRemoveActor=function(t){1==t.Camp&&(c.ModifyPopulation(-1),this._villagerCount--,0==this._villagerCount&&(p.instance.Clear(),p.instance.ShowPanel("prefabs/GameOverPanel",null))),t.onDisable(),t.selected&&v.instance.Selector.setParent(null),s(o.actorDelete,t.Sid,t)},t.updateBullets=function(t){for(var e=this.bullets.length-1;e>=0;e--){var i=this.bullets[e];i.update(t)||(this.bullets.splice(e,1),s(o.bulletDelete,i))}},t.updateItemList=function(t){for(var e=0;e<this.Rows;e++)for(var i=0;i<this.Columns;i++){var n,r=this.items[e][i];if(r&&!r.update(t))return this.UpdateItemInfo(r.Type,-1),s(o.itemDelete,r.sid),null==(n=this.items[e][i])||n.OnRemove(),this.items[e][i]=void 0,this.itemCount++,void this.removeItemMap(r)}},t.onUpdate=function(t){this.updateActors(t),this.updateActorLocation(),this.updateBullets(t)},t.updateActorLocation=function(){for(var t=0;t<this.actors.length;t++){var e=this.actors[t];if(e){var i=C(e.position);if(!(i[1]<0||i[1]>=this.Rows))if(e.location){var n,s,o=e.location,r=o[0],a=o[1];if(e.location[0]!=i[0]||e.location[1]!=i[1])null==(n=this.items[a][r])||n.OnLeave(e),e.location=i,null==(s=this.items[i[1]][i[0]])||s.OnEnter(e)}else{var h;e.location=i,null==(h=this.items[i[1]][i[0]])||h.OnEnter(e)}}}},t.DeSerialize=function(){var t=f();if(t)for(var e=t,i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++){var a=n[r];if(a){var h=this.SpawnOriginItem(a.ID);h.fromJSON(a),h.OnSpawn(this),this.items[i][r]=h,s(o.itemSpawn,h)}}},t.onStart=function(){this.DeSerialize()},t.onEnd=function(){this.actors=[];for(var t=0;t<this.items.length;t++)for(var e=this.items[t],i=0;i<e.length;i++)this.items[t][i]=void 0},e(i,[{key:"villagerCount",get:function(){return this._villagerCount}},{key:"enemyCount",get:function(){return this._enemyCount}},{key:"Rows",get:function(){return 20}},{key:"Columns",get:function(){return 10}},{key:"TotalSecond",get:function(){return 0}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GameWorld.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginState.ts","./WorldState.ts","./WorldQuitState.ts","./WorldStateEnum.ts","./QuitState.ts","./NewGameState.ts","./ContinueState.ts"],(function(t){var n,e,a,o,i,r,u,s,c,l,S;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,o=t.Component},function(t){i=t.LoginState},function(t){r=t.WorldState},function(t){u=t.WorldQuitState},function(t){s=t.WorldStateEnum},function(t){c=t.QuitState},function(t){l=t.NewGameState},function(t){S=t.ContinueState}],execute:function(){var d,f;e._RF.push({},"1d477WBa/9GtbTRpY9nbYP6","GameWorld",void 0);var h=a.ccclass;a.property,t("GameWorld",h("GameWorld")(((f=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).states=void 0,n.currentState=null,n}n(e,t);var a=e.prototype;return a.onLoad=function(){var t;e.instance=this,this.states=((t={})[s.Login]=new i,t[s.NewGame]=new l(this),t[s.Continue]=new S(this),t[s.Play]=new r,t[s.Pause]=new u,t[s.Quit]=new c,t)},a.ChangeState=function(t){var n;null==(n=this.currentState)||n.onEnd(),this.currentState=this.states[t],this.currentState.onStart()},a.start=function(){this.ChangeState(s.Login)},a.update=function(t){var n;null==(n=this.currentState)||n.onUpdate(t)},e}(o)).instance=void 0,d=f))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameWorldDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3dddbnf7vtMLZYGxUCrBBhc","GameWorldDefine",void 0);e("WorldEventDefine",function(e){return e.actorSpawn="actorSpawn",e.actorDelete="actorDelete",e.actorJoin="actorJoin",e.bulletSpawn="bulletSpawn",e.bulletDelete="bulletDelete",e.villageStart="villageStart",e.itemSpawn="itemSpawn",e.itemDelete="itemDelete",e.usrDataChange="usrDataChange",e.goldData="goldData",e.gameTimeTick="gameTimeTick",e.AiOnline="AiOnline",e.AiOffline="AiOffline",e.goMinute="goMinute",e.hourTick="hourTick",e.dayTick="dayTick",e.monthTick="monthTick",e.yearTick="yearTick",e.Population="Population",e.PopulationMax="PopulationMax",e.threatTick="threatTick",e.actorSelected="actorSelected",e.roleDead="roleDead",e.turretSpawn="turretSpawn",e.turretDelete="turretDelete",e.castleHit="castleHit",e}({})),e("InputDefine",function(e){return e.Jump="Jump",e.Gacha="Gacha",e.ClickItem="ClickItem",e}({})),e("Gravity",-1980);t._RF.pop()}}}));

System.register("chunks:///_virtual/GenSid.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({GenSid:function(){return++c},SyncSid:function(n){n>c&&(c=n)}}),t._RF.push({},"7c79fUtgx1FY55DV6gIsJ6p","GenSid",void 0);var c=1001;t._RF.pop()}}}));

System.register("chunks:///_virtual/GetFileNameFromPath.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("GetFileNameFromPath",(function(e){var t=e.lastIndexOf("/");if(-1===t)return e;return e.substring(t+1)})),t._RF.push({},"ccd07iRX09JfIvcXmYJhud2","GetFileNameFromPath",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/GiftEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Effect}],execute:function(){n._RF.push({},"55db7g4DjdLbqW26hqf3maJ","GiftEffect",void 0);t("GiftEffect",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).dropMode=0,e.target=0,e}return e(n,t),n.prototype.apply=function(t,e,n,o){t&&t.scene.SpawnItemInNearCell(t.position.x,t.position.y,this.target)},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/GiftEffectConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({GiftEffectConfigGet:function(t,e){var i=f.get(t);return null==i?void 0:i[e]},GiftEffectConfigSetup:function(t,e){var n=f.get(t);if(!n)throw new Error("id:"+t+" is null");e.ID=t;for(var r=0;r<i.length;r++){var o=i[r];e[o]=Array.isArray(n[r])?[].concat(n[r]):n[r]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"bb39azj+PFHl6vyPWhakr87","GiftEffectConfig",void 0);var f=t("GiftEffectConfigData",new Map([[8001,["圆形触发器","",1,140]],[8002,["圆形触发器","",1,140]],[8003,["圆形触发器","",1,140]],[8004,["圆形触发器","",1,140]],[8005,["圆形触发器","",1,140]],[8006,["圆形触发器","",1,140]],[8007,["圆形触发器","",1,140]],[8008,["圆形触发器","",1,140]]])),i=t("GiftEffectConfigHeaders",["Name","Description","dropMode","target"]);t("GiftEffectConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.dropMode=2]="dropMode",t[t.target=3]="target",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GiftItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemBoxConfig.ts","./ItemSchema.ts","./ConditionManager.ts","./ShowMessageManager.ts"],(function(t){var e,n,i,o,s,r,a,c,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){o=t.SceneItem},function(t){s=t.ItemBoxConfigGet,r=t.ItemBoxConfigField},function(t){a=t.ItemRegister},function(t){c=t.GetCondition},function(t){f=t.ShowMessageManager}],execute:function(){var u;i._RF.push({},"f4361fBDNpNO7OhV7xDESNW","GiftItem",void 0);t("GiftItem",a("GiftItem")(u=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.OnOpen=function(){var t=c(this.ConfigID);if(!t||t.evaluate({},this)){for(var e,i=s(this.ConfigID,r.Item),o=this.position.x,a=this.position.y,u=n(i);!(e=u()).done;){var h=e.value;this.scene.SpawnItemInNearCell(o,a,h)}this.scene.RemoveItem(this.sid)}else f.instance.Show(t.Fail,this.position,3,void 0,255,0,0)},i}(o))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/GmPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts"],(function(e){var n,t,i,r,o,a,s,l,c,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.EditBox,l=e.Vec3,c=e.Component},function(e){p=e.VillageScene}],execute:function(){var u,f,m,g,d,h,v;o._RF.push({},"c3041b9pBpIFJC6GnFbQlJg","GmPanel",void 0);var y=a.ccclass,B=a.property;e("GmPanel",(u=y("GmPanel"),f=B(s),m=B(s),u((h=n((d=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"idBox",h,r(n)),i(n,"posBox",v,r(n)),n}t(n,e);var o=n.prototype;return o.start=function(){console.error(JSON.stringify(new l(102,13,38)))},o.update=function(e){},o.onDraw=function(){},o.onSkillTest=function(){var e=p.instance,n=this.posBox.string;e.SetScala(parseInt(n))},o.onTimerTest=function(){var e=p.instance;console.error(e.items),e.RandomItem(121)},o.onClick=function(){var e=parseInt(this.idBox.string),n=0,t=0,i=p.instance;if(this.posBox.string){var r=this.posBox.string.split(" ");n=parseInt(r[0]),t=parseInt(r[1]),i.SpawnItem(n,t,e)}else i.RandomItem(e)},n}(c)).prototype,"idBox",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(d.prototype,"posBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/HasEnemyTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(e){var t,n,r,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ResultType},function(e){s=e.TreeNodeRegister}],execute:function(){var i;n._RF.push({},"a5074v6M85J7Ijv2j0xd3Y0","HasEnemyTarget",void 0);e("HasEnemyTarget",s("HasEnemyTarget")(i=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){return this.owner.TargetEnemy&&this.owner.TargetEnemy.enabled&&!this.owner.TargetEnemy.IsDead?o.ok:o.fail},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/HasOrder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./QuestManager.ts","./TreeNodeRegister.ts"],(function(e){var r,t,n,o,s,i,u;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.Action},function(e){o=e.ResultType},function(e){s=e.MemoryDefine},function(e){i=e.QuestManager},function(e){u=e.TreeNodeRegister}],execute:function(){var c;t._RF.push({},"3c585N2sZBMy7T/eyFTZ9WN","HasOrder",void 0);e("HasOrder",u("HasOrder")(c=function(e){function t(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=e.call.apply(e,[this].concat(n))||this).OrderType="",r}return r(t,e),t.prototype.onUpdate=function(e){var r=this.owner.Memory.get(s.order);if(r)return r.type==this.OrderType?o.ok:o.fail;var t=i.Instance.RequestTask(),n=t[0],u=t[1];return n?(console.error("PushOrder",u.sid,u.itemSid),this.owner.Memory.set(s.order,u),u.type==this.OrderType?o.ok:o.fail):r?o.ok:o.fail},t}(n))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/HasWeaponAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,o,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Action},function(t){i=t.ResultType},function(t){s=t.TreeNodeRegister}],execute:function(){var r;n._RF.push({},"8ca73rXYzpNiJH7mqYd/OAK","HasWeaponAction",void 0);t("HasWeaponAction",s("HasWeaponAction")(r=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){return this.mgr.owner.HasWeapon?i.ok:i.fail},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/HitBackEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(t){var n,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.Effect}],execute:function(){e._RF.push({},"33b8fW4MOFAwov9Nb9Uy3N/","HitBackEffect",void 0);t("HitBackEffect",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var c=e.prototype;return c.apply=function(t){},c.Release=function(){},c.ToString=function(t){return"hitback"},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/HitBackEffectConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({HitBackEffectConfigGet:function(t,e){var i=f.get(t);return null==i?void 0:i[e]},HitBackEffectConfigSetup:function(t,e){var c=f.get(t);if(!c)throw new Error("id:"+t+" is null");e.ID=t;for(var n=0;n<i.length;n++){var o=i[n];e[o]=Array.isArray(c[n])?[].concat(c[n]):c[n]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"59f28qGVoZJfKUodPkemJoZ","HitBackEffectConfig",void 0);var f=t("HitBackEffectConfigData",new Map([[3001,["圆形触发器","",.5,[50]]],[3002,["圆形触发器","",.5,[50]]],[3003,["圆形触发器","",.5,[50]]],[3004,["圆形触发器","",.5,[50]]],[3005,["圆形触发器","",.5,[50]]],[3006,["圆形触发器","",.5,[50]]],[3007,["圆形触发器","",.5,[50]]],[3008,["圆形触发器","",.5,[50]]]])),i=t("HitBackEffectConfigHeaders",["Name","Description","radius","effects"]);t("HitBackEffectConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.radius=2]="radius",t[t.effects=3]="effects",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/HitStiffEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(t){var f,e,n;return{setters:[function(t){f=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.Effect}],execute:function(){e._RF.push({},"b4bd3jq0o5Coqo4TMNuGnRF","HitStiffEffect",void 0);t("HitStiffEffect",function(t){function e(){return t.apply(this,arguments)||this}f(e,t);var n=e.prototype;return n.Release=function(){},n.ToString=function(t){return"HitStiffEffect"},e}(n));e._RF.pop()}}}));

System.register("chunks:///_virtual/HitStiffEffectConfig.ts",["cc"],(function(t){var f;return{setters:[function(t){f=t.cclegacy}],execute:function(){t({HitStiffEffectConfigGet:function(t,f){var e=i.get(t);return null==e?void 0:e[f]},HitStiffEffectConfigSetup:function(t,f){var n=i.get(t);if(!n)throw new Error("id:"+t+" is null");f.ID=t;for(var r=0;r<e.length;r++){var c=e[r];f[c]=Array.isArray(n[r])?[].concat(n[r]):n[r]}"function"==typeof f.onLoad&&f.onLoad()}}),f._RF.push({},"34f82+j8dVB1rQFPRXrIpdc","HitStiffEffectConfig",void 0);var i=t("HitStiffEffectConfigData",new Map([[5001,["圆形触发器","",.5,[50]]],[5002,["圆形触发器","",.5,[50]]],[5003,["圆形触发器","",.5,[50]]],[5004,["圆形触发器","",.5,[50]]],[5005,["圆形触发器","",.5,[50]]],[5006,["圆形触发器","",.5,[50]]],[5007,["圆形触发器","",.5,[50]]],[5008,["圆形触发器","",.5,[50]]]])),e=t("HitStiffEffectConfigHeaders",["Name","Description","radius","effects"]);t("HitStiffEffectConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.radius=2]="radius",t[t.effects=3]="effects",t}({}));f._RF.pop()}}}));

System.register("chunks:///_virtual/HomeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./GameEventSystem.ts","./GameWorldDefine.ts","./PlayerDataManager.ts"],(function(t){var e,n,o,i,r,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.ItemRegister},function(t){i=t.SceneItem},function(t){r=t.AddEvent},function(t){a=t.WorldEventDefine},function(t){c=t.PlayerDataManager}],execute:function(){var s;n._RF.push({},"364e1tMkdtPt4aSXlq/5RgQ","HomeItem",void 0);t("HomeItem",o("HomeItem")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e),c.ModifyPopulationMax(3),r(a.castleHit,this,this.OnHit)},o.OnHit=function(t){console.error("HomeItem OnHit")},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeItemView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventSystem.ts","./GameWorldDefine.ts"],(function(t){var e,o,n,r,i,s,c,a,p;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Sprite,i=t.ProgressBar,s=t.Color,c=t.Component},function(t){a=t.AddEvent},function(t){p=t.WorldEventDefine}],execute:function(){var u;o._RF.push({},"94058i8b95NdI8y3CEaMkE7","HomeItemView",void 0);var l=n.ccclass;n.property,t("HomeItemView",l("HomeItemView")(u=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).bar=void 0,e.sp=void 0,e}e(o,t);var n=o.prototype;return n.start=function(){this.sp=this.node.children[0].getComponent(r),this.bar=this.node.getComponent(i),a(p.castleHit,this,this.OnHit)},n.OnHit=function(t){var e=t[0];this.bar.progress=e,this.sp.color=e<.5?s.RED:s.GREEN},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/HourTriggerBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts"],(function(r){var t,e,u;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy},function(r){u=r.Buff}],execute:function(){e._RF.push({},"5d94cTXrY9FzbK4+oqpnRl0","HourTriggerBuff",void 0);r("HourTriggerBuff",function(r){function e(){for(var t,e=arguments.length,u=new Array(e),n=0;n<e;n++)u[n]=arguments[n];return(t=r.call.apply(r,[this].concat(u))||this).hour=0,t}return t(e,r),e.prototype.update=function(t,e){return this.hour<t.scene.hour?(this.execute(t),1):r.prototype.update.call(this,t,e)},e}(u));e._RF.pop()}}}));

System.register("chunks:///_virtual/HourTriggerBuffConfig.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){r({HourTriggerBuffConfigGet:function(r,e){var f=o.get(r);return null==f?void 0:f[e]},HourTriggerBuffConfigSetup:function(r,e){var i=o.get(r);if(!i)throw new Error("id:"+r+" is null");e.ID=r;for(var n=0;n<f.length;n++){var u=f[n];e[u]=Array.isArray(i[n])?[].concat(i[n]):i[n]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"73c36PFgTVMCLzvhcvb5HSp","HourTriggerBuffConfig",void 0);var o=r("HourTriggerBuffConfigData",new Map([[6001,["小时触发","",9,[201]]],[6002,["小时触发","",9,[201]]],[6003,["小时触发","",9,[201]]],[6004,["小时触发","",9,[201]]],[6005,["小时触发","",9,[201]]],[6006,["小时触发","",9,[201]]],[6007,["小时触发","",9,[201]]],[6008,["小时触发","",9,[201]]]])),f=r("HourTriggerBuffConfigHeaders",["Name","Description","hour","effects"]);r("HourTriggerBuffConfigField",function(r){return r[r.Name=0]="Name",r[r.Description=1]="Description",r[r.hour=2]="hour",r[r.effects=3]="effects",r}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/HouseItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./PlayerDataManager.ts","./ItemSchema.ts","./ActorManager.ts","./RandomUtils.ts","./ChatManager.ts"],(function(t){var o,e,n,a,r,i,c,s,m;return{setters:[function(t){o=t.inheritsLoose,e=t.extends},function(t){n=t.cclegacy},function(t){a=t.SceneItem},function(t){r=t.PlayerDataManager},function(t){i=t.ItemRegister},function(t){c=t.ActorManager},function(t){s=t.Random},function(t){m=t.ChatManager}],execute:function(){var u;n._RF.push({},"9a94f+zOUtM2pDx1UUZCsY4","HouseItem",void 0);t("HouseItem",i("HouseItem")(u=function(t){function n(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=t.call.apply(t,[this].concat(n))||this).roommate=[-1,-1],o}o(n,t);var a=n.prototype;return a.toJSON=function(){return e({},t.prototype.toJSON.call(this),{roommate:this.roommate})},a.fromJSON=function(o){t.prototype.fromJSON.call(this,o),this.roommate=o.roommate},a.OnSpawn=function(o){t.prototype.OnSpawn.call(this,o),r.ModifyPopulationMax(1)},a.OnRemove=function(){r.ModifyPopulationMax(-1)},a.DayCall=function(){if(!(this.roommate.length<=1)){var t=c.instance.getActor(this.roommate[0]),o=c.instance.getActor(this.roommate[1]);if(t&&o){var e=s(0,100);e<43?this.scene.RandomItem(140):e<70?(m.instance.Push("<color=red>"+o.Name+" 因为发生争吵离开了领地~</color>"),o.ChangeHp(-1e7),this.roommate[0]=-1):(m.instance.Push("<color=red>"+o.Name+" 因为睡眠不佳离开了领地~</color>"),o.ChangeHp(-1e7),this.roommate[1]=-1)}}},n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/HousePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActorManager.ts","./PropertyType.ts","./BundleResManager.ts"],(function(e){var t,o,n,i,l,a,r,s,c,u,h,m,p,d,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Node,s=e.Sprite,c=e.Button,u=e.instantiate,h=e.Color,m=e.RichText,p=e.Component},function(e){d=e.ActorManager},function(e){f=e.PropertyType},function(e){y=e.LoadSprite}],execute:function(){var g,v,R,C,H,B,b,T,I,N,S,P,w,L;l._RF.push({},"7da5fXwn/JCQ6wXcTrBBC1Y","HousePanel",void 0);var E=a.ccclass,z=a.property;e("HousePanel",(g=E("HousePanel"),v=z(r),R=z(r),C=z(s),H=z(r),B=z(r),g(((L=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).closeBtn=null,n(t,"detailRoot",I,i(t)),n(t,"seatRoot",N,i(t)),n(t,"houseItem",S,i(t)),n(t,"outBtn",P,i(t)),n(t,"itemTmp",w,i(t)),t.select=0,t.selectRole=null,t.selectNode=null,t.localHouse=void 0,t.seatStatus=void 0,t}o(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.closeBtn=this.node.getChildByName("Close"),this.closeBtn.on(c.EventType.CLICK,(function(){e.node.destroy()}))},l.quitHouse=function(e){var t=this;if(!(e<=0)){var o=d.instance.getActor(e);o&&o.SetProperty(f.house,0);var n=u(this.itemTmp);n.setParent(this.detailRoot),n.active=!0,this.setItem(n,o),n.on(c.EventType.CLICK,(function(){t.selectRole=o,t.selectNode=n}))}},l.onEnable=function(){var e=this;this.localHouse=t.houseItem,y(this.localHouse.Icon).then((function(t){e.houseItem.spriteFrame=t})),this.seatStatus=new Array(this.localHouse.roommate.length),this.seatStatus.fill(!1);for(var o=Math.min(this.localHouse.SubType,this.localHouse.roommate.length),n=function(){var t=i;e.seatRoot.children[i].active=i<o,e.seatRoot.children[i].getChildByName("Quit").on(c.EventType.CLICK,(function(){e.quitHouse(e.localHouse.roommate[t]),e.localHouse.roommate[t]=-1})),e.seatRoot.children[i].getChildByName("Enter").on(c.EventType.CLICK,(function(){e.selectRole&&(e.selectNode.destroy(),e.quitHouse(e.localHouse.roommate[t]),e.localHouse.roommate[t]=e.selectRole.Sid,e.seatStatus[t]=!1,e.selectRole.SetProperty(f.house,e.localHouse.sid),e.selectRole=null)}))},i=0;i<this.seatRoot.children.length;i++)n();this.node.active=!0;for(var l=this.localHouse.scene.actors.filter((function(e){return 1==e.Camp&&0==e.RoleType&&e.GetProperty(f.house)<=0})),a=this.detailRoot.children[0],r=1;r<l.length;r++){u(a).setParent(this.detailRoot)}for(var s=function(){var t=e.detailRoot.children[h];t.active=!0,e.setItem(e.detailRoot.children[h],l[h]);var o=l[h];t.on(c.EventType.CLICK,(function(){e.selectRole=o,e.selectNode=t}))},h=0;h<l.length;h++)s()},l.update=function(e){if(this.localHouse)for(var t=0;t<this.localHouse.roommate.length;t++){var o=this.seatStatus[t],n=this.localHouse.roommate[t];if(-1==n)o&&(this.seatRoot.children[t].getChildByName("Back").getComponent(s).color=h.WHITE,this.seatRoot.children[t].getChildByName("RichText").getComponent(m).string="空闲",this.seatStatus[t]=!1);else if(!o){var i=d.instance.getActor(n);this.seatRoot.children[t].getChildByName("Back").getComponent(s).color=new h(244,189,255,255),this.seatRoot.children[t].getChildByName("RichText").getComponent(m).string=i.Name,this.seatStatus[t]=!0}}},l.setItem=function(e,t){e.getChildByName("Label").getComponent(m).string=t.Name},t}(p)).houseItem=void 0,I=t((T=L).prototype,"detailRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"seatRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(T.prototype,"houseItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(T.prototype,"outBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(T.prototype,"itemTmp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=T))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/HungerRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRule.ts"],(function(n){var e,t,u;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){u=n.SceneRule}],execute:function(){t._RF.push({},"90a5ee4tyBLP6Wn4qWZLMa7","HungerRule",void 0);n("HungerRule",function(n){function t(e){var t;return(t=n.call(this,e)||this).f=5,t}e(t,n);var u=t.prototype;return u.onEnd=function(){},u.onStart=function(){},u.onUpdate=function(n){},t}(u));t._RF.pop()}}}));

System.register("chunks:///_virtual/IAction.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3077evtgxVEDpsraFhneNeN","IAction",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IActorFilter.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d063aJ/k5FO0KusTroP4/ew","IActorFilter",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IBoxCollidable.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a2f00z7JSpLNpD58dUzwaRY","IBoxCollidable",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IdleBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(e){var i,r,n;return{setters:[function(e){i=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.Behavior}],execute:function(){r._RF.push({},"9a3d2BbQ4VOC74ZxVvTx1np","IdleBehavior",void 0);e("IdleBehavior",function(e){function r(){var i;return(i=e.call(this)||this)._behaviorType="IdleBehavior",i}return i(r,e),r}(n));r._RF.pop()}}}));

System.register("chunks:///_virtual/ImportantEvents.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventSystem.ts","./GameWorldDefine.ts"],(function(t){var n,e,i,r,o,a,s,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.RichText,c=t.Component},function(t){u=t.AddEvent},function(t){l=t.WorldEventDefine}],execute:function(){var p,f,v,h,d;o._RF.push({},"14270bPD2tNwqTMYssWO3mW","ImportantEvents",void 0);var m=a.ccclass,y=a.property;t("ImportantEvents",(p=m("ImportantEvents"),f=y(s),p((d=n((h=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"Text",d,r(n)),n}e(n,t);var o=n.prototype;return o.onLoad=function(){},o.start=function(){u(l.threatTick,this,this.OnHourTick.bind(this))},o.onEnable=function(){},o.onDisable=function(){},o.OnHourTick=function(t){var n=t[0];this.Text.string=n<=0?"":"威胁("+n+"天后):异族入侵"},n}(c)).prototype,"Text",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=h))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/IncineratorItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./TimerTask.ts","./PropertyType.ts","./ShowMessageManager.ts"],(function(t){var e,n,s,o,r,i,a,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},function(t){o=t.ItemRegister},function(t){r=t.SceneItem},function(t){i=t.TimerTask},function(t){a=t.ItemType},function(t){u=t.ShowMessageManager}],execute:function(){var c;s._RF.push({},"22e24dZXiFPqLkxnYhZOWIJ","IncineratorItem",void 0);t("IncineratorItem",o("IncineratorItem")(c=function(t){function s(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).Status=0,e.trashCount=0,e.fuel=0,e}e(s,t);var o=s.prototype;return o.GetFreeze=function(){return 2==this.Status},o.OnDrop=function(t){var e=this;this.isStateChange=!0,t.Type==a.dirtySolid&&(this.trashCount=t.Count),106==t.ID&&(this.fuel+=t.Count),this.fuel>=this.trashCount?(this.Status=2,i.instance.Add(5*this.trashCount,this,(function(){e.Status=0,e.fuel-=e.trashCount,e.trashCount=0,e.isStateChange=!0,u.instance.Show("焚烧完毕！",e.position,3)}))):this.Status=1},n(s,[{key:"ToDescription",get:function(){return 2==this.Status?"正在焚烧垃圾":1==this.Status?"等待燃料:"+this.fuel+" "+this.trashCount:t.prototype.ToDescription}},{key:"ToString",get:function(){return 2==this.Status?"<color=red>"+this.Name+"</color>":1==this.Status?"<color=green>"+this.Name+"</color>":t.prototype.ToString}}]),s}(r))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["cc","./GameWorldDefine.ts","./GameEventSystem.ts"],(function(n){var e,t,u,i,r,c;return{setters:[function(n){e=n.cclegacy,t=n.input,u=n.Input,i=n.KeyCode},function(n){r=n.InputDefine},function(n){c=n.FireEvent}],execute:function(){var o;e._RF.push({},"3eee5n16aZMrbkR/gc4IpU0","InputManager",void 0);var a=n("InputManager",function(){function n(){}var e=n.prototype;return e.init=function(){t.on(u.EventType.KEY_DOWN,(function(n){n.keyCode===i.SPACE&&c(r.Jump)}))},e.Clear=function(){},n}());o=a,a.instance=new o,e._RF.pop()}}}));

System.register("chunks:///_virtual/InSight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var n,e,i,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Action},function(t){r=t.ResultType},function(t){o=t.TreeNodeRegister}],execute:function(){var c;e._RF.push({},"a771dZBz8FCKKhniXVCV0k9","InSight",void 0);t("InSight",o("InSight")(c=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).Range=10,n}return n(e,t),e.prototype.onUpdate=function(t){var n=this.mgr.owner,e=n.scene.actors.filter((function(t){return t.Camp!=n.Camp}));if(0==e.length)return r.fail;var i=n.Distance2(e[0].position),o=100*this.Range;return i<o*o?(n.TargetEnemy=e[0],r.fail):r.ok},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/IntentionTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./PropertyType.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(n){var e,t,o,i,r,s,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){o=n.Action},function(n){i=n.IntentionType},function(n){r=n.ResultType},function(n){s=n.MemoryDefine},function(n){c=n.TreeNodeRegister}],execute:function(){var u;t._RF.push({},"609feaAtsFP1LRjQd+6ww2y","IntentionTrigger",void 0);n("IntentionTrigger",c("IntentionTrigger")(u=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))||this).Intention=i.none,e}return e(t,n),t.prototype.onUpdate=function(n){return this.mgr.owner.Memory.get(s.intention)==this.Intention?(this.mgr.owner.Memory.set(s.intention,i.none),r.ok):r.fail},t}(o))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/IntersectUtils.ts",["cc","./Clamp.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.cclegacy,n=t.Vec2},function(t){r=t.Clamp}],execute:function(){t({IntersectCircle2Rectangle:function(t,e,n,u,i,c){var l=r(t.x,n,c),a=r(t.y,u,i),x=l-t.x,y=a-t.y;return x*x+y*y<=e*e},IntersectRay2Rectangle:function(t,e,r,u){var i=Number.MIN_VALUE,c=Number.MAX_VALUE;if(0!=e.x){var l=(r.x-t.x)/e.x,a=(u.x-t.x)/e.x;if(l>a){var x=l;l=a,a=x}if(i=Math.max(i,l),c=Math.min(c,a),i>c)return null}else if(t.x<r.x||t.x>u.x)return null;if(0!=e.y){var y=(r.y-t.y)/e.y,s=(u.y-t.y)/e.y;if(y>s){var f=y;y=s,s=f}if(i=Math.max(i,y),c=Math.min(c,s),i>c)return null}else if(t.y<r.y||t.y>u.y)return null;if(i>=0)return new n(t.x+i*e.x,t.y+i*e.y);return null}}),e._RF.push({},"f061dIOhpNI9YPIdtmh1DsL","IntersectUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Inverter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./Decorator.ts","./TreeNodeRegister.ts"],(function(e){var t,r,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.ResultType},function(e){o=e.Decorator},function(e){i=e.TreeNodeRegister}],execute:function(){var u;r._RF.push({},"6d369HLXQxFe7RqJQn7DmVA","Inverter",void 0);e("Inverter",i("Inverter")(u=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.onDecoratorUpdate=function(e){var t=this.updateChild(e);return t==n.fail?n.ok:t==n.ok?n.fail:t},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/IRecyclable.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"72065v7SEZKPpQrh6EShG5w","IRecyclable",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/IState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"aa6ee1k2MpDz6cQ+0SLqYml","IState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBoxConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({ItemBoxConfigGet:function(e,t){var o=n.get(e);return null==o?void 0:o[t]},ItemBoxConfigSetup:function(e,t){var r=n.get(e);if(!r)throw new Error("id:"+e+" is null");t.ID=e;for(var i=0;i<o.length;i++){var a=o[i];t[a]=Array.isArray(r[i])?[].concat(r[i]):r[i]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"ddd77UqjehM67+mg7N9SVHR","ItemBoxConfig",void 0);var n=e("ItemBoxConfigData",new Map([[1041,["建造菜单",[153,152,155,156,158,161,162,163,164,171]]],[1048,["建造菜单",[1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212]]],[139,["初始礼包",[106,116,112,311,113,224,201]]],[30001,["卡包菜单",[1001,1003,1004]]],[28152,["工作台",[234,235,237]]],[28153,["加工台",[106,116,112]]],[28154,["工作台***",[107,111,117]]],[28155,["熔炉*",[130,127,128]]],[28156,["熔炉**",[130,127,128]]],[28157,["熔炉***",[130,127,128]]],[28158,["缝纫机**",[201,202,203,224,225,226,207,208,209,210]]],[28159,["缝纫机**",[201,202,203,204,205,206,207,208,209,210]]],[28160,["缝纫机***",[201,202,203,204,205,206,207,208,209,210]]],[28161,["铁砧*",[231,232,233,240,241,242]]],[28162,["铁砧**",[231,232,233,240,241,242]]],[28163,["铁砧***",[231,232,233,240,241,242]]],[28164,["篝火",[133,134,135]]],[28165,["灶台**",[136,137,138]]],[28166,["灶台***",[136,137,138]]],[28167,["研究台*",[107,111,117]]],[28168,["研究台**",[107,111,117]]],[28169,["研究台***",[107,111,117]]],[28170,["炼金台*",[107,111,117]]],[28171,["炼金台**",[107,111,117]]],[28172,["炼金台***",[107,111,117]]],[311,["补给 一",[302,113]]],[312,["补给 二",[313,303,113]]],[313,["补给 三",[314,304,113]]],[314,["补给 四",[315,305,113]]],[315,["补给 五",[316,306,113]]],[316,["补给 六",[317,307,113]]],[317,["补给 七",[318,308,113]]],[318,["补给 八",[319,309,113]]],[319,["补给 九",[320,310,113]]],[320,["补给 十",[]]]])),o=e("ItemBoxConfigHeaders",["Name","Item"]);e("ItemBoxConfigField",function(e){return e[e.Name=0]="Name",e[e.Item=1]="Item",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({ItemConfigGet:function(e,t){var n=o.get(e);return null==n?void 0:n[t]},ItemConfigSetup:function(e,t){var i=o.get(e);if(!i)throw new Error("id:"+e+" is null");t.ID=e;for(var c=0;c<n.length;c++){var m=n[c];t[m]=Array.isArray(i[c])?[].concat(i[c]):i[c]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"dbb49Dn7dBLsrZbxXlZN6Df","ItemConfig",void 0);var o=e("ItemConfigData",new Map([[1,["","空占位","",0,"EmptyItem",1,1,0,"",0,0]],[2,["","刷怪器","",0,"MonsterWaveItem",1,1,0,"",0,0]],[94,["村民","角色生成器","icons/pictoicon_abstract",0,"RoleGenerator",1,1,256,"",1005,0]],[95,["村民","角色生成器","icons/pictoicon_abstract",0,"RoleGenerator",1,1,256,"",1002,9]],[96,["村民","角色生成器","icons/pictoicon_abstract",0,"RoleGenerator",1,1,256,"",1002,9]],[97,["村民","角色生成器","icons/pictoicon_abstract",0,"RoleGenerator",1,1,256,"",1002,9]],[98,["村民","角色生成器","icons/pictoicon_abstract",0,"RoleGenerator",1,1,256,"",1002,9]],[99,["村民","角色生成器","icons/pictoicon_abstract",0,"RoleGenerator",1,1,256,"",1002,9]],[100,["村民","角色生成器","icons/pictoicon_abstract",1,"RoleGenerator",1,1,256,"",1001,10]],[101,["矿藏","可开采","stone",1,"SceneItem",13,1,0,"",1007,10]],[102,["树","可采集","plant_big_tree",1,"SceneItem",14,1,2,"",1009,10]],[103,["果树","可采集","big_tree_leaf_01",1,"SceneItem",14,1,2,"",1006,10]],[104,["灌木","可采集","plant_small_bush",1,"SceneItem",14,1,2,"",1006,10]],[105,["蘑菇","食材","icon_mushroom_04",1,"SceneItem",15,1,1,"",1006,10]],[106,["木材","常见的材料","mat_wood",10,"SceneItem",16,1,1,"",0,10]],[107,["木板","建筑材料","mat_boards",50,"SceneItem",0,1,1,"",0,10]],[108,["木棍","武器","Item_Icon_Wood",1,"SceneItem",0,1,0,"",0,10]],[109,["木炭","燃料","Item_Icon_Wood",1,"SceneItem",0,1,1,"",0,10]],[110,["燧石","点火","ore_silv",1,"SceneItem",0,1,1,"",0,10]],[111,["石砖","建筑材料","mat_brick",50,"SceneItem",0,1,1,"",0,10]],[112,["石块","石砖的材料","stone2",1,"SceneItem",0,1,1,"",0,10]],[113,["钱袋","没多少,省着点花","icon_1694",1,"MoneyBag",0,1,32,"",100,10]],[114,["大钱袋","没多少,省着点花","icon_1694",1,"MoneyBag",0,1,32,"",1e3,10]],[115,["鸡窝","可以用来孵化鸡蛋","henhouse",1,"SceneItem",0,1,1,"",0,10]],[116,["草","纤维的材料","small_grass_01",1,"SceneItem",0,1,0,"",0,10]],[117,["纤维","服装材料","mat_fibre",1e3,"SceneItem",0,1,1,"",0,10]],[118,["绳子","材料","ore_silv",1,"SceneItem",0,1,1,"",0,10]],[119,["布料","服装材料","ore_silv",1,"SceneItem",0,1,65,"",0,10]],[120,["火种","火种","ore_silv",1,"SceneItem",0,1,1,"",0,10]],[121,["金矿","装备材料","metals/ore_biggold",1,"SceneItem",17,1,129,"",127,10]],[122,["银矿","炼制银锭","metals/ore_silv",1,"SceneItem",17,1,129,"",128,10]],[123,["铜矿","炼制铜锭","metals/ore_copper",1,"SceneItem",17,1,129,"",129,10]],[124,["铁矿","炼制铁锭","metals/ore_iron",1,"SceneItem",17,1,129,"",130,10]],[125,["煤矿","煤矿","metals/ore_silv",1,"SceneItem",17,1,1,"",0,10]],[126,["魔晶","神秘材料","metals/ore_crystal",1,"SceneItem",17,1,1,"",0,10]],[127,["金锭","装备材料","metals/ingot_gold",99,"SceneItem",18,1,1,"",0,100]],[128,["银锭","装备材料","metals/ingot_silv",99,"SceneItem",18,1,1,"",0,50]],[129,["铜锭","装备材料","metals/ingot_copper",99,"SceneItem",18,1,1,"",0,50]],[130,["铁锭","装备材料","metals/ingot_iron",99,"SceneItem",18,1,1,"",0,10]],[131,["煤锭","装备材料","icon_question",99,"SceneItem",18,1,1,"",0,10]],[132,["铀锭","材料","icon_question",99,"SceneItem",18,1,1,"",0,10]],[133,["烤蘑菇","鲜美的食物","foods/food_roast_mushroom",1,"SceneItem",15,1,5,"",100,10]],[134,["烤玉米","鲜美的食物","foods/food_corn_2",1,"SceneItem",15,1,5,"",100,10]],[135,["烤肉","鲜美的食物","foods/food_bbq_3",1,"SceneItem",15,1,5,"",100,10]],[136,["蘑菇","食材","foods/food_mushroom_1",1,"SceneItem",16,1,1,"",133,10]],[137,["玉米","食材","foods/food_corn",1,"SceneItem",16,1,1,"",134,10]],[138,["肉块","食材","foods/food_meat",1,"SceneItem",16,1,1,"",135,10]],[139,["卑微的开始","少量物资","icon_1680",1,"GiftItem",0,1,32,"",0,10]],[140,["婴儿","投喂食物才能长大成人","icon_baby",1,"BabyItem",0,1,0,"",5,10]],[141,["留言","留言","letters_t_01",1,"ScrollItem",0,1,32,"",0,10]],[142,["浆果","浆果","icon_question",1,"SceneItem",15,1,17,"",0,10]],[143,["地下城入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,17,"",0,10]],[144,["矿洞","","icon_question",1,"GiftItem",0,1,129,"",0,10]],[145,["野猪","","icon_question",1,"RoleGenerator",1,1,256,"",1003,10]],[146,["野狼","","animal_wolf_2",1,"RoleGenerator",1,1,256,"",1003,10]],[147,["野鸡","","animal_cock",1,"RoleGenerator",1,1,256,"",1003,10]],[148,["虎","","animal_tiger",1,"RoleGenerator",1,1,256,"",1003,10]],[149,["蛇","","animal_snake",1,"RoleGenerator",1,1,256,"",1003,10]],[150,["野狗","","icon_question",1,"RoleGenerator",1,1,256,"",1003,10]],[151,["村庄","","icon_question",1,"SceneItem",1,1,129,"",0,10]],[152,["工作台","合成道具","tables/icon_craft_table",1,"CraftTable",20,1,1,"",28152,10]],[153,["加工台","加工材料","tables/icon_process_table",1,"SellTable",28,10004,1,"",28153,10]],[154,["","合成道具","tables/icon_craft_table",1,"CraftTable",20,1,1,"",28154,10]],[155,["熔炉","提炼矿石","tables/icon_furnace_01",1,"MeltTable",26,10003,1,"",28155,10]],[156,["焚烧炉","销毁垃圾","tables/icon_furnace_01",1,"IncineratorItem",26,10003,1,"",28156,10]],[157,["熔炉","提炼矿石","tables/icon_furnace_01",1,"SellTable",26,10003,1,"",28157,10]],[158,["缝纫机","制作服装","tables/icon_sewing_machine",1,"CraftTable",20,1,1,"",28158,10]],[159,["缝纫机","制作服装","tables/icon_sewing_machine",1,"CraftTable",20,1,1,"",28159,10]],[160,["缝纫机","制作服装","tables/icon_sewing_machine",1,"CraftTable",20,1,1,"",28160,10]],[161,["铁砧","铁砧","tables/icon_forge",1,"CraftTable",19,1,1,"",28161,10]],[162,["单身公寓","人口上限+1","tables/icon_little_house",1,"HouseItem",2,1,0,"",28162,10]],[163,["住宅","人口上限+2","tables/icon_house",1,"HouseItem",2,2,0,"",28163,10]],[164,["篝火","烹饪简单食物","tables/icon_campfire_01",1,"SellTable",27,10001,1,"",28164,10]],[165,["灶台","烹饪简单食物","tables/icon_cook_table",1,"CraftTable",20,1,1,"",28165,10]],[166,["灶台3","烹饪简单食物","tables/icon_cook_table",1,"SceneItem",20,1,1,"",28166,10]],[167,["研究台","研究科技","tables/craftTable",1,"CraftTable",2,1,1,"",28167,10]],[168,["智慧之塔","科技中心","tables/craftTable",1,"CraftTable",2,1,1,"",28168,10]],[169,["量子引擎","科技中心","tables/craftTable",1,"CraftTable",2,1,1,"",28169,10]],[170,["强化台","强化装备","tables/craftTable",1,"SceneItem",24,1,1,"",28170,10]],[171,["货架","销售物品","tables/icon_sell_table",1,"SellTable",25,10002,1,"",28171,10]],[172,["强化台","合成道具","tables/craftTable",1,"SceneItem",24,1,1,"",28172,10]],[201,["青春版T恤","没什么属性加成，\n但是比果奔好吧~","equips/icon_920",1,"EquipItem",5,1,25,"",0,10]],[202,["衣服","防御装备","equips/armor_02",1,"EquipItem",5,1,25,"",0,10]],[203,["衣服","防御装备","equips/armor_03",1,"EquipItem",5,1,25,"",0,10]],[204,["衣服","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[205,["衣服","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[206,["衣服","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[207,["轻甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[208,["重甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[209,["板甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[210,["圣灵甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[211,["霜语之甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[212,["雷纹铠","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[213,["龙炎战铠","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[214,["龙鳞甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[215,["蚀星甲","防御装备","equips/cloth_001",1,"EquipItem",5,1,25,"",0,10]],[216,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[217,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[218,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[219,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[220,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[221,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[222,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[223,["帽子","防御装备","hats/icon_752",1,"EquipItem",5,2,25,"",0,10]],[224,["鞋子","提高移动速度","equips/boot_1259",1,"EquipItem",5,3,25,"",0,10]],[225,["鞋子","提高移动速度","equips/boot_1265",1,"EquipItem",5,3,25,"",0,10]],[226,["鞋子","提高移动速度","equips/boot_1266",1,"EquipItem",5,3,25,"",0,10]],[227,["鞋子","提高移动速度","equips/boot_1269",1,"EquipItem",5,3,25,"",0,10]],[228,["鞋子","提高移动速度","equips/boot_1348",1,"EquipItem",5,3,25,"",0,10]],[229,["鞋子","提高移动速度","equips/boot_1381",1,"EquipItem",5,3,25,"",0,10]],[230,["鞋子","提高移动速度","equips/boot_1387",1,"EquipItem",5,3,25,"",0,10]],[231,["长剑","攻击装备","equips/wp_01",1,"EquipItem",5,0,25,"",1001,10]],[232,["雷鸣刀","攻击装备","equips/wp_02",1,"EquipItem",5,0,25,"",1001,10]],[233,["炽魂剑","攻击装备","equips/wp_03",1,"EquipItem",5,0,25,"",1001,10]],[234,["斧头","伐木工具","equips/axe_147_t",1,"EquipItem",5,0,25,"prefabs/tool_147",1e3,10]],[235,["矿镐","开采工具","equips/axe_t_06",1,"EquipItem",5,0,25,"prefabs/tool_06",1e3,10]],[236,["扫把","保洁工具","equips/axe_t_06",1,"EquipItem",5,0,25,"prefabs/wp_01",1e3,10]],[237,["狼牙棒","低级武器","equips/wp_stick",1,"EquipItem",5,0,25,"",1001,10]],[238,["武器","攻击装备","equips/axe_t_06",1,"EquipItem",5,0,25,"prefabs/wp_01",1e3,10]],[239,["武器","攻击装备","equips/axe_t_06",1,"EquipItem",5,0,25,"prefabs/wp_01",1e3,10]],[240,["手枪","攻击装备","equips/wp_505",1,"EquipItem",5,0,25,"prefabs/wp_505",1002,10]],[241,["手枪","攻击装备","equips/wp_508",1,"EquipItem",5,0,25,"prefabs/wp_508",1002,10]],[242,["手枪","攻击装备","equips/wp_515",1,"EquipItem",5,0,25,"prefabs/wp_515",1002,10]],[243,["炽魂剑","攻击装备","equips/wp_01",1,"EquipItem",5,0,25,"prefabs/wp_01",1001,10]],[244,["龙脊逆刃","攻击装备","equips/wp_02",1,"EquipItem",5,0,25,"prefabs/wp_02",1001,10]],[245,["苍炎剑","攻击装备","equips/wp_03",1,"EquipItem",5,0,25,"prefabs/wp_03",1001,10]],[246,["金库","","set_icon_gold_3",1,"SceneItem",2,1,0,"",0,10]],[247,["金库","","set_icon_gold_3",1,"SceneItem",2,1,1,"",0,10]],[248,["金库","","set_icon_gold_3",1,"SceneItem",2,1,1,"",0,10]],[249,["建造中…","建造物","icon_question",1,"FoundationItem",21,1,0,"",0,10]],[250,["零件","","mat_gear_1",1,"SceneItem",40,1,0,"",0,10]],[251,["精密零件","","mat_gear_2",1,"SceneItem",59,1,0,"",0,10]],[252,["纳米零件","","mat_gear_3",1,"SceneItem",78,1,0,"",0,10]],[253,["土壤","土壤","tiles/tile_earth",1,"EarthItem",23,1,0,"",0,10]],[254,["","","",1,"EarthItem",23,1,0,"",0,10]],[255,["","","",1,"EarthItem",23,1,0,"",0,10]],[256,["小麦","食材","seed_01",1,"SceneItem",22,1,64,"",0,10]],[257,["种子","种子","seed_01",1,"SceneItem",22,2,64,"",0,10]],[258,["种子","种子","seed_01",1,"SceneItem",22,3,64,"",0,10]],[259,["种子","种子","seed_01",1,"SceneItem",22,4,0,"",0,10]],[260,["种子","种子","seed_01",1,"SceneItem",22,5,0,"",0,10]],[261,["种子","种子","seed_01",1,"SceneItem",22,6,0,"",0,10]],[262,["种子","种子","seed_01",1,"SceneItem",22,7,0,"",0,10]],[263,["种子","种子","seed_01",1,"SceneItem",22,8,0,"",0,10]],[264,["种子","种子","seed_01",1,"SceneItem",22,9,0,"",0,10]],[301,["生存指引","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[302,["工具指引","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[303,["战斗指引","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[304,["指引 四","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[305,["指引 五","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[306,["指引 六","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[307,["指引 七","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[308,["指引 八","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[309,["指引 九","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[310,["指引 十","知识点","scroll_01_t",1,"ScrollItem",0,1,32,"",0,10]],[311,["物资 一","少量物资","icon_1680",1,"GiftItem",0,1,32,"",0,10]],[312,["物资 二","少量物资","icon_1680",1,"GiftItem",0,1,32,"",0,10]],[313,["物资 三","少量物资","icon_1681",1,"GiftItem",0,1,32,"",0,10]],[314,["物资 四","少量物资","icon_1681",1,"GiftItem",0,1,32,"",0,10]],[315,["物资 五","少量物资","icon_1681",1,"GiftItem",0,1,32,"",0,10]],[316,["物资 六","少量物资","icon_1682",1,"GiftItem",0,1,32,"",0,10]],[317,["物资 七","少量物资","icon_1682",1,"GiftItem",0,1,32,"",0,10]],[318,["物资 八","少量物资","icon_1682",1,"GiftItem",0,1,32,"",0,10]],[319,["物资 九","少量物资","icon_1682",1,"GiftItem",0,1,32,"",0,10]],[320,["物资 十","少量物资","icon_1682",1,"GiftItem",0,1,32,"",0,10]],[401,["《编译原理》","无用之物","books/book_05_t",1,"GiftItem",0,1,512,"",0,10]],[402,["《数据结构》","无用之物","books/book_11_t",1,"GiftItem",0,1,512,"",0,10]],[403,["《实时渲染》","无用之物","books/book_13_t",1,"GiftItem",0,1,512,"",0,10]],[404,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[405,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[406,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[407,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[408,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[409,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[410,["","","icon_question",1,"GiftItem",0,1,512,"",0,10]],[999,["金币","金币","commads/coin",1,"CmdGoldItem",0,1,0,"",0,10]],[1001,["基础","卡包","commads/cmd_lottery1",1,"BagItem",0,1,40,"",0,15]],[1002,["食物","卡包","commads/cmd_lottery2",1,"BagItem",0,1,40,"",0,25]],[1003,["探索","卡包","commads/cmd_lottery3",1,"BagItem",0,1,40,"",0,45]],[1004,["人才","卡包","commads/cmd_lottery4",1,"RoleBagItem",0,1,40,"",0,99]],[1005,["新的伙伴","卡包","commads/cmd_lottery5",1,"BagItem",0,1,40,"",0,99]],[1006,["砍树掉落","卡包","commads/cmd_lottery6",1,"BagItem",0,1,40,"",0,65]],[1007,["挖矿掉落","卡包","commads/cmd_lottery7",1,"BagItem",0,1,40,"",0,75]],[1008,["野生动物包","卡包","commads/cmd_lottery8",1,"BagItem",0,1,40,"",0,85]],[1009,["卡包9","卡包","icon_question",1,"BagItem",0,1,40,"",0,95]],[1010,["卡包10","卡包","icon_question",1,"BagItem",0,1,40,"",0,105]],[1011,["卡包11","卡包","icon_question",1,"BagItem",0,1,40,"",0,115]],[1012,["卡包12","卡包","icon_question",1,"BagItem",0,1,40,"",0,125]],[1013,["卡包13","卡包","icon_question",1,"BagItem",0,1,40,"",0,135]],[1014,["卡包14","卡包","icon_question",1,"BagItem",0,1,40,"",0,145]],[1015,["卡包15","卡包","icon_question",1,"BagItem",0,1,40,"",0,155]],[1016,["卡包16","卡包","icon_question",1,"BagItem",0,1,40,"",0,165]],[1017,["卡包17","卡包17","icon_question",1,"BagItem",0,1,40,"",0,175]],[1018,["卡包18","卡包18","icon_question",1,"BagItem",0,1,40,"",0,185]],[1019,["卡包19","卡包19","icon_question",1,"BagItem",0,1,40,"",0,195]],[1020,["卡包20","卡包20","icon_question",1,"BagItem",0,1,40,"",0,10]],[1021,["卡包21","卡包21","icon_question",1,"BagItem",0,1,40,"",0,10]],[1022,["卡包22","卡包22","icon_question",1,"BagItem",0,1,40,"",0,10]],[1023,["卡包23","卡包23","icon_question",1,"BagItem",0,1,40,"",0,10]],[1024,["卡包24","卡包24","icon_question",1,"BagItem",0,1,40,"",0,10]],[1025,["卡包25","卡包25","icon_question",1,"BagItem",0,1,40,"",0,10]],[1026,["卡包26","卡包26","icon_question",1,"BagItem",0,1,40,"",0,10]],[1027,["卡包27","卡包27","icon_question",1,"BagItem",0,1,40,"",0,10]],[1028,["卡包28","卡包28","icon_question",1,"BagItem",0,1,40,"",0,10]],[1029,["卡包29","卡包29","icon_question",1,"BagItem",0,1,40,"",0,10]],[1030,["卡包30","卡包30","icon_question",1,"BagItem",0,1,40,"",0,10]],[1031,["卡包31","卡包31","icon_question",1,"BagItem",0,1,40,"",0,10]],[1032,["卡包32","卡包32","icon_question",1,"BagItem",0,1,40,"",0,10]],[1033,["卡包33","卡包33","icon_question",1,"BagItem",0,1,40,"",0,10]],[1034,["卡包34","卡包34","icon_question",1,"BagItem",0,1,40,"",0,10]],[1035,["卡包35","卡包35","icon_question",1,"BagItem",0,1,40,"",0,10]],[1036,["卡包36","卡包36","icon_question",1,"BagItem",0,1,40,"",0,10]],[1037,["卡包37","卡包37","icon_question",1,"BagItem",0,1,40,"",0,10]],[1038,["卡包38","卡包38","icon_question",1,"BagItem",0,1,40,"",0,10]],[1039,["卡包39","卡包39","icon_question",1,"BagItem",0,1,40,"",0,10]],[1040,["卡包40","卡包40","icon_question",1,"BagItem",0,1,40,"",0,10]],[1041,["建造","CraftPanel","commads/cmd_build",1,"CommandItem",0,1,32,"",0,10]],[1042,["","","",1,"",0,1,32,"",0,10]],[1043,["信箱","卡包43","icon_mailbox",1,"ToggleItem",0,1,32,"",0,10]],[1044,["指令","通用操作","commads/cmd_action",1,"CmdMenuItem",0,1,32,"",0,10]],[1045,["时间","时间","commads/cmd_time",1,"CmdCalenderItem",0,1,0,"",0,10]],[1047,["人口","人口,修建住宅\n可以提升人口上限","commads/poplation",1,"CmdPopItem",0,1,0,"",0,10]],[1048,["军事","CraftPanel","commads/cmd_military",1,"CommandItem",0,1,0,"",0,10]],[1049,["军功","军功","commads/cmd_record",1,"ScrollItem",0,1,0,"",0,10]],[1050,["","家园","commads/itemicon_guild_flag",1,"HomeItem",0,1,0,"prefabs/Home",0,10]],[1101,["地下城入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1102,["第三层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1103,["第4层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1104,["第5层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1105,["第6层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1106,["第7层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1107,["第8层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1108,["第9层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1109,["第10层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1110,["第11层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1111,["第12层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1112,["第13层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1113,["第14层入口","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1114,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1115,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1116,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1117,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1118,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1119,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1120,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1121,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1122,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1123,["","地下城入口","icon_question",1,"DungeonEntrance",0,1,0,"",0,10]],[1201,["防御塔","防御塔","icon_question",1,"TurretItem",0,1,0,"",0,10]],[1202,["防御塔","防御塔","icon_question",1,"TurretItem",0,1,0,"",0,10]],[1203,["防御塔","防御塔","icon_question",1,"TurretItem",0,1,0,"",0,10]],[1204,["地雷","地雷","icon_question",1,"MineItem",0,1,0,"",0,10]],[1205,["地雷","地雷","icon_question",1,"MineItem",0,1,0,"",0,10]],[1206,["地雷","地雷","icon_question",1,"MineItem",0,1,0,"",0,10]],[1207,["减速","陷阱","icon_question",1,"MineItem",0,1,0,"",0,10]],[1208,["减速","陷阱","icon_question",1,"MineItem",0,1,0,"",0,10]],[1209,["减速","陷阱","icon_question",1,"MineItem",0,1,0,"",0,10]],[1210,["钉字带","掉血陷阱","icon_question",1,"MineItem",0,1,0,"",0,10]],[1211,["钉字带","掉血陷阱","icon_question",1,"MineItem",0,1,0,"",0,10]],[1212,["钉字带","掉血陷阱","icon_question",1,"MineItem",0,1,0,"",0,10]],[1213,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1214,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1215,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1216,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1217,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1218,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1219,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1220,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1221,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1222,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1223,["防御塔","防御塔","icon_question",1,"ScrollItem",0,1,0,"",0,10]],[1301,["污渍1","装备【扫把】打扫一下就可以清除","icon_question",1,"SceneItem",29,1,0,"",0,10]],[1302,["污渍2","装备【扫把】打扫一下就可以清除","icon_question",1,"SceneItem",29,1,0,"",0,10]],[1303,["污渍3","装备【扫把】打扫一下就可以清除","icon_question",1,"SceneItem",29,1,0,"",0,10]],[1304,["污渍4","装备【扫把】打扫一下就可以清除","icon_question",1,"SceneItem",29,1,0,"",0,10]],[1305,["污渍5","装备【扫把】打扫一下就可以清除","icon_question",1,"SceneItem",29,1,0,"",0,10]],[1306,["垃圾","垃圾1","waste/waste1",3,"SceneItem",30,1,0,"",0,10]],[1307,["垃圾","垃圾2","waste/waste2",3,"SceneItem",30,1,0,"",0,10]],[1308,["垃圾","垃圾3","waste/waste3",3,"SceneItem",30,1,0,"",0,10]],[1309,["垃圾","垃圾4","waste/waste4",3,"SceneItem",30,1,0,"",0,10]],[1310,["垃圾","垃圾5","waste/waste5",3,"SceneItem",30,1,0,"",0,10]],[1311,["垃圾","顽固垃圾1","icon_question",3,"SceneItem",30,1,0,"",0,10]],[1312,["垃圾","顽固垃圾2","icon_question",3,"SceneItem",30,1,0,"",0,10]],[1313,["垃圾","顽固垃圾3","icon_question",3,"SceneItem",30,1,0,"",0,10]],[1314,["垃圾","顽固垃圾4","icon_question",3,"SceneItem",30,1,0,"",0,10]],[1315,["垃圾","顽固垃圾5","icon_question",3,"SceneItem",30,1,0,"",0,10]]])),n=e("ItemConfigHeaders",["Name","Description","Icon","Stack","Func","Type","SubType","Flag","Model","Arg","Price"]);e("ItemConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.Icon=2]="Icon",e[e.Stack=3]="Stack",e[e.Func=4]="Func",e[e.Type=5]="Type",e[e.SubType=6]="SubType",e[e.Flag=7]="Flag",e[e.Model=8]="Model",e[e.Arg=9]="Arg",e[e.Price=10]="Price",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCraftPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./ItemBoxConfig.ts","./BundleResManager.ts","./FormulaConfig.ts"],(function(t){var e,o,n,i,r,a,l,s,u,h,c,f,m,g,p,C,d,v,I,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.instantiate,u=t.Label,h=t.Sprite,c=t.Button,f=t.Component,m=t.RichText},function(t){g=t.ItemConfigGet,p=t.ItemConfigField},function(t){C=t.ItemBoxConfigGet,d=t.ItemBoxConfigField},function(t){v=t.LoadSprite},function(t){I=t.FormulaConfigGet,y=t.FormulaConfigField}],execute:function(){var R,b,P,T,B,S,q,L,F,x,E;r._RF.push({},"1a96ayVilhEKqdOrq1Z3J8H","ItemCraftPanel",void 0);var K=a.ccclass,w=a.property;t("ItemCraftPanel",(R=K("ItemCraftPanel"),b=w(l),P=w(l),T=w(l),B=w(l),R((L=e((q=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"slotRoot",L,i(e)),n(e,"queueRoot",F,i(e)),n(e,"queueItemTemp",x,i(e)),n(e,"matRoot",E,i(e)),e.list=void 0,e.table=void 0,e}o(e,t);var r=e.prototype;return r.Init=function(t){this.table=t;var e=g(t.ConfigID,p.Arg);this.list=C(e,d.Item),this.InitSlots()},r.InitQueue=function(){for(var t=0;t<this.table.targetQueue.length;t++){var e=this.table.targetQueue[t],o=s(this.queueItemTemp);o.active=!0,o.setParent(this.queueRoot),this.SetItem(o,e,"1")}},r.InitSlots=function(){for(var t=this,e=this.slotRoot.children.length;e<this.list.length;e++){s(this.slotRoot.children[0]).setParent(this.slotRoot)}for(var o=function(){var e=t.slotRoot.children[n];e.active=!0;var o=e.getComponentInChildren(u),i=t.list[n];o.string=g(i,p.Name);var r=g(i,p.Icon);e.off(c.EventType.CLICK),e.on(c.EventType.CLICK,(function(){t.TryAdd(i)}),t);var a=e.getChildByName("Close");a.off(c.EventType.CLICK),a.on(c.EventType.CLICK,(function(){t.ShowMaterials(i)}),t);var l=e.getChildByPath("Sprite").getComponent(h);v(r).then((function(t){l.spriteFrame=t}))},n=0;n<this.list.length;n++)o();this.InitQueue()},r.TryAdd=function(t){var e=t+"";if(1==this.table.Push(t)){var o=s(this.queueItemTemp);o.active=!0,o.setParent(this.queueRoot),o.name=e,this.SetItem(o,t,"x1")}},r.SetItem=function(t,e,o){var n=this;t.getChildByPath("Label").getComponent(u).string=g(e,p.Name),t.getChildByPath("Num").getComponent(u).string=o;var i=g(e,p.Icon),r=t.getChildByPath("Sprite").getComponent(h);v(i).then((function(t){r.spriteFrame=t})),t.off(c.EventType.CLICK),t.on(c.EventType.CLICK,(function(){var e=t.getSiblingIndex(),o=n.queueRoot.children[e];1==n.table.TryRemove(e)&&o.destroy()}),this)},r.clear=function(){for(var t=0;t<this.queueRoot.children.length;t++){this.queueRoot.children[t].destroy()}},r.onDisable=function(){for(var t=0;t<this.slotRoot.children.length;t++){this.slotRoot.children[t].active=!1}},r.start=function(){var t=this;this.node.getChildByPath("Close").on(c.EventType.CLICK,(function(){t.node.destroy()}),this)},r.ShowMaterials=function(t){for(var e=this,o=I(t,y.Mat),n=I(t,y.MatCount),i=this.matRoot.children.length,r=o.length,a=r;a<i;a++)this.matRoot.children[a].destroy();for(var l=i;l<r;l++){s(this.matRoot.children[0]).setParent(this.matRoot)}for(var u=function(){var t=e.matRoot.children[c];t.active=!0,t.getChildByPath("RichText").getComponent(m).string=g(o[c],p.Name)+"x"+n[c];var i=g(o[c],p.Icon);v(i).then((function(e){t.getChildByPath("Sprite").getComponent(h).spriteFrame=e}))},c=0;c<r;c++)u()},e}(f)).prototype,"slotRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(q.prototype,"queueRoot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(q.prototype,"queueItemTemp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(q.prototype,"matRoot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=q))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemFunc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts"],(function(t){var e,n,i,o,r,a,s,c,l,u,p,h,d,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.RichText,c=t.Node,l=t.Layout,u=t.Button,p=t.Vec3,h=t.UITransform,d=t.instantiate,y=t.Component},function(t){m=t.UIManager}],execute:function(){var f,v,g,T,b,I,w,x,C,D;r._RF.push({},"179513eWH9DM7o38QUAEbLX","ItemFunc",void 0);var L=a.ccclass,z=a.property;t("ItemFunc",(f=L("ItemFunc"),v=z(s),g=z(c),T=z(l),f(((D=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"itemName",w,o(e)),i(e,"tmp",x,o(e)),i(e,"layout",C,o(e)),e.transform=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;e.instance=this,this.layout=this.node.getComponent(l),this.itemName.node.children[0].on(u.EventType.CLICK,(function(){t.node.active=!1}),this)},r.update=function(t){m.instance.panelRoot.children.length>0&&(this.node.active=!1)},r.Begin=function(t){this.node.active=!0,this.itemName.string=t.ToDescription;for(var e=this.node.children.length-1;e>=1;e--)this.node.children[e].destroy();return this},r.End=function(t){var e=new p(t.position.x,t.position.y,0);this.node.position=e;var n=e,i=this.node.getComponent(h),o=i.width/2;n.x-o<-500?n.x=o-500:n.x+o>=500&&(n.x=500-o),n.y<500?(this.layout.verticalDirection=l.VerticalDirection.BOTTOM_TO_TOP,this.layout.updateLayout(),this.node.position=new p(n.x,n.y+50,n.z)):(this.layout.verticalDirection=l.VerticalDirection.TOP_TO_BOTTOM,this.layout.updateLayout(),this.node.position=new p(n.x,n.y-50-i.contentSize.y,n.z))},r.Append=function(t,e){var n=d(this.tmp);return n.setParent(this.node),n.active=!0,n.getComponentInChildren(s).string=t,n.on(u.EventType.CLICK,e),this},r.ShowSingleTip=function(t,e,n){this.Begin(t),this.Append(e,n),this.End(t)},e}(y)).instance=void 0,w=e((I=D).prototype,"itemName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(I.prototype,"tmp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(I.prototype,"layout",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=I))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemInteract.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(t){var e,n,r,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.TreeNodeRegister},function(t){o=t.Action},function(t){c=t.ResultType}],execute:function(){var i;n._RF.push({},"ca248eCg89JJJXUNam5mNfj","ItemInteract",void 0);t("ItemInteract",r("ItemInteract")(i=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.scene,n=this.owner.position,r=e.GetItem(n.x,n.y);return r&&r.OnInteract(),c.ok},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemOrderType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f5ee3YySTRIq6tCGxGPThDe","ItemOrderType",void 0);e("ItemOrderType",function(e){return e[e.None=0]="None",e[e.Sell=1]="Sell",e[e.Collect=2]="Collect",e[e.ReLocate=3]="ReLocate",e[e.TearDown=4]="TearDown",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemSchema.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("ItemRegister",(function(e){return function(t){c[e]=t}})),t._RF.push({},"1f9b2jOPchBYJWwKRRjNsbS","ItemSchema",void 0);var c=e("ItemSchema",{});t._RF.pop()}}}));

System.register("chunks:///_virtual/IWorld.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8253e5eMGhJDaK8BVDfNFDz","IWorld",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IWorldState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"451032TvslHhKiXhcTo7KoP","IWorldState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/JumpBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(e){var i,r,t;return{setters:[function(e){i=e.inheritsLoose},function(e){r=e.cclegacy},function(e){t=e.Behavior}],execute:function(){r._RF.push({},"e14b1TkuXFPP6tDZdk2zXGY","JumpBehavior",void 0);e("JumpBehavior",function(e){function r(){var i;return(i=e.call(this)||this)._behaviorType="JumpBehavior",i}return i(r,e),r}(t));r._RF.pop()}}}));

System.register("chunks:///_virtual/LaserBulletConfig.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e({LaserBulletConfigGet:function(e,r){var t=n.get(e);return null==t?void 0:t[r]},LaserBulletConfigSetup:function(e,r){var a=n.get(e);if(!a)throw new Error("id:"+e+" is null");r.ID=e;for(var i=0;i<t.length;i++){var u=t[i];r[u]=Array.isArray(a[i])?[].concat(a[i]):a[i]}"function"==typeof r.onLoad&&r.onLoad()}}),r._RF.push({},"5e957ePyvxIZ6auEqie+URG","LaserBulletConfig",void 0);var n=e("LaserBulletConfigData",new Map([[4001,["圆形触发器","",.5,[1001]]],[4002,["圆形触发器","",.5,[1001]]],[4003,["圆形触发器","",.5,[1001]]],[4004,["圆形触发器","",.5,[1001]]],[4005,["圆形触发器","",.5,[1001]]],[4006,["圆形触发器","",.5,[1001]]],[4007,["圆形触发器","",.5,[1001]]],[4008,["圆形触发器","",.5,[1001]]]])),t=e("LaserBulletConfigHeaders",["Name","Description","radius","values"]);e("LaserBulletConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.radius=2]="radius",e[e.values=3]="values",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/LogAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var o,e,n,r,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.Action},function(t){r=t.ResultType},function(t){c=t.TreeNodeRegister}],execute:function(){var i;e._RF.push({},"453a4AX+vRC45+hyj0dRCDs","LogAction",void 0);t("LogAction",c("LogAction")(i=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).str="hello",o}return o(e,t),e.prototype.onUpdate=function(t){return console.log(this.str),r.ok},e}(n))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/LogEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleContextType.ts","./Effect.ts"],(function(t){var e,n,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.BattleContextType},function(t){c=t.Effect}],execute:function(){n._RF.push({},"edb63TE+XBEnaB2w9IQRXFN","LogEffect",void 0);t("LogEffect",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.apply=function(t,e,n,c){console.log(e.getValue(o.BuffID)+" Name:"+t.Name+" "+this.Name)},c.Release=function(){},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/LogEffectConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({LogEffectConfigGet:function(e,t){var o=n.get(e);return null==o?void 0:o[t]},LogEffectConfigSetup:function(e,t){var f=n.get(e);if(!f)throw new Error("id:"+e+" is null");t.ID=e;for(var i=0;i<o.length;i++){var r=o[i];t[r]=Array.isArray(f[i])?[].concat(f[i]):f[i]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"02399OONytM84u3iEkechKr","LogEffectConfig",void 0);var n=e("LogEffectConfigData",new Map([[9001,["圆形触发器","圆形触发器"]],[9002,["圆形触发器3333","圆形触发器3333"]],[9003,["圆形触发器3334","圆形触发器3334"]],[9004,["圆形触发器3335","圆形触发器3335"]],[9005,["圆形触发器3336","圆形触发器3336"]],[9006,["圆形触发器3337","圆形触发器3337"]],[9007,["圆形触发器3338","圆形触发器3338"]],[9008,["圆形触发器3339","圆形触发器3339"]]])),o=e("LogEffectConfigHeaders",["Name","Description"]);e("LogEffectConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginState.ts",["cc","./BundleResManager.ts","./UIManager.ts"],(function(n){var t,o,e,i,a;return{setters:[function(n){t=n.cclegacy,o=n.Prefab,e=n.instantiate},function(n){i=n.LoadBundle},function(n){a=n.UIManager}],execute:function(){t._RF.push({},"1c1ecl1I+pOxKR4vDr3yZM6","LoginState",void 0);n("LoginState",function(){function n(){this.login=void 0}var t=n.prototype;return t.onStart=function(){var n=this;i().then((function(t){t.load("prefabs/LoginUi",o,(function(t,o){o&&(n.login=e(o),n.login.parent=a.instance.panelRoot,n.login.active=!0)}))})).catch((function(n){console.error(n)}))},t.onUpdate=function(n){},t.onEnd=function(){this.login.destroy()},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameWorld.ts","./WorldStateEnum.ts"],(function(e){var t,o,n,i,a,r,c,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,l=e.Component},function(e){s=e.GameWorld},function(e){u=e.WorldStateEnum}],execute:function(){var f,p,v,m,g;a._RF.push({},"2fa2aqmD4hJcrW6nvEW/7Th","LoginUi",void 0);var h=r.ccclass,S=r.property;e("LoginUi",(f=h("LoginUi"),p=S(c),f((g=t((m=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"gameSaveRoot",g,i(t)),t}o(t,e);var a=t.prototype;return a.onEnable=function(){var e=this;this.gameSaveRoot.on("click",(function(){e.gameSaveRoot.active=!1}),this)},a.onDisable=function(){this.gameSaveRoot.off("click")},a.StartGame=function(){s.instance.ChangeState(u.NewGame)},a.ShowGameSave=function(){this.gameSaveRoot.active=!0},t}(l)).prototype,"gameSaveRoot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ConfigManager.ts","./EventDefines.ts","./ResManager.ts","./Actor.ts","./ActorComponent.ts","./BattleActor.ts","./BattleContext.ts","./Behavior.ts","./AuraBuff.ts","./Buff.ts","./ConstBuff.ts","./DelayBuff.ts","./DualBuff.ts","./FlipBuff.ts","./HourTriggerBuff.ts","./ModifierBuff.ts","./TimerBuff.ts","./TriggerBuff.ts","./CheckCamp.ts","./Condition.ts","./DelayTaskManager.ts","./ActorFilter.ts","./IActorFilter.ts","./IAction.ts","./IBoxCollidable.ts","./IState.ts","./IntersectUtils.ts","./MemoryDefine.ts","./AiComponent.ts","./AnimClip.ts","./BulletCaster.ts","./CircleCaster.ts","./EffectCaster.ts","./RayCaster.ts","./RectCaster.ts","./SFxAction.ts","./SelfCaster.ts","./SfxClip.ts","./SimpleCaster.ts","./TrackBulletCaster.ts","./VfxClip.ts","./BattleBehavior.ts","./CarryBehavior.ts","./CraftBehavior.ts","./EatBehavior.ts","./EquipBehavior.ts","./IdleBehavior.ts","./JumpBehavior.ts","./MineBehavior.ts","./MoveBehavior.ts","./MoveToBehavior.ts","./SequenceBehavior.ts","./SlimeMoveBehavior.ts","./Bomb.ts","./Bullet.ts","./CanonBall.ts","./Missile.ts","./Projectile.ts","./ActorMask.ts","./BattleContextType.ts","./PropertyType.ts","./BuffEffect.ts","./CamShakeEffect.ts","./ChangeColorEffect.ts","./ChangeHatEffect.ts","./DamageEffect.ts","./DelayEffect.ts","./DisableEffect.ts","./Effect.ts","./GiftEffect.ts","./HitBackEffect.ts","./HitStiffEffect.ts","./LogEffect.ts","./PropertyModifier.ts","./RandomBuffEffect.ts","./ScaleEffect.ts","./StunEffect.ts","./SummonEffect.ts","./CampCheck.ts","./Clamp.ts","./Action.ts","./BehaviorTree.ts","./BehaviorTreeManager.ts","./CompareType.ts","./Decorator.ts","./Entry.ts","./ParentNode.ts","./ResultType.ts","./TreeNode.ts","./TreeNodeRegister.ts","./CastSkillAction.ts","./CastWeaponSkillAction.ts","./CheckBuildJob.ts","./CheckCollectJob.ts","./CheckCondition.ts","./CheckCurrentBehavior.ts","./CheckItem.ts","./CheckItemInfo.ts","./CheckOrderMat.ts","./CheckPackageItem.ts","./CheckRoleMask.ts","./CheckTableJob.ts","./CheckTime.ts","./CheckWeaponAction.ts","./CleanAction.ts","./ClearJobAction.ts","./CompareAction.ts","./CompareProperty.ts","./CompleteOrder.ts","./CraftAction.ts","./CreateItemAction.ts","./CreateOrder.ts","./DisableRoleAction.ts","./DoBehaviorById.ts","./DropItemAction.ts","./EatAction.ts","./FindCarryJob.ts","./FindCarryMineJob.ts","./FindCarryTrashJob.ts","./FindChopJob.ts","./FindCleanJob.ts","./FindCraftJob.ts","./FindFarmJob.ts","./FindFeedJob.ts","./FindFuelJob.ts","./FindItemAction.ts","./FindItemPos.ts","./FindReLocateJob.ts","./FindTearDownJob.ts","./FindVoidSpace.ts","./FollowTargetAction.ts","./HasEnemyTarget.ts","./HasOrder.ts","./HasWeaponAction.ts","./InSight.ts","./IntentionTrigger.ts","./ItemInteract.ts","./LogAction.ts","./MarketCheck.ts","./MarketSell.ts","./MeltAction.ts","./MoveToAction.ts","./OpenCardAction.ts","./PickupAction.ts","./PlayAnimationAction.ts","./Progress.ts","./PropertyCompare.ts","./RandomAction.ts","./RandomPosAction.ts","./RandomWait.ts","./ReturnPriority.ts","./SceneItemDrop.ts","./SelectEnemy.ts","./SetIntention.ts","./ShowChatMsg.ts","./ShowMsgAction.ts","./SleepAction.ts","./SlimeDropAction.ts","./SlimeFlee.ts","./SlimeTargetPos.ts","./SubmitOrderMat.ts","./SubmitTableMat.ts","./TableComplete.ts","./TearDownAction.ts","./UseNextPos.ts","./VillageInBattle.ts","./WaitAction.ts","./Wander.ts","./WearEquipAction.ts","./EvaluateSelector.ts","./Parallel.ts","./PrioritySelector.ts","./RandomSelector.ts","./Selector.ts","./Sequence.ts","./CollectMaterial.ts","./Conditional.ts","./CoolDown.ts","./Evaluator.ts","./EvtListener.ts","./Inverter.ts","./Repeater.ts","./ReturnFailure.ts","./ReturnSuccess.ts","./UntilFailure.ts","./UntilSuccess.ts","./CheckEnemyCondition.ts","./Condition2.ts","./DateCondition.ts","./EventEmitter.ts","./GameEventDefine.ts","./GameEventSystem.ts","./IRecyclable.ts","./ObjectPool.ts","./RandomUtils.ts","./TimerTask.ts","./UDictionary.ts","./Vector2Utils.ts","./ActorConfig.ts","./AnimActionConfig.ts","./AuraBuffConfig.ts","./BattleActionManager.ts","./BattleBehaviorConfig.ts","./BlockConfig.ts","./BombConfig.ts","./BuffEffectConfig.ts","./BuffManager.ts","./BulletCasterConfig.ts","./BulletConfig.ts","./BulletManager.ts","./CamShakeEffectConfig.ts","./CanonBallConfig.ts","./CardBagConfig.ts","./ChangeColorEffectConfig.ts","./ChangeHatEffectConfig.ts","./CheckEnemyConfig.ts","./CircleActionConfig.ts","./ConditionManager.ts","./ConstBuffConfig.ts","./ConvertConfig.ts","./DamageEffectConfig.ts","./DateConditionConfig.ts","./DelayBuffConfig.ts","./DelayEffectConfig.ts","./DisableEffectConfig.ts","./DropConfig.ts","./DualBuffConfig.ts","./DungeonConfig.ts","./EffectManager.ts","./EquipItemConfig.ts","./FlipBuffConfig.ts","./FormulaConfig.ts","./GiftEffectConfig.ts","./HitBackEffectConfig.ts","./HitStiffEffectConfig.ts","./HourTriggerBuffConfig.ts","./ItemBoxConfig.ts","./ItemConfig.ts","./LaserBulletConfig.ts","./LogEffectConfig.ts","./MissileBulletConfig.ts","./MissileConfig.ts","./ModifierBuffConfig.ts","./ModifierEffectConfig.ts","./MonsterGroupConfig.ts","./MonsterWaveConfig.ts","./PickupConfig.ts","./RandomBuffEffectConfig.ts","./RayCastActionConfig.ts","./RectActionConfig.ts","./SFxActionConfig.ts","./ScaleEffectConfig.ts","./SimpleCasterConfig.ts","./StunEffectConfig.ts","./SummonEffectConfig.ts","./TimerBuffConfig.ts","./TipConfig.ts","./TrackBulletConfig.ts","./TriggerBuffConfig.ts","./VfxActionConfig.ts","./BattleScene.ts","./ConstDefine.ts","./ContinueState.ts","./DungeonScene.ts","./EntityActor.ts","./GameScene.ts","./GameWorld.ts","./GameWorldDefine.ts","./GenSid.ts","./IWorld.ts","./IWorldState.ts","./ItemSchema.ts","./LoginState.ts","./NameGenerator.ts","./NewGameState.ts","./ChopQuest.ts","./CraftQuest.ts","./PickupQuest.ts","./Quest.ts","./QuestManager.ts","./QuestState.ts","./QuestType.ts","./SoldQuest.ts","./QuitState.ts","./SceneMap.ts","./UnderGround.ts","./AsyncCombine.ts","./BinaryUtils.ts","./GetFileNameFromPath.ts","./NeighborUtils.ts","./PositionUtils.ts","./RandomByWeights.ts","./TileNeighborUtils.ts","./VillageScene.ts","./WorldQuitState.ts","./WorldState.ts","./WorldStateEnum.ts","./DungeonMap.ts","./HungerRule.ts","./MonsterRule.ts","./SceneRule.ts","./VillageGachaRule.ts","./VillageItemClickRule.ts","./VillageRule.ts","./ActorSelector.ts","./BagTip.ts","./CommonUi.ts","./ConfirmTip.ts","./CraftPanel.ts","./DungeonEntrancePanel.ts","./EquipTip.ts","./FeedPanel.ts","./GameOverPanel.ts","./GameSaveUi.ts","./GmPanel.ts","./HousePanel.ts","./ImportantEvents.ts","./ItemCraftPanel.ts","./ItemFunc.ts","./LoginUi.ts","./ReLocatePanel.ts","./ScheduleAttrItem.ts","./ScheduleEquipItem.ts","./ScheduleInfoItem.ts","./ScheduleUi.ts","./SellPanel.ts","./SettingUi.ts","./SpriteVfx.ts","./SpriteVfxDiffuse.ts","./SummaryPanel.ts","./TearDownPanel.ts","./TopUi.ts","./TweenColor.ts","./TweenScale.ts","./UpgradePanel.ts","./ActorManager.ts","./ArenaManager.ts","./BundleResManager.ts","./CameraManager.ts","./ChatManager.ts","./InputManager.ts","./MarketManager.ts","./NetWorkManager.ts","./PlayerDataManager.ts","./ProgressManager.ts","./ProjectileManager.ts","./RootManager.ts","./SaveManager.ts","./ShowMessageManager.ts","./StorageManager.ts","./TemplateManager.ts","./ThreatEventsManager.ts","./UIManager.ts","./ViewManager.ts","./BabyItem.ts","./BagItem.ts","./CmdCalenderItem.ts","./CmdGoldItem.ts","./CmdMenuItem.ts","./CmdPopItem.ts","./CommandItem.ts","./CraftTable.ts","./DungeonEntrance.ts","./EarthItem.ts","./EmptyItem.ts","./EquipItem.ts","./FoundationItem.ts","./GiftItem.ts","./HomeItem.ts","./HouseItem.ts","./IncineratorItem.ts","./ItemOrderType.ts","./MeltTable.ts","./MineItem.ts","./MoneyBag.ts","./MonsterWaveItem.ts","./RoleBagItem.ts","./RoleGenerator.ts","./SceneItem.ts","./ScrollItem.ts","./SellTable.ts","./ToggleItem.ts","./TurretItem.ts","./WasteItem.ts","./WeaponItem.ts","./TileMapManager.ts","./BaseRule.ts","./RockRule.ts","./ActorView.ts","./BulletView.ts","./HomeItemView.ts","./MapView.ts","./ModelDescriptor.ts","./RoleView.ts","./SceneItemView.ts","./TestView.ts","./TurretView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MapView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Button,i=t.Component}],execute:function(){var c;n._RF.push({},"8f2ff737tpNLKRFlasbUR2v","MapView",void 0);var p=o.ccclass;o.property,t("MapView",p("MapView")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.getComponentsInChildren(r)},o.update=function(t){},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/MarketCheck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MarketManager.ts","./MemoryDefine.ts","./RandomUtils.ts","./TreeNodeRegister.ts","./ConvertConfig.ts"],(function(e){var t,n,r,o,i,s,c,a,u,f;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ResultType},function(e){i=e.MarketManager},function(e){s=e.MemoryDefine},function(e){c=e.RandomInt},function(e){a=e.TreeNodeRegister},function(e){u=e.ConvertConfigGet,f=e.ConvertConfigField}],execute:function(){var h;n._RF.push({},"f9692hG2q9OR53t6ubPBwTL","MarketCheck",void 0);e("MarketCheck",a("MarketCheck")(h=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).itemList=10001,t}return t(n,e),n.prototype.onUpdate=function(e){for(var t=this,n=u(this.itemList,f.Item),r=u(this.itemList,f.Target),a=[],h=function(e){if(0!=i.Get(n[e])){var r=t.owner.scene.FindItem((function(t){return t&&!t.Freeze&&t.ConfigID==n[e]}));r&&a.push(r)}},g=0;g<n.length;g++)h(g);if(0==a.length)return o.fail;var l=c(0,a.length);if(a[l].Freeze=!0,this.owner.Memory.set(s.targetItem,a[l]),n.length==r.length)for(var m=0;m<n.length;m++)n[m]==a[l].ConfigID&&this.owner.Memory.set(s.convertTarget,r[m]);return this.owner.Memory.set(s.targetPos,a[l].position),o.ok},n}(r))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/MarketManager.ts",["cc","./ConvertConfig.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ConvertConfigGet,r=t.ConvertConfigField}],execute:function(){e._RF.push({},"ce81at14YlFmY5Iei5s4wSk","MarketManager",void 0);var a=new Map;t("MarketManager",function(){function t(){}return t.Clear=function(){a.clear()},t.Init=function(t,e){if(a.clear(),t&&e&&t.length==e.length)for(var i=0;i<t.length;i++)a.set(t[i],e[i]);else for(var o=10001;o<=10004;o++)for(var c=n(o,r.Item),f=0;f<c.length;f++){var u=c[f];a.set(u,0)}},t.Set=function(t,e){a.set(t,e)},t.Modify=function(t,e){var n=a.get(t),r=n||0;return r+e>=0&&a.set(t,r+e),a.get(t)},t.Get=function(t){if(a.has(t)){var e=a.get(t);return e||0}return 0},t.GetMarketData=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/MarketSell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MarketManager.ts","./PlayerDataManager.ts","./TreeNodeRegister.ts"],(function(e){var t,n,r,o,i,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Action},function(e){o=e.ResultType},function(e){i=e.MarketManager},function(e){a=e.PlayerDataManager},function(e){s=e.TreeNodeRegister}],execute:function(){var u;n._RF.push({},"1bb051gvkNPlZkVgONGcSEr","MarketSell",void 0);e("MarketSell",s("MarketSell")(u=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.position,n=this.owner.scene.GetItem(t.x,t.y);if(!n)return o.fail;var r=n.Price;return n.Count-=1,i.Modify(n.ConfigID,-1),n.Count>0?n.SetFreeze(!1):this.owner.scene.RemoveItemByPos(t.x,t.y),a.ModifyGold(r),o.fail},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MeltAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts","./MemoryDefine.ts","./MarketManager.ts"],(function(t){var e,n,o,r,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Action},function(t){r=t.ResultType},function(t){i=t.TreeNodeRegister},function(t){s=t.MemoryDefine},function(t){c=t.MarketManager}],execute:function(){var u;n._RF.push({},"a2fe9l0tO1ESbsErEOnNqjW","MeltAction",void 0);t("MeltAction",i("MeltAction")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.position,n=this.owner.Memory.get(s.targetItem),o=this.owner.Memory.get(s.convertTarget);return c.Modify(n.ConfigID,-1),this.owner.scene.TrySpawnItemAtPos(e.x,e.y,o,1),r.ok},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MeltTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemSchema.ts","./PropertyType.ts","./TimerTask.ts","./ShowMessageManager.ts"],(function(t){var e,n,i,a,s,r,o,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){a=t.SceneItem},function(t){s=t.ItemRegister},function(t){r=t.ItemType},function(t){o=t.TimerTask},function(t){u=t.ShowMessageManager}],execute:function(){var c;i._RF.push({},"457c6nDH5dH/bpIedKjqBac","MeltTable",void 0);t("MeltTable",s("MeltTable")(c=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).Status=0,e.material=void 0,e.fuel=0,e}return e(i,t),i.prototype.OnDrop=function(t){var e=this;this.isStateChange=!0,t.Type==r.mine&&(this.material=t),106==t.ID&&(this.fuel+=t.Count),this.fuel>=this.targetCount?(this.Status=2,o.instance.Add(15*this.targetCount,this,(function(){var t=e.position;e.scene.SpawnItemInNearCell(t.x,t.y,e.material.Arg),e.Status=0,e.fuel-=e.targetCount,e.material=null,e.isStateChange=!0,u.instance.Show("提炼完毕！",e.position,3)}))):this.Status=1},n(i,[{key:"targetCount",get:function(){return this.material?this.material.Count:0}},{key:"ToDescription",get:function(){return 2==this.Status?"提炼"+this.material.Name:1==this.Status?"等待燃料":t.prototype.ToDescription}},{key:"ToString",get:function(){return 2==this.Status?"<color=red>"+this.Name+"</color>":1==this.Status?"<color=green>"+this.Name+"</color>":t.prototype.ToString}}]),i}(a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/MemoryDefine.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9b6b3Emz2JF4YjBksV7kdz/","MemoryDefine",void 0);t("MemoryDefine",function(t){return t.order="order",t.resultItem="resultItem",t.targetItem="targetItem",t.convertTarget="convertTarget",t.targetMat="targetMat",t.targetIndex="targetIndex",t.targetPos="targetPos",t.targetMatCount="targetMatCount",t.nextPos="NextPos",t.intention="intention",t.targetTable="targetTable",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/MineBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(e){var i,n,o;return{setters:[function(e){i=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Behavior}],execute:function(){n._RF.push({},"97cefPooEZNWJlXsR+M+QhC","MineBehavior",void 0);e("MineBehavior",function(e){function n(){var i;return(i=e.call(this)||this)._behaviorType="MineBehavior",i}return i(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/MineItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./TimerTask.ts","./EffectManager.ts","./Vector2Utils.ts"],(function(e){var t,n,i,r,o,s,c,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy},function(e){r=e.ItemRegister},function(e){o=e.SceneItem},function(e){s=e.TimerTask},function(e){c=e.GetEffect},function(e){a=e.Vector3Distance}],execute:function(){var u;i._RF.push({},"127c4r+rC1KTqM8n8vE5FKz","MineItem",void 0);e("MineItem",r("MineItem")(u=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).isTriggered=!1,t}t(i,e);var r=i.prototype;return r.OnEnter=function(e){this.isTriggered||(this.isTriggered=!0,s.instance.Add(1.2,this,this.OnExplosion))},r.OnExplosion=function(){for(var e,t=this.scene.actors.filter((function(e){return 2==e.Camp})),i=c(1001),r=n(t);!(e=r()).done;){var o=e.value;a(this.position,o.Center)<80&&i.apply(o)}this.scene.RemoveItemByPos(this.position.x,this.position.y)},r.OnLeave=function(e){console.error("MineItem.OnLeave")},i}(o))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Missile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Projectile.ts"],(function(e){var t,i,n;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){n=e.Projectile}],execute:function(){i._RF.push({},"2177fyS965OLrc5qJBpUwdb","Missile",void 0);e("Missile",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.Release=function(){},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/MissileBulletConfig.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){e({MissileBulletConfigGet:function(e,i){var t=n.get(e);return null==t?void 0:t[i]},MissileBulletConfigSetup:function(e,i){var l=n.get(e);if(!l)throw new Error("id:"+e+" is null");i.ID=e;for(var s=0;s<t.length;s++){var r=t[s];i[r]=Array.isArray(l[s])?[].concat(l[s]):l[s]}"function"==typeof i.onLoad&&i.onLoad()}}),i._RF.push({},"36e95P3aDlMj5mGOHFqxliC","MissileBulletConfig",void 0);var n=e("MissileBulletConfigData",new Map([[5001,["圆形触发器","",.5,[1001]]],[5002,["圆形触发器","",.5,[1001]]],[5003,["圆形触发器","",.5,[1001]]],[5004,["圆形触发器","",.5,[1001]]],[5005,["圆形触发器","",.5,[1001]]],[5006,["圆形触发器","",.5,[1001]]],[5007,["圆形触发器","",.5,[1001]]],[5008,["圆形触发器","",.5,[1001]]]])),t=e("MissileBulletConfigHeaders",["Name","Description","radius","values"]);e("MissileBulletConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.radius=2]="radius",e[e.values=3]="values",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/MissileConfig.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){i({MissileConfigGet:function(i,e){var s=n.get(i);return null==s?void 0:s[e]},MissileConfigSetup:function(i,e){var r=n.get(i);if(!r)throw new Error("id:"+i+" is null");e.ID=i;for(var o=0;o<s.length;o++){var t=s[o];e[t]=r[o]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"82fe4cHr8xME4rj34Rhlqve","MissileConfig",void 0);var n=i("MissileConfigData",new Map([[9001,["圆形触发器","",.5,[1001]]],[9002,["圆形触发器","",.5,[1001]]],[9003,["圆形触发器","",.5,[1001]]],[9004,["圆形触发器","",.5,[1001]]],[9005,["圆形触发器","",.5,[1001]]],[9006,["圆形触发器","",.5,[1001]]],[9007,["圆形触发器","",.5,[1001]]],[9008,["圆形触发器","",.5,[1001]]]])),s=i("MissileConfigHeaders",["Name","Description","radius","values"]);i("MissileConfigField",function(i){return i[i.Name=0]="Name",i[i.Description=1]="Description",i[i.radius=2]="radius",i[i.values=3]="values",i}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ModelDescriptor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,a,s,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Sprite,l=e.Component}],execute:function(){var u,p,h,d,f,m,y,b,g;o._RF.push({},"23589pea69Li4ZNomHzGZKq","ModelDescriptor",void 0);var _=a.ccclass,v=a.property;e("ModelDescriptor",(u=_("ModelDescriptor"),p=v(s),h=v(c),d=v([s]),u((y=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"body",y,n(t)),i(t,"hat",b,n(t)),i(t,"items",g,n(t)),t._nodeCache=new Map,t}return r(t,e),t.prototype.GetItem=function(e){if(""===e)return this.node;if(this._nodeCache.has(e))return this._nodeCache.get(e);if(!this.items||0===this.items.length)return this.node;var t=this.items.find((function(t){return t.name===e}));return t?(this._nodeCache.set(e,t),t):this.node},t}(l)).prototype,"body",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"hat",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(m.prototype,"items",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ModifierBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts"],(function(t){var e,i,f,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){f=t.cclegacy},function(t){o=t.Buff}],execute:function(){f._RF.push({},"7065asKZDhH1JkGl4MybkJe","ModifierBuff",void 0);t("ModifierBuff",function(t){function f(){return t.apply(this,arguments)||this}e(f,t);var o=f.prototype;return o.attach=function(e){var f;if(t.prototype.attach.call(this,e),null!=(f=this.effects)&&f.length)for(var o,r=i(this.effectList);!(o=r()).done;){o.value.apply(e,this.context,this.layer)}},o.detach=function(e){var f;if(null!=(f=this.effects)&&f.length)for(var o,r=i(this.effectList);!(o=r()).done;){o.value.apply(e,this.context,this.layer,-1)}t.prototype.detach.call(this,e)},f}(o));f._RF.pop()}}}));

System.register("chunks:///_virtual/ModifierBuffConfig.ts",["cc"],(function(i){var f;return{setters:[function(i){f=i.cclegacy}],execute:function(){i({ModifierBuffConfigGet:function(i,f){var r=e.get(i);return null==r?void 0:r[f]},ModifierBuffConfigSetup:function(i,f){var n=e.get(i);if(!n)throw new Error("id:"+i+" is null");f.ID=i;for(var o=0;o<r.length;o++){var t=r[o];f[t]=Array.isArray(n[o])?[].concat(n[o]):n[o]}"function"==typeof f.onLoad&&f.onLoad()}}),f._RF.push({},"7dd31q37UhDCr3fJKFh+Hg6","ModifierBuffConfig",void 0);var e=i("ModifierBuffConfigData",new Map([[4001,["圆形触发器","",1,[1001]]],[4002,["圆形触发器","",1,[1001]]],[4003,["圆形触发器","",1,[1001]]],[4004,["圆形触发器","",1,[1001]]],[4005,["圆形触发器","",1,[1001]]],[4006,["圆形触发器","",1,[1001]]],[4007,["圆形触发器","",1,[1001]]],[4008,["圆形触发器","",1,[1001]]]])),r=i("ModifierBuffConfigHeaders",["Name","Description","duration","effects"]);i("ModifierBuffConfigField",function(i){return i[i.Name=0]="Name",i[i.Description=1]="Description",i[i.duration=2]="duration",i[i.effects=3]="effects",i}({}));f._RF.pop()}}}));

System.register("chunks:///_virtual/ModifierEffectConfig.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){e({ModifierEffectConfigGet:function(e,i){var r=o.get(e);return null==r?void 0:r[i]},ModifierEffectConfigSetup:function(e,i){var t=o.get(e);if(!t)throw new Error("id:"+e+" is null");i.ID=e;for(var f=0;f<r.length;f++){var n=r[f];i[n]=Array.isArray(t[f])?[].concat(t[f]):t[f]}"function"==typeof i.onLoad&&i.onLoad()}}),i._RF.push({},"5d2d4yuj/NHn65J6sPPzKpe","ModifierEffectConfig",void 0);var o=e("ModifierEffectConfigData",new Map([[101,["武器主属性攻击修改","武器1-0",4,50,50]],[102,["攻击修改","属性修改器",4,50,0]],[103,["速度修改","属性修改器",8,50,0]],[104,["防御修改","属性修改器",5,50,0]],[105,["暴击修改","属性修改器",6,50,0]],[106,["暴伤修改","属性修改器",7,50,0]],[107,["命中修改","属性修改器",10,50,0]],[108,["生产效率","属性修改器",11,50,0]],[109,["寒冷抗性","属性修改器",27,50,0]],[110,["攻击修改","附属性随机池1",4,50,0]],[111,["暴击修改","附属性随机池1",6,50,0]],[112,["暴伤修改","附属性随机池1",7,50,0]],[113,["命中修改","附属性随机池1",10,50,0]],[114,["防御修改","防御附属性随机池2",5,50,0]],[115,["命中修改","防御附属性随机池2",10,50,0]],[116,["生命上限修改","防御附属性随机池2",0,50,0]],[117,["生命回复修改","防御附属性随机池2",12,50,0]],[118,["寒冷抗性","防御附属性随机池2",27,50,0]],[119,["攻击范围修改","",14,2,0]],[120,["速度修改","属性修改器",8,100,0]]])),r=e("ModifierEffectConfigHeaders",["Name","Description","Key","Value","Factor"]);e("ModifierEffectConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.Key=2]="Key",e[e.Value=3]="Value",e[e.Factor=4]="Factor",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/MoneyBag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./PlayerDataManager.ts","./ItemSchema.ts","./ShowMessageManager.ts"],(function(e){var t,n,o,i,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.SceneItem},function(e){i=e.PlayerDataManager},function(e){s=e.ItemRegister},function(e){a=e.ShowMessageManager}],execute:function(){var r;n._RF.push({},"87ba2cLIqdF76quCS6vGze2","MoneyBag",void 0);e("MoneyBag",s("MoneyBag")(r=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.OnOpen=function(){i.ModifyGold(this.Arg),this.scene.RemoveItem(this.sid),a.instance.Show("￥"+this.Arg,this.position,3,void 0,255,255,0)},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterGroupConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({MonsterGroupConfigGet:function(e,n){var r=o.get(e);return null==r?void 0:r[n]},MonsterGroupConfigSetup:function(e,n){var t=o.get(e);if(!t)throw new Error("id:"+e+" is null");n.ID=e;for(var a=0;a<r.length;a++){var u=r[a];n[u]=Array.isArray(t[a])?[].concat(t[a]):t[a]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"8ec1dbgXvVBdYYGvODEDaTE","MonsterGroupConfig",void 0);var o=e("MonsterGroupConfigData",new Map([[2,["史莱姆攻城","",[1001]]],[4,["史莱姆攻城","",[1001,1002]]],[6,["史莱姆攻城","",[1001,1002,1003]]],[8,["史莱姆攻城","",[1002,1002,1003]]],[10,["史莱姆攻城","",[1003,1002,1003]]],[12,["史莱姆攻城","",[1004,1002,1003]]],[14,["史莱姆攻城","",[1005,1002,1003]]],[16,["史莱姆攻城","",[1006,1002,1003]]],[18,["史莱姆攻城","",[1007,1002,1003]]],[20,["史莱姆攻城","",[1008,1002,1003]]],[22,["史莱姆攻城","",[1009,1002,1003]]],[24,["史莱姆攻城","",[1010,1002,1003]]],[26,["史莱姆攻城","",[1011,1002,1003]]],[28,["史莱姆攻城","",[1012,1002,1003]]],[30,["史莱姆攻城","",[1013,1002,1003]]],[32,["史莱姆攻城","",[1014,1002,1003]]],[34,["史莱姆攻城","",[1015,1002,1003]]],[36,["史莱姆攻城","",[1016,1002,1003]]],[38,["史莱姆攻城","",[1017,1002,1003]]]])),r=e("MonsterGroupConfigHeaders",["Name","des","waves"]);e("MonsterGroupConfigField",function(e){return e[e.Name=0]="Name",e[e.des=1]="des",e[e.waves=2]="waves",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRule.ts"],(function(e){var n,t,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.SceneRule}],execute:function(){t._RF.push({},"1eb41paJCdIQa4V8MWKOBle","MonsterRule",void 0);e("MonsterRule",function(e){function t(n){var t;return(t=e.call(this,n)||this).scene=void 0,t.scene=n,t.f=60,t}n(t,e);var o=t.prototype;return o.onEnd=function(){},o.onUpdate=function(e){},o.onStart=function(){this.onUpdate(0)},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterWaveConfig.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({MonsterWaveConfigGet:function(e,n){var r=o.get(e);return null==r?void 0:r[n]},MonsterWaveConfigSetup:function(e,n){var t=o.get(e);if(!t)throw new Error("id:"+e+" is null");n.ID=e;for(var a=0;a<r.length;a++){var i=r[a];n[i]=Array.isArray(t[a])?[].concat(t[a]):t[a]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"77ca8lqC7pD7Lsbel9nGgD5","MonsterWaveConfig",void 0);var o=e("MonsterWaveConfigData",new Map([[1001,["第一波","小怪",10,[1003,1003,1003]]],[1002,["第二波","小怪",10,[1003,1003,1004]]],[1003,["第三波","小怪",10,[1006]]],[1004,["第四波","精英",10,[1003,1003,1004]]],[1005,["第五波","小怪",10,[1003,1003,1004]]],[1006,["第六波","小怪",10,[1003,1003,1004]]],[1007,["第七波","小怪",10,[1003,1003,1004]]],[1008,["第六波","首领怪",10,[1003,1003,1004]]],[1009,["","",0,[]]],[1010,["","",0,[]]],[1011,["","",0,[]]],[1012,["","",0,[]]],[1013,["","",0,[]]],[1014,["","",0,[]]],[1015,["","",0,[]]],[1016,["","",0,[]]],[1017,["","",0,[]]],[1018,["","",0,[]]],[1019,["","",0,[]]],[1020,["","",0,[]]],[1021,["","",0,[]]],[1022,["","",0,[]]],[1023,["","",0,[]]],[1024,["","",0,[]]],[1025,["","",0,[]]],[1026,["","",0,[]]],[1027,["","",0,[]]],[1028,["","",0,[]]]])),r=e("MonsterWaveConfigHeaders",["Name","des","duration","monster"]);e("MonsterWaveConfigField",function(e){return e[e.Name=0]="Name",e[e.des=1]="des",e[e.duration=2]="duration",e[e.monster=3]="monster",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterWaveItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./ActorManager.ts","./MonsterWaveConfig.ts","./SlimeMoveBehavior.ts","./RandomUtils.ts"],(function(e){var t,n,o,r,i,a,s,c,u,v,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,r=e.Vec3},function(e){i=e.ItemRegister},function(e){a=e.SceneItem},function(e){s=e.ActorManager},function(e){c=e.MonsterWaveConfigGet,u=e.MonsterWaveConfigField},function(e){v=e.SlimeMoveBehavior},function(e){f=e.RandomInt}],execute:function(){var l;o._RF.push({},"2d5e8qscTRHJbHB5FiLQwCv","MonsterWaveItem",void 0);e("MonsterWaveItem",i("MonsterWaveItem")(l=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.OnSpawn=function(t){e.prototype.OnSpawn.call(this,t);for(var o,i=c(1001,u.monster),a=(i.length,0),l=[-450,-150,150,450],m=n(i);!(o=m()).done;){var p=o.value,M=s.instance.CreateActor(p),h=f(l[a],l[a+1]);M.position=new r(h,1e3,0),t.actorJoinScene(M),M.DoBehavior(new v),a++}},o}(a))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/MoveBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts"],(function(e){var o,t,i;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy},function(e){i=e.Behavior}],execute:function(){t._RF.push({},"0ee92IoXpBI7ZJp2spbBuKm","MoveBehavior",void 0);e("MoveBehavior",function(e){function t(){var o;return(o=e.call(this)||this)._behaviorType="MoveBehavior",o}return o(t,e),t.prototype.onUpdate=function(e,o){return e.position.x+=500*o,!0},t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/MoveToAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./ObjectPool.ts","./MoveToBehavior.ts","./TreeNodeRegister.ts"],(function(t){var o,n,e,i,s,r,c,h;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Vec3},function(t){i=t.Action},function(t){s=t.ResultType},function(t){r=t.ObjectPool},function(t){c=t.MoveToBehavior},function(t){h=t.TreeNodeRegister}],execute:function(){var a;n._RF.push({},"5411a0McaNEf6VR2tJsF8Ts","MoveToAction",void 0);t("MoveToAction",h("MoveToAction")(a=function(t){function n(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=t.call.apply(t,[this].concat(i))||this).targetPos=new e,o.bh=void 0,o}o(n,t);var i=n.prototype;return i.onStart=function(){this.EnableBlackBoard=!0,t.prototype.onStart.call(this),this.bh||(this.bh=r.spawn(c)),this.bh.init(this.targetPos),this.bh.timePassed=0,this.bh.onStart(this.owner)},i.onUpdate=function(t){var o=this.mgr.owner;return this.bh.timePassed>=this.bh.duration?s.ok:(this.bh.timePassed+=t,this.bh.onUpdate(o,t)?s.running:s.ok)},i.onEnd=function(){t.prototype.onEnd.call(this),this.bh.onEnd(this.mgr.owner)},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/MoveToBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts","./Vector2Utils.ts"],(function(t){var o,i,e,n,r,s,c;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,e=t.Vec3},function(t){n=t.Behavior},function(t){r=t.Vector3Sub,s=t.Vector3Add,c=t.Vector3Mul}],execute:function(){i._RF.push({},"120e0YBiUxJUp0wdaKqvapy","MoveToBehavior",void 0);t("MoveToBehavior",function(t){function i(){var o;return(o=t.call(this)||this).targetPos=new e,o.direction=void 0,o.speed=1,o._behaviorType="MoveToBehavior",o}o(i,t);var n=i.prototype;return n.init=function(t){this.targetPos=t.clone()},n.onCondition=function(t){return t.speed>0},n.onStart=function(t){this.speed=t.speed;var o=r(this.targetPos,t.position).length();this.duration=o/this.speed,this.direction=r(this.targetPos,t.position).normalize(),t.forward=this.direction},n.onUpdate=function(t,o){return 0!=this.duration&&(t.position=s(t.position,c(this.direction,o*this.speed)),!0)},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/NameGenerator.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("GenerateName",(function(){return r[Math.floor(Math.random()*r.length)]})),t._RF.push({},"7ee4cEdbGlPFrMQ7cgRURN2","NameGenerator",void 0);var r=["大聪明","铁柱","翠花","旺财","来福","二丫","钢镚","胖虎","瘦猴","阿呆","阿瓜","狗剩","鸡飞","鸭跳","猪跑","猫腻","驴倔","螺转","奥利","咕咕","麻利","饭醉","油腻","煎炸","奶凶","薯脆","蛋疼","泡汤","辣眼","肥嘟","二五","沙雕","狗刨","鸡贼","鸭力","猪精","猫病","驴犟","螺丝","奥热","咕哝","麻溜","饭量","油滑","煎糊","奶泡","薯香","蛋壳","泡馍","辣喉","肥嫩","二六","沙哑","狗急","鸡冻","鸭梨","猪刚","猫懒","驴傲","螺紧","奥冷","咕噜","麻快","饭饱","油光","煎焦","奶膻","薯粉","蛋黄","泡芙","辣舌","肥美","二七","沙沙","狗懒","鸡血","鸭毛","猪憨","猫馋","驴躁","螺松","奥甜","咕咚","麻酥","饭稀","油亮","煎老","奶啤","薯块","蛋散","泡椒","辣心","肥圆","二八","沙尘","狗喘","鸡飞","鸭叫","猪哼","猫喵"];t._RF.pop()}}}));

System.register("chunks:///_virtual/NeighborUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t;return{setters:[function(r){e=r.regeneratorRuntime},function(r){t=r.cclegacy}],execute:function(){r({GenNeighborStatus:function(r,e,t){var n=t.length;if(0==n)throw new Error("Neighbors: arr.length must > 0");var a=0;if(n>0&&0==(a=t[0].length))throw new Error("Neighbors: arr[0].length must > 0");if(r<0||e<0)throw new Error("Neighbors: x,y must > 0");if(r>=a||e>=n)throw new Error("Neighbors: x must < arr[0].length , y must < arr.length");var s=0;0==e&&(s|=224);e+1==t.length&&(s|=7);0==r&&(s|=16);r+1==a&&(s|=8);e>=1&&r>=1&&t[e-1][r-1]>0&&(s|=128);e>=1&&t[e-1][r]>0&&(s|=64);e>=1&&r+1<a&&t[e-1][r+1]>0&&(s|=32);r>=1&&t[e][r-1]>0&&(s|=16);r+1<a&&t[e][r+1]>0&&(s|=8);r>=1&&e+1<n&&t[e+1][r-1]>0&&(s|=4);e+1<n&&t[e+1][r]>0&&(s|=2);r+1<a&&e+1<n&&t[e+1][r+1]>0&&(s|=1);return s},Neighbors:a});var n=e().mark(a);function a(r,t,a){var s,i;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(s=a.length)){e.next=3;break}throw new Error("Neighbors: arr.length must > 0");case 3:if(i=0,!(s>0)){e.next=8;break}if(0!=(i=a[0].length)){e.next=8;break}throw new Error("Neighbors: arr[0].length must > 0");case 8:if(!(r<0||t<0)){e.next=10;break}throw new Error("Neighbors: x,y must > 0");case 10:if(!(r>=i||t>=s)){e.next=12;break}throw new Error("Neighbors: x must < arr[0].length , y must < arr.length");case 12:if(!(t>=1&&r>=1)){e.next=15;break}return e.next=15,a[t-1][r-1];case 15:if(!(t>=1)){e.next=18;break}return e.next=18,a[t-1][r];case 18:if(!(t>=1&&r+1<i)){e.next=21;break}return e.next=21,a[t-1][r+1];case 21:if(!(r>=1)){e.next=24;break}return e.next=24,a[t][r-1];case 24:if(!(r+1<i)){e.next=27;break}return e.next=27,a[t][r+1];case 27:if(!(r>=1&&t+1<s)){e.next=30;break}return e.next=30,a[t+1][r-1];case 30:if(!(t+1<s)){e.next=33;break}return e.next=33,a[t+1][r];case 33:if(!(r+1<i&&t+1<s)){e.next=36;break}return e.next=36,a[t+1][r+1];case 36:case"end":return e.stop()}}),n)}t._RF.push({},"6222bM5jPpIsI1PjQgS+0SI","NeighborUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/NetWorkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventSystem.ts","./GameWorldDefine.ts"],(function(t){var n,e,o,i,r,c,a,s,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.CCBoolean,s=t.Component},function(t){l=t.AddEvent},function(t){u=t.WorldEventDefine}],execute:function(){var f,h,p,d,y,g;t({IsWebSocketReady:function(){return false},SendHttpMessage:function(t){fetch("http://localhost:8828/json/",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(t){return t.text()})).then((function(t){}))},SendWsMessage:function(t,n){undefined.send(JSON.stringify({type:t,data:n}))}}),r._RF.push({},"2db71Bm59lEJJTl8HF/2pla","NetWorkManager",void 0);var v=c.ccclass,b=c.property;t("NetWorkManager",(f=v("NetWorkManager"),h=b(a),f(((g=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,o(n,"Enable",y,i(n)),n.url="http://localhost:8086",n.timer=0,n}e(n,t);var r=n.prototype;return r.onLoad=function(){n.instance=this,this.init()},r.init=function(){l(u.AiOnline,this,(function(t){})),l(u.AiOffline,this,(function(t){}))},r.SayHello=function(){fetch("http://localhost:8086").then((function(t){return t.text()})).then((function(t){console.error(t)}))},r.JsonHello=function(){fetch(this.url+"/hello2").then((function(t){return t.json()})).then((function(t){console.log(t)}))},r.SendNodeState=function(t,n){this.Enable&&fetch("http://localhost:8828/state?sid="+t+"&st="+n).then((function(t){return t.text()})).then((function(t){console.error(t)}))},n}(s)).instance=void 0,y=n((d=g).prototype,"Enable",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=d))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/NewGameState.ts",["cc","./VillageScene.ts","./WorldStateEnum.ts","./SaveManager.ts","./ViewManager.ts","./PlayerDataManager.ts"],(function(t){var n,e,a,o,i,m;return{setters:[function(t){n=t.cclegacy},function(t){e=t.VillageScene},function(t){a=t.WorldStateEnum},function(t){o=t.NewSave},function(t){i=t.ViewManager},function(t){m=t.PlayerDataManager}],execute:function(){n._RF.push({},"ace37bmhNFJhqiEYWS9ESyn","NewGameState",void 0);t("NewGameState",function(){function t(t){this.world=void 0,this.world=t}var n=t.prototype;return n.onStart=function(){o(),m.Init(!0),m.ModifyGold(0),i.instance.init();var t=e.instance;t.onStart(),t.RandomItem(139),t.RandomItem(100),t.RandomItem(162),t.RandomItem(237),t.RandomItem(253),t.RandomItem(100),t.RandomItem(104),t.RandomItem(100),t.RandomItem(104),t.RandomItem(100)},n.onUpdate=function(t){this.world.ChangeState(a.Play)},n.onEnd=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["cc","./GetFileNameFromPath.ts"],(function(e){var t,n,a,o,r;return{setters:[function(e){t=e.cclegacy,n=e.resources,a=e.Prefab,o=e.instantiate},function(e){r=e.GetFileNameFromPath}],execute:function(){t._RF.push({},"7d2e4B88ehNoZIZnuMaUH68","ObjectPool",void 0);var p=e("ObjectPool",function(){function e(){}return e.spawn=function(e,t){void 0===t&&(t=!0);var n=this.poolMap.get(e.name);return n&&n.length>0?n.pop():t?new e:null},e.recycle=function(e){e.Release();var t=e.constructor.name,n=this.poolMap.get(t);n?n.push(e):this.poolMap.set(t,[e])},e.SpawnPrefab=function(e,t){var p=r(e),c=this.prefabMap.get(p);if(c&&c.length>0){var i=c.pop();t(i)}else n.load(e,a,(function(e,n){if(e)throw e;var a=o(n);t(a)}))},e.RecyclePrefab=function(e){e.setParent(null);var t=this.prefabMap.get(e.name);t?t.push(e):this.prefabMap.set(e.name,[e])},e}());p.poolMap=new Map,p.prefabMap=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/OpenCardAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./BagItem.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){i=e.BagItem},function(e){s=e.TreeNodeRegister}],execute:function(){var c;n._RF.push({},"bf932nDplhLGrXcsRFYra0G","OpenCardAction",void 0);e("OpenCardAction",s("OpenCardAction")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.position,n=this.owner.scene,o=n.GetItem(t.x,t.y);if(o){var s=new i;return s.ID=o.Arg,s.SetPos(t.x,t.y),s.Use(n),n.RemoveItemByPos(t.x,t.y),r.ok}return r.fail},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Parallel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./ParentNode.ts","./TreeNodeRegister.ts"],(function(t){var n,e,i,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.ResultType},function(t){r=t.ParentNode},function(t){a=t.TreeNodeRegister}],execute:function(){var s;e._RF.push({},"add14PcFPdP1bztzDp0w6Q6","Parallel",void 0);var l=function(t){return t[t.anyOk=0]="anyOk",t[t.anyFail=1]="anyFail",t}(l||{});t("Parallel",a("Parallel")(s=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).childrenStatus=void 0,n.endType=l.anyOk,n}n(e,t);var r=e.prototype;return r.onInit=function(t){this.childrenStatus=new Array(this._children.length)},r.onUpdate=function(t){for(var n=!1,e=0;e<this._children.length;e++){var r=this.GetChildByIdx(e);if(this.childrenStatus[e]==i.inActive&&r.onStart(),this.childrenStatus[e]=r.onUpdate(t),this.mgr.SendMessage(r._sid,this.childrenStatus[e]),this.childrenStatus[e]!=i.running){if(r.onEnd(),this.endType==l.anyOk&&this.childrenStatus[e]==i.ok)return i.ok;if(this.endType==l.anyFail&&this.childrenStatus[e]==i.fail)return i.fail}else n=!0}return n?i.running:this.endType==l.anyOk?i.fail:i.ok},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ParentNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNode.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.TreeNode}],execute:function(){e._RF.push({},"f5bb5lYcSJFL6QkalvV9/AG","ParentNode",void 0);t("ParentNode",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this)._idx=-1,n._runningIdx=0,n._children=[],n._category="composite",n}n(e,t);var i=e.prototype;return i.onInit=function(n){t.prototype.onInit.call(this,n);for(var e=0;e<this._children.length;e++){var i=this.GetChildByIdx(e);i&&i.onInit(n)}},i.onStart=function(){this._idx=-1,this._runningIdx=0},i.onEnd=function(){this._idx=-1},i.onRelease=function(){for(var t=0;t<this._children.length;t++){var n=this.GetChildByIdx(t);null==n||n.onRelease()}},i.GetPriority=function(){if(0==this._children.length)return 0;for(var t=0,n=0;n<this._children.length;n++){var e=this.GetChildByIdx(n);e&&(t+=e.GetPriority())}return t},i.GetChildByIdx=function(t){return this.mgr.node.get(this._children[t])},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/PickupAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(t){var e,n,r,o,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Action},function(t){o=t.ResultType},function(t){i=t.MemoryDefine},function(t){u=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"b1cae6otF9Kd59bjSIOElP7","PickupAction",void 0);t("PickupAction",u("PickupAction")(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).Mode=c.All,e}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.scene,n=this.owner.position,r=e.GetItem(n.x,n.y);if(!r)return o.fail;if("CmdGoldItem"==r.Func){if(0==r.Count)return o.fail;var u=this.owner.Memory.get(i.targetMatCount),s=e.SpawnOriginItem(r.ConfigID);return r.Count>u?(r.Count-=u,s.Count=u):(r.Count=0,s.Count=r.Count),this.mgr.owner.Carry(s),o.ok}if(!r)return o.fail;if(this.Mode===c.All)this.mgr.owner.Carry(r),e.RemoveItemByPos(n.x,n.y);else{var a=this.owner.Memory.get(i.targetMatCount);if(r.Count>a){r.Count-=a,r.SetFreeze(!1);var l=e.SpawnOriginItem(r.ConfigID);l.Count=a,this.mgr.owner.Carry(l)}else this.mgr.owner.Carry(r),e.RemoveItemByPos(n.x,n.y)}return o.ok},n}(r))||s);var c=function(t){return t[t.All=0]="All",t[t.Part=1]="Part",t}(c||{});n._RF.pop()}}}));

System.register("chunks:///_virtual/PickupConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({PickupConfigGet:function(n,t){var i=o.get(n);return null==i?void 0:i[t]},PickupConfigSetup:function(n,t){var e=o.get(n);if(!e)throw new Error("id:"+n+" is null");t.ID=n;for(var r=0;r<i.length;r++){var u=i[r];t[u]=Array.isArray(e[r])?[].concat(e[r]):e[r]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"319fb0fjKtMxKl5pUgCGYTX","PickupConfig",void 0);var o=n("PickupConfigData",new Map([[101,["矿藏掉落",200,[102,103,104]]],[102,["树掉落",200,[102,103,104]]],[103,["果树掉落",200,[102,103,104]]],[104,["灌木掉落",200,[102,103,104]]],[105,["蘑菇掉落",200,[102,103,104]]],[106,["木材掉落",200,[102,103,104]]],[107,["木板掉落",200,[102,103,104]]],[108,["木棍掉落",200,[102,103,104]]]])),i=n("PickupConfigHeaders",["Name","WorkAmount","Item"]);n("PickupConfigField",function(n){return n[n.Name=0]="Name",n[n.WorkAmount=1]="WorkAmount",n[n.Item=2]="Item",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/PickupQuest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Quest.ts","./MemoryDefine.ts","./DropConfig.ts","./RandomUtils.ts","./PickupConfig.ts"],(function(t){var e,i,n,o,s,u,r,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.Quest},function(t){o=t.MemoryDefine},function(t){s=t.DropConfigGet,u=t.DropConfigField},function(t){r=t.RandomInt},function(t){c=t.PickupConfigGet,h=t.PickupConfigField}],execute:function(){i._RF.push({},"ea2365lZLRFS4uOYSJ9tQXt","PickupQuest",void 0);t("PickupQuest",function(t){function i(e){var i;return(i=t.call(this,e)||this).itemSid=0,i.cfgID=0,i.dropItem=[],i.mileStone=0,i.cur=0,i.type="PickupQuest",i}e(i,t);var n=i.prototype;return n.Commit=function(t){return this.amount+=10,this.amount>=this.mileStone&&(this.amount-=this.mileStone,this.drop(this.cur,t),this.cur++,this.cur>=this.dropItem.length)&&(this.done(t),!0)},n.drop=function(t,e){var i=this.dropItem[t],n=s(i,u.Item),o=1==n.length?0:r(0,n.length-1),c=e.position,h=e.scene.RequestFreeCell(c.x,c.y);h?e.scene.SpawnItem(100*h[1]+50-500,100*h[0]+50-1e3,n[o]):console.error("掉落位置错误")},n.done=function(t){t.scene.RemoveItem(this.itemSid),t.Memory.set(o.order,null)},n.init=function(t,e){this.itemSid=t,this.cfgID=e,this.workload=c(e,h.WorkAmount),this.dropItem=c(e,h.Item),this.mileStone=this.workload/this.dropItem.length,this.cur=0},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayAnimationAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./ViewManager.ts"],(function(t){var n,e,i,o,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.TreeNodeRegister},function(t){o=t.Action},function(t){r=t.ResultType},function(t){a=t.ViewManager}],execute:function(){var c;e._RF.push({},"a77a3SpjBVKt5z/k13ZoFUL","PlayAnimationAction",void 0);t("PlayAnimationAction",i("PlayAnimationAction")(c=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).clipName="slime_idle",n}return n(e,t),e.prototype.onUpdate=function(t){var n=a.instance.GetActorView(this.mgr.owner.Sid);return n&&n.playAnimation(this.clipName),r.ok},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDataManager.ts",["cc","./GameEventSystem.ts","./SaveManager.ts","./GameWorldDefine.ts"],(function(a){var o,n,t,i,e;return{setters:[function(a){o=a.cclegacy},function(a){n=a.FireEvent},function(a){t=a.LoadCurrentUserData,i=a.SaveCurrentUserData},function(a){e=a.WorldEventDefine}],execute:function(){o._RF.push({},"da6e44ZDiZDXJzOltrDxv1I","PlayerDataManager",void 0);var u=new Array(10),r=[],l=[],f=(a("PlayerDataManager",function(){function a(){}return a.Init=function(a){r.fill(10,0,10),l.fill(10,0,10);var o=t();a||!o?u.fill(0):u[f.Gold]=o[f.Gold],u[f.Population]=0,u[f.PopulationMax]=0,n("UserDataLoaded",o)},a.OnSave=function(){i(u)},a.ModifyData=function(a,o){u[a]+=o},a.ModifyDia=function(o){a.ModifyData(f.Dia,o)},a.ModifyPopulation=function(o){a.ModifyData(f.Population,o),n(e.Population,u[f.Population],u[f.PopulationMax])},a.ModifyPopulationMax=function(o){a.ModifyData(f.PopulationMax,o),n(e.Population,u[f.Population],u[f.PopulationMax])},a.ModifyGold=function(o,t){void 0===t&&(t=0),a.ModifyData(f.Gold,o),o>0&&(r[t]+=o,l[t]+=o),n(e.goldData,u[f.Gold],o)},a.GetData=function(a){return u[a]},a.GetDayCounter=function(a){var o=r[a];return o||0},a.SetData=function(a,o){u[a]!=o&&(u[a]=o)},a.TryBuy=function(o){return u[f.Gold]>=o&&(a.ModifyGold(-o),!0)},a.ClearDayCounter=function(){r.fill(0,0,10)},a}()),a("PlayerDataType",function(a){return a[a.Gold=0]="Gold",a[a.Dia=1]="Dia",a[a.Population=2]="Population",a[a.PopulationMax=3]="PopulationMax",a}({})));o._RF.pop()}}}));

System.register("chunks:///_virtual/PositionUtils.ts",["cc"],(function(o){var r,t;return{setters:[function(o){r=o.cclegacy,t=o.Vec3}],execute:function(){o({CentralizePos:function(o){return new t(Math.floor(o.x/n)*n+50,Math.floor(o.y/n)*n+50)},Index2Array:function(o){var r=o%10*n-450,t=Math.floor(o/10)*n-950;return[r,t]},Index2Pos:function(o){var r=o%10*n-450,e=Math.floor(o/10)*n-950;return new t(r,e,0)},NormalizePos:function(o){return new t(Math.floor(o.x/n)*n,Math.floor(o.y/n)*n,0)},Pos2Index:function(o,r){var t=Math.floor((o+500)/n),e=Math.floor((r+1e3)/n);return t+10*e},Pos2Loc:function(o){return[Math.floor((o.x+500)/n),Math.floor((o.y+1e3)/n)]},pos2uid:function(o){var r=Math.floor(o.x+500),t=Math.floor(o.y+1e3);if(r<0||r>3e3||t<0||t>2e3)throw new Error("坐标超出范围：x="+o.x+", y="+o.y);return r<<15|t},uid2pos:function(o){return new t((o>>15&1023)-500,(2047&o)-1e3,0)}}),r._RF.push({},"0c81bAYLCpMyYmho/fWCPl3","PositionUtils",void 0);var n=100;r._RF.pop()}}}));

System.register("chunks:///_virtual/PrioritySelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Selector.ts","./TreeNodeRegister.ts"],(function(t){var r,e,i,o;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Selector},function(t){o=t.TreeNodeRegister}],execute:function(){var n;e._RF.push({},"82c02kxqZZGzJkPPt+kXXuR","PrioritySelector",void 0);t("PrioritySelector",o("PrioritySelector")(n=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.onStart=function(){var r=this;t.prototype.onStart.call(this),this._children.sort((function(t,e){var i=r.mgr.node.get(t),o=r.mgr.node.get(e);if(!i)return-1;if(!o)return 1;if(!t)return-1;if(!e)return 1;var n=i.GetPriority(),c=o.GetPriority();return n>c?1:n<c?-1:0}))},e}(i))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Progress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./ProgressManager.ts","./TreeNodeRegister.ts"],(function(t){var r,s,e,n,i,o,a,c;return{setters:[function(t){r=t.inheritsLoose},function(t){s=t.cclegacy,e=t.Vec3,n=t.RichText},function(t){i=t.Action},function(t){o=t.ResultType},function(t){a=t.ProgressManager},function(t){c=t.TreeNodeRegister}],execute:function(){var u;s._RF.push({},"b7415XqZIpAv5mafR24rYG/","Progress",void 0);t("Progress",c("Progress")(u=function(t){function s(){for(var r,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(r=t.call.apply(t,[this].concat(e))||this).Duration=1,r.Message="",r._t=0,r.bar=null,r}r(s,t);var i=s.prototype;return i.onStart=function(){this._t=0;var t=a.instance.GetProgressBar();if(t){this.bar=t,this.bar.progress=0;var r=this.mgr.owner.position;this.bar.node.position=new e(r.x+0,r.y-50,r.z),this.Message&&(this.bar.getComponentInChildren(n).string=this.Message)}},i.onUpdate=function(t){return this._t+=t,this.bar&&(this.bar.progress=Math.min(this._t/this.Duration,1)),this._t>=this.Duration?(this._t=0,o.ok):o.running},i.onEnd=function(){this.bar&&a.instance.RecycleProgressBar(this.bar),this.bar=null},i.onRelease=function(){this.bar&&a.instance.RecycleProgressBar(this.bar)},s}(i))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n,t,o,s,a,i,c,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,t=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){s=r.cclegacy,a=r._decorator,i=r.ProgressBar,c=r.instantiate,p=r.Component}],execute:function(){var l,u,g,f,d,y;s._RF.push({},"c69caimMK9HMoqAwMRTr5aL","ProgressManager",void 0);var h=a.ccclass,P=a.property;r("ProgressManager",(l=h("ProgressManager"),u=P(i),l(((y=function(r){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=r.call.apply(r,[this].concat(s))||this,t(e,"progressTmp",d,o(e)),e}n(e,r);var s=e.prototype;return s.onLoad=function(){e.instance=this},s.GetProgressBar=function(){var r=c(this.progressTmp.node);return r.setParent(this.node),r.getComponent(i)},s.RecycleProgressBar=function(r){r.node.destroy()},e}(p)).instance=void 0,d=e((f=y).prototype,"progressTmp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/Projectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Actor.ts"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy},function(e){r=e.Actor}],execute:function(){o._RF.push({},"0df7eoGE6FCCafHYhczy/U/","Projectile",void 0);e("Projectile",function(e){function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).ID=void 0,t.owner=void 0,t.Camp=1,t._sid=0,t}t(o,e);var r=o.prototype;return r.addEvent=function(e,t,n){throw new Error("Method not implemented.")},r.fireEvent=function(e){throw new Error("Method not implemented.")},r.removeEvent=function(e,t,n){throw new Error("Method not implemented.")},r.initialize=function(){throw new Error("Method not implemented.")},r.onEnable=function(){throw new Error("Method not implemented.")},r.update=function(e){return!0},r.onDisable=function(){throw new Error("Method not implemented.")},r.Distance=function(e){throw new Error("Method not implemented.")},r.Distance2=function(e){throw new Error("Method not implemented.")},r.LookAt=function(e){throw new Error("Method not implemented.")},r.Release=function(){},r.init=function(e){this._sid=e},n(o,[{key:"Type",get:function(){throw new Error("Method not implemented.")}},{key:"top",get:function(){throw new Error("Method not implemented.")}},{key:"Center",get:function(){throw new Error("Method not implemented.")}},{key:"Min",get:function(){throw new Error("Method not implemented.")}},{key:"Max",get:function(){throw new Error("Method not implemented.")}},{key:"Size",get:function(){throw new Error("Method not implemented.")}},{key:"sid",get:function(){return this._sid}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileManager.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a4bcf3BT2tA2pyDgOA25uw3","ProjectileManager",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PropertyCompare.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"782e0fRI3VOc5meyq0Ntt6O","PropertyCompare",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PropertyModifier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./PropertyType.ts"],(function(t){var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){n=t.Effect},function(t){o=t.PropertyName}],execute:function(){r._RF.push({},"bb1193+gTNDOqK0tAAeURIL","PropertyModifier",void 0);t("PropertyModifier",function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).Key=0,e.Value=0,e.Factor=0,e}e(r,t);var n=r.prototype;return n.ToString=function(t){return o[this.Key]+": "+this.currentValue(t)},n.currentValue=function(t){return t*this.Factor+this.Value},n.apply=function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=1),t.ModifyProperty(this.Key,n*this.currentValue(r))},n.Release=function(){},r}(n));r._RF.pop()}}}));

System.register("chunks:///_virtual/PropertyType.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"6700fZC2LpCqqu5zJk5dob+","PropertyType",void 0);e("PropertyType",function(e){return e[e.health=0]="health",e[e.mana=1]="mana",e[e.energy=2]="energy",e[e.hunger=3]="hunger",e[e.attack=4]="attack",e[e.armor=5]="armor",e[e.critical=6]="critical",e[e.criticalDamage=7]="criticalDamage",e[e.speed=8]="speed",e[e.miss=9]="miss",e[e.accurate=10]="accurate",e[e.productivity=11]="productivity",e[e.healthRecover=12]="healthRecover",e[e.manaRecover=13]="manaRecover",e[e.attackRange=14]="attackRange",e[e.attackSpeed=15]="attackSpeed",e[e.attackInterval=16]="attackInterval",e[e.cook=17]="cook",e[e.chop=18]="chop",e[e.farm=19]="farm",e[e.medicine=20]="medicine",e[e.mine=21]="mine",e[e.craft=22]="craft",e[e.carry=23]="carry",e[e.research=24]="research",e[e.clean=25]="clean",e[e.combat=26]="combat",e[e.coldResistance=27]="coldResistance",e[e.healthMax=28]="healthMax",e[e.manaMax=29]="manaMax",e[e.hungerMax=30]="hungerMax",e[e.energyMax=31]="energyMax",e[e.house=32]="house",e[e.count=33]="count",e}({})),e("ItemType",function(e){return e[e.none=0]="none",e[e.village=1]="village",e[e.building=2]="building",e[e.tool=3]="tool",e[e.weapon=4]="weapon",e[e.material=6]="material",e[e.equipment=5]="equipment",e[e.stone=13]="stone",e[e.wood=14]="wood",e[e.food=15]="food",e[e.mine=17]="mine",e[e.ingot=18]="ingot",e[e.forge=19]="forge",e[e.craftTable=20]="craftTable",e[e.foundation=21]="foundation",e[e.seed=22]="seed",e[e.earth=23]="earth",e[e.upgradeTable=24]="upgradeTable",e[e.sellTable=25]="sellTable",e[e.furnace=26]="furnace",e[e.cookTable=27]="cookTable",e[e.latheTable=28]="latheTable",e[e.dirtyLiquid=29]="dirtyLiquid",e[e.dirtySolid=30]="dirtySolid",e}({})),e("IntentionType",function(e){return e[e.none=0]="none",e[e.eat=1]="eat",e[e.sleep=2]="sleep",e[e.work=3]="work",e[e.fight=4]="fight",e[e.flee=5]="flee",e[e.gather=6]="gather",e[e.clean=7]="clean",e[e.research=8]="research",e[e.craft=9]="craft",e[e.cook=10]="cook",e[e.chop=11]="chop",e[e.farm=12]="farm",e[e.medicine=13]="medicine",e[e.mine=14]="mine",e[e.carry=15]="carry",e[e.entertainment=16]="entertainment",e[e.wander=17]="wander",e[e.melt=18]="melt",e[e.building=19]="building",e[e.wearEquipment=20]="wearEquipment",e[e.marketSell=21]="marketSell",e[e.tearDown=22]="tearDown",e[e.count=23]="count",e}({})),e("PropertyName",["生命","魔法","能量","饥饿","攻击力","防御","暴击率","暴击伤害","速度","闪避","命中","生产效率","回复速度","魔法回复速度","攻击距离","攻击速度","攻击间隔","烹饪","砍树","农活","医疗","挖矿","手工","搬运","科研","清洁","战斗","寒冷抗性"]);a._RF.pop()}}}));

System.register("chunks:///_virtual/Quest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QuestState.ts"],(function(t){var e,s,n,i;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,n=t.Vec3},function(t){i=t.QuestState}],execute:function(){s._RF.push({},"e0310CSOeJF2qRPw1crDDiS","Quest",void 0);t("Quest",function(){function t(t){this.id=0,this.name="",this.position=new n,this.type="",this.desc="",this.reward=0,this.amount=0,this.workload=100,this.sid=void 0,this.progress=i.none,this.sid=t}return t.prototype.InternalCommit=function(t){return this.amount+=t,this.amount>=this.workload&&(this.progress=i.done,!0)},e(t,[{key:"IsComplete",get:function(){return this.progress==i.done}},{key:"IsReady",get:function(){return this.progress==i.none}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/QuestManager.ts",["cc","./UDictionary.ts","./QuestState.ts","./CraftQuest.ts","./ChopQuest.ts","./PickupQuest.ts","./SoldQuest.ts"],(function(t){var e,n,u,r,s,o,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.UDictionary},function(t){u=t.QuestState},function(t){r=t.CraftQuest},function(t){s=t.ChopQuest},function(t){o=t.PickupQuest},function(t){i=t.SoldQuest}],execute:function(){var c;e._RF.push({},"a6fdeVCeo9Dh43rr8vGcH6u","QuestManager",void 0);var a={CraftQuest:r,ChopQuest:s,PickupQuest:o,SoldQuest:i},f=new n,Q=1,p=t("QuestManager",function(){function t(){}var e=t.prototype;return e.Init=function(){},e.RequestTask=function(){for(var t=0;t<f.Count;t++){var e=f.GetAt(t);if(e.IsReady)return e.progress=u.preOrder,[!0,e]}return[!1,void 0]},e.GetQuest=function(t){return f.Get(t)},e.CreateQuest=function(t){var e=new(0,a[t])(++Q);return f.Set(e.sid,e),e},e.RemQuest=function(t){f.Remove(t)},e.CompleteOrder=function(t,e){var n=f.Get(t).Commit(e);return n&&f.Remove(t),n},t}());c=p,p.Instance=new c,e._RF.pop()}}}));

System.register("chunks:///_virtual/QuestState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"07b464Kq2tCO4IoA2o28OGe","QuestState",void 0);e("QuestState",function(e){return e[e.none=0]="none",e[e.preOrder=1]="preOrder",e[e.done=2]="done",e[e.working=3]="working",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/QuestType.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"16b55zNG9tBsokYs4TtC9fH","QuestType",void 0);t("QuestType",function(t){return t[t.chop=0]="chop",t[t.mine=1]="mine",t[t.craft=2]="craft",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/QuitState.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"5ed4ep9G+JAxKKGXimxvG3X","QuitState",void 0);t("QuitState",function(){function t(){}var n=t.prototype;return n.onStart=function(){throw new Error("Method not implemented.")},n.onUpdate=function(t){},n.onEnd=function(){throw new Error("Method not implemented.")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/RandomAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(t){var n,e,o,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.TreeNodeRegister},function(t){r=t.Action},function(t){i=t.ResultType}],execute:function(){var c;e._RF.push({},"1f1ae5aBcNGZLx0LySVCkDh","RandomAction",void 0);t("RandomAction",o("RandomAction")(c=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).rate=1,n}return n(e,t),e.prototype.onUpdate=function(t){return Math.random()<this.rate?i.ok:i.fail},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomBuffEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./BuffManager.ts","./RandomUtils.ts"],(function(t){var f,n,u,e,o;return{setters:[function(t){f=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.Effect},function(t){e=t.GetBuff},function(t){o=t.RandomInt}],execute:function(){n._RF.push({},"05c30gMP+RAgJv/R64y4iF8","RandomBuffEffect",void 0);t("RandomBuffEffect",function(t){function n(){for(var f,n=arguments.length,u=new Array(n),e=0;e<n;e++)u[e]=arguments[e];return(f=t.call.apply(t,[this].concat(u))||this).values=[],f.buff=null,f}f(n,t);var u=n.prototype;return u.onLoad=function(){if(!this.buffs){var t=o(0,this.values.length-1),f=this.values[t];this.buff=e(f)}},u.apply=function(t){this.buff&&t.AddBuff(this.buff)},u.Release=function(){},u.ToString=function(t){return"buff"},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/RandomBuffEffectConfig.ts",["cc"],(function(f){var n;return{setters:[function(f){n=f.cclegacy}],execute:function(){f({RandomBuffEffectConfigGet:function(f,n){var o=e.get(f);return null==o?void 0:o[n]},RandomBuffEffectConfigSetup:function(f,n){var t=e.get(f);if(!t)throw new Error("id:"+f+" is null");n.ID=f;for(var a=0;a<o.length;a++){var i=o[a];n[i]=Array.isArray(t[a])?[].concat(t[a]):t[a]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"19a41LDir1C9Z3J8NlUBmjJ","RandomBuffEffectConfig",void 0);var e=f("RandomBuffEffectConfigData",new Map([[9101,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9102,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9103,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9104,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9105,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9106,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9107,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]],[9108,["圆形触发器","",[2001,2002,2003,2004,2005,2006,2007,2008,2009]]]])),o=f("RandomBuffEffectConfigHeaders",["Name","Description","values"]);f("RandomBuffEffectConfigField",function(f){return f[f.Name=0]="Name",f[f.Description=1]="Description",f[f.values=2]="values",f}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/RandomByWeights.ts",["cc","./CardBagConfig.ts"],(function(n){var t,r,e;return{setters:[function(n){t=n.cclegacy},function(n){r=n.CardBagConfigGet,e=n.CardBagConfigField}],execute:function(){function a(n,t){for(var r=0,e=0;e<t.length;e++)r+=t[e];for(var a=Math.random()*r,o=0;o<n.length;o++){if(a<t[o])return n[o];a-=t[o]}return n[n.length-1]}n({RandomByCount:function(n,t,r){for(var e=[],o=0;o<r;o++)e.push(a(n,n.map((function(n){return 1}))));return e},RandomByWeights:a,RandomCard:function(n){var t=r(n,e.Item),o=r(n,e.Weight);return a(t,o)},RandomIdxByWeights:function(n,t,r){for(var e=0,a=0;a<t.length-r;a++)e+=t[a];for(var o=Math.random()*e,i=0;i<n.length-r;i++){if(o<t[i])return i;o-=t[i]}return n.length-1-r}}),t._RF.push({},"a7f9cjDRhlHTKLElHndT1zZ","RandomByWeights",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/RandomPosAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var n,o,e,r,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t.Vec2},function(t){r=t.Action},function(t){c=t.ResultType},function(t){i=t.TreeNodeRegister}],execute:function(){var s;o._RF.push({},"2c8b4ySQo1F6a5eAgZGunw7","RandomPosAction",void 0);t("RandomPosAction",i("RandomPosAction")(s=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(n=t.call.apply(t,[this].concat(r))||this).targetPos=new e(300,300),n}n(o,t);var r=o.prototype;return r.onStart=function(){t.prototype.onStart.call(this)},r.onUpdate=function(t){return c.ok},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/RandomSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Selector.ts","./TreeNodeRegister.ts"],(function(e){var t,o,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.Selector},function(e){r=e.TreeNodeRegister}],execute:function(){var c;o._RF.push({},"2d1e5IlJb5Dhav5plDXddDU","RandomSelector",void 0);e("RandomSelector",r("RandomSelector")(c=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).index=0,t.child=void 0,t}return t(o,e),o.prototype.onStart=function(){e.prototype.onStart.call(this)},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/RandomUtils.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({Random:function(n,t){return Math.random()*(t-n)+n},RandomInt:function(n,t){return Math.floor(Math.random()*(t-n)+n)}}),t._RF.push({},"f6569v6pbNKhKFaiErMrUEe","RandomUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/RandomWait.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(t){var n,i,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){o=t.TreeNodeRegister},function(t){e=t.Action},function(t){r=t.ResultType}],execute:function(){var s;i._RF.push({},"252e4MKGapF7LbJ6nXs4n+o","RandomWait",void 0);t("RandomWait",o("RandomWait")(s=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).min=1,n.max=1,n._t=0,n.duration=1,n}n(i,t);var o=i.prototype;return o.onStart=function(){this._t=0,this.duration=Math.random()*(this.max-this.min)+this.min},o.onUpdate=function(t){return this._t+=t,this._t>=this.duration?(this._t=0,r.ok):r.running},i}(e))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/RayCastActionConfig.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({RayCastActionConfigGet:function(t,n){var a=i.get(t);return null==a?void 0:a[n]},RayCastActionConfigSetup:function(t,n){var o=i.get(t);if(!o)throw new Error("id:"+t+" is null");n.ID=t;for(var e=0;e<a.length;e++){var r=a[e];n[r]=Array.isArray(o[e])?[].concat(o[e]):o[e]}"function"==typeof n.onLoad&&n.onLoad()}}),n._RF.push({},"35067AssypJLJxhDwRYyZsc","RayCastActionConfig",void 0);var i=t("RayCastActionConfigData",new Map([[2001,["圆形触发器","",.5,[9001]]],[2002,["圆形触发器","",.5,[9001]]],[2003,["圆形触发器","",.5,[9001]]],[2004,["圆形触发器","",.5,[9001]]],[2005,["圆形触发器","",.5,[9001]]],[2006,["圆形触发器","",.5,[9001]]],[2007,["圆形触发器","",.5,[9001]]],[2008,["圆形触发器","",.5,[9001]]]])),a=t("RayCastActionConfigHeaders",["Name","Description","radius","effects"]);t("RayCastActionConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.radius=2]="radius",t[t.effects=3]="effects",t}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/RayCaster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectCaster.ts","./IntersectUtils.ts"],(function(t){var e,r,n,o,a;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){o=t.EffectCaster},function(t){a=t.IntersectRay2Rectangle}],execute:function(){n._RF.push({},"081bbLBxN9De5tZQsFiO4iq","RayCaster",void 0);t("RayCaster",function(t){function n(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).x=0,e.y=0,e}return e(n,t),n.prototype.OnAction=function(t){for(var e,n=t.scene.actors.filter((function(e){return e.Camp!=t.Camp&&(!!a(t.position,t.forward,e.Min,e.Max)||void 0)})),o=r(n);!(e=o()).done;){var c=e.value;if(this.EffectItem)for(var i,s=r(this.EffectItem);!(i=s()).done;){i.value.apply(c,void 0)}}},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/RectActionConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n({RectActionConfigGet:function(n,t){var e=i.get(n);return null==e?void 0:e[t]},RectActionConfigSetup:function(n,t){var o=i.get(n);if(!o)throw new Error("id:"+n+" is null");t.ID=n;for(var c=0;c<e.length;c++){var r=e[c];t[r]=Array.isArray(o[c])?[].concat(o[c]):o[c]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"8ea12oYJZ1Lpq5W2lOGNSIf","RectActionConfig",void 0);var i=n("RectActionConfigData",new Map([[5001,["圆形触发器","",""]],[5002,["圆形触发器","",""]],[5003,["圆形触发器","",""]],[5004,["圆形触发器","",""]],[5005,["圆形触发器","",""]],[5006,["圆形触发器","",""]],[5007,["圆形触发器","",""]],[5008,["圆形触发器","",""]]])),e=n("RectActionConfigHeaders",["Name","Description","Anim"]);n("RectActionConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.Anim=2]="Anim",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/RectCaster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectCaster.ts"],(function(t){var e,r,i,o;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){o=t.EffectCaster}],execute:function(){i._RF.push({},"7fb0be4G81Mi74y/cYonv6w","RectCaster",void 0);t("RectCaster",function(t){function i(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).x=0,e.y=0,e.radiusY=0,e.radiusX=0,e}return e(i,t),i.prototype.OnAction=function(t){for(var e,i=this,o=t.scene.actors.filter((function(t){return!(t.position.x+t.radius<i.x-i.radiusX||t.position.x-t.radius>i.x+i.radiusX||t.position.y>i.y+i.radiusY||t.position.y+t.height<i.y-i.radiusY)})),n=r(o);!(e=n()).done;)for(var s,a=e.value,c=r(this.EffectItem);!(s=c()).done;){s.value.apply(a)}},i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/ReLocatePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts","./ItemOrderType.ts"],(function(t){var e,o,n,i,a,c,r,l,s,u,p,h,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,r=t.Node,l=t.Vec2,s=t.Vec3,u=t.Button,p=t.UITransform,h=t.Component},function(t){b=t.VillageScene},function(t){f=t.ItemOrderType}],execute:function(){var y,v,d,m,L,g,T,I,P,w,E,C,R;a._RF.push({},"13758TD9hhMEpHc50AnyIMS","ReLocatePanel",void 0);var z=c.ccclass,D=c.property;t("ReLocatePanel",(y=z("ReLocatePanel"),v=D(r),d=D(r),m=D(r),L=D(r),g=D(r),y((P=e((I=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(e,"loc",P,i(e)),n(e,"tLoc",w,i(e)),n(e,"btn1",E,i(e)),n(e,"btn2",C,i(e)),n(e,"btn3",R,i(e)),e.mousePos=new l,e.localPoint=new s,e.targetItem=null,e}o(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;this.btn1.on(u.EventType.CLICK,(function(){t.node.destroy()})),this.btn2.on(u.EventType.CLICK,(function(){t.loc.active=!1,t.tLoc.active=!1})),this.btn3.on(u.EventType.CLICK,(function(){t.loc.active&&t.tLoc.active&&(t.targetItem.orderType=f.ReLocate,t.targetItem.reLocation=new s(t.tLoc.position.x,t.tLoc.position.y,0),t.node.destroy())}))},a.onEnable=function(){b.instance.isPaused=!0,this.node.on(r.EventType.TOUCH_END,this.onTouchEnd,this)},a.onDisable=function(){b.instance.isPaused=!1,this.node.off(r.EventType.TOUCH_END,this.onTouchEnd,this)},a.onTouchEnd=function(t){this.mousePos=t.getUILocation();var e=new s(this.mousePos.x,this.mousePos.y,0);this.localPoint=this.node.getComponent(p).convertToNodeSpaceAR(e);var o=100*Math.floor(this.localPoint.x/100)+50,n=100*Math.floor(this.localPoint.y/100)+50,i=b.instance.GetItem(o,n);this.loc.active?i==this.targetItem?this.loc.active=!1:i?(this.targetItem=i,this.loc.position=new s(o,n,0)):(this.tLoc.active=!0,this.tLoc.position=new s(o,n,0)):i&&(this.targetItem=i,this.loc.active=!0,this.loc.position=new s(o,n,0))},e}(h)).prototype,"loc",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(I.prototype,"tLoc",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(I.prototype,"btn1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(I.prototype,"btn2",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(I.prototype,"btn3",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/Repeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,r,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){i=t.Decorator},function(t){n=t.ResultType},function(t){o=t.TreeNodeRegister}],execute:function(){var s;r._RF.push({},"0724cOl4ltLjLi5AeuC55oZ","Repeater",void 0);t("Repeater",o("Repeater")(s=function(t){function r(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).duration=0,e.timer=0,e}e(r,t);var i=r.prototype;return i.onStart=function(){t.prototype.onStart.call(this),this.timer=this.duration},i.onDecoratorUpdate=function(t){if(!this.childNode)return n.fail;if(this.timer+=t,this.timer>=this.duration){var e=this.updateChild(this.timer);this.timer=0,e!=n.running&&(this.childNode.onEnd(),this.childNode.onStart(),this.timer=this.duration)}return n.running},r}(i))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResManager.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"5eb09EKgn9K0pngY2Wc8D5A","ResManager",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResultType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b9587TGpu1DJ4fI4lsu8Ita","ResultType",void 0);e("ResultType",function(e){return e[e.inActive=0]="inActive",e[e.ok=1]="ok",e[e.fail=2]="fail",e[e.running=3]="running",e}({})),e("SearchType",function(e){return e[e.Any=0]="Any",e[e.Nearest=1]="Nearest",e[e.Farthest=2]="Farthest",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ReturnFailure.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(e){var t,r,n,u,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.Decorator},function(e){u=e.ResultType},function(e){o=e.TreeNodeRegister}],execute:function(){var i;r._RF.push({},"9fab4ppC6VCHr2uQ6PJFz+/","ReturnFailure",void 0);e("ReturnFailure",o("ReturnFailure")(i=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.onDecoratorUpdate=function(e){this.updateChild(e);return u.fail},r}(n))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/ReturnPriority.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var r,e,n,i,o;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.Action},function(t){i=t.ResultType},function(t){o=t.TreeNodeRegister}],execute:function(){var u;e._RF.push({},"4baebuG7xdFiYPcwxOXOjQ2","ReturnPriority",void 0);t("ReturnPriority",o("ReturnPriority")(u=function(t){function e(){for(var r,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(r=t.call.apply(t,[this].concat(n))||this).PriorityValue=0,r}r(e,t);var n=e.prototype;return n.onUpdate=function(t){return i.ok},n.GetPriority=function(){return this.PriorityValue},e}(n))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ReturnSuccess.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(e){var t,n,r,u,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Decorator},function(e){u=e.ResultType},function(e){o=e.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"50ed6zlegNIFJmT0M8NJXnj","ReturnSuccess",void 0);e("ReturnSuccess",o("ReturnSuccess")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onDecoratorUpdate=function(e){return this.updateChild(e)==u.running?u.running:u.ok},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/RockRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseRule.ts"],(function(e){var o,t,n;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.BaseRule}],execute:function(){t._RF.push({},"cdb35m5W25B3InZZAjjn1mi","RockRule",void 0);e("RockRule",function(e){function t(){return e.call(this,"wall04",["floors/floor/spriteFrame","floors/floor/spriteFrame"],[[2,0,2,1,1,2,1,2],[0,0,0,1,1,0,0,0]])||this}return o(t,e),t}(n));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardBagConfig.ts","./RandomByWeights.ts","./ItemConfig.ts","./ItemSchema.ts","./SceneItem.ts","./PlayerDataManager.ts","./UIManager.ts","./ShowMessageManager.ts","./ItemFunc.ts","./BagItem.ts"],(function(t){var n,e,a,i,o,s,c,r,u,h,g,f,l,p,I,m;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.CardBagConfigGet,i=t.CardBagConfigField},function(t){o=t.RandomByWeights,s=t.RandomIdxByWeights},function(t){c=t.ItemConfigGet,r=t.ItemConfigField},function(t){u=t.ItemRegister},function(t){h=t.SceneItem},function(t){g=t.PlayerDataManager,f=t.PlayerDataType},function(t){l=t.UIManager},function(t){p=t.ShowMessageManager},function(t){I=t.ItemFunc},function(t){m=t.BagItem}],execute:function(){var d;e._RF.push({},"9f326uL5VJBHpFKKVVhmSiP","RoleBagItem",void 0);t("RoleBagItem",u("RoleBagItem")(d=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).posX=0,n.posY=0,n.usePos=!1,n}n(e,t);var u=e.prototype;return u.SetPos=function(t,n){this.posX=t,this.posY=n,this.usePos=!0},u.OnSpawn=function(n){t.prototype.OnSpawn.call(this,n),this.Name=this.Name+"￥"+this.Price},u.OnDetail=function(){l.instance.bagTip.BagConfigID=this.ID,l.instance.bagTip.node.active=!0},u.OnContextShow=function(){var t=this,n=g.GetData(f.Population),e=g.GetData(f.PopulationMax),a=I.instance;a.Begin(this),a.Append("介绍",(function(){t.OnDetail(),a.node.active=!1})),n>=e?a.Append("人口已达上限",(function(){a.node.active=!1})):a.Append("购买",(function(){t.Buy(),a.node.active=!1})),a.End(this)},u.Use=function(t){var n=a(this.ID,i.Item),e=a(this.ID,i.Weight),c=a(this.ID,i.Count);if(1!=c)for(var r=0;r<c;r++){var u=s(n,e,r),h=n[u];this.RandCard(h,t);var g=n.length-1-r,f=n[g];n[g]=n[u],n[u]=f,f=e[g],e[g]=e[u],e[u]=f}else{var l=o(n,e);this.RandCard(l,t)}},u.RandCard=function(t,n){if("BagItem"==c(t,r.Func)){var e=new m;e.ID=t,e.Use(n)}else this.usePos?n.SpawnItemInNearCell(this.posX,this.posY,t):n.RandomItem(t)},u.Buy=function(){g.TryBuy(this.Price)?this.Use(this.scene):p.instance.Show("金币不够！",this.top,2,null,255,0,0)},e}(h))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemConfig.ts","./ActorManager.ts","./ItemSchema.ts","./TimerTask.ts"],(function(t){var e,n,o,i,r,c,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.SceneItem},function(t){i=t.ItemConfigGet,r=t.ItemConfigField},function(t){c=t.ActorManager},function(t){s=t.ItemRegister},function(t){a=t.TimerTask}],execute:function(){var u;n._RF.push({},"afdf4ENXNJO2pgqEuXmIU3e","RoleGenerator",void 0);t("RoleGenerator",s("RoleGenerator")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e);var n=i(this.ConfigID,r.Arg),o=c.instance.CreateActor(n);o.position=this.position.clone(),e.actorJoinScene(o),a.instance.Add(5,this,(function(){}))},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventDefine.ts","./ShowMessageManager.ts","./ObjectPool.ts","./RootManager.ts","./BundleResManager.ts","./GameEventSystem.ts","./GameWorldDefine.ts","./TemplateManager.ts","./MemoryDefine.ts","./ActorView.ts","./ModelDescriptor.ts"],(function(t){var e,o,n,r,i,a,c,s,p,l,u,d,h,f,y,m,g,v,w,M,C,b,D,E,S,O,P,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy,i=t._decorator,a=t.Vec3,c=t.Node,s=t.AudioSource,p=t.UITransform,l=t.Vec2,u=t.RichText,d=t.instantiate,h=t.Animation,f=t.Sprite,y=t.Color},function(t){m=t.ActorEventDefine},function(t){g=t.ShowMessageManager},function(t){v=t.ObjectPool},function(t){w=t.RootManager},function(t){M=t.LoadAudio,C=t.LoadPrefab,b=t.LoadSprite},function(t){D=t.FireEvent},function(t){E=t.WorldEventDefine},function(t){S=t.TemplateManager},function(t){O=t.MemoryDefine},function(t){P=t.ActorView},function(t){A=t.ModelDescriptor}],execute:function(){var R,T,H,V,j,I,k,L,N;r._RF.push({},"74521mlw8REl4ujIclMVNbP","RoleView",void 0);var q=i.ccclass,B=i.property;t("RoleView",(R=q("RoleView"),T=B({visible:!0}),H=B({visible:!0}),V=B({visible:!0}),j=B({visible:!0}),I=B({visible:!0}),k=B({visible:!0}),R((e((N=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).anim=null,e.audio=null,e.descriptor=null,e.waitInit=!1,e.actor=void 0,e.carryModel=void 0,e.selected=!1,e.dir=0,e.wp=null,e}o(e,t);var r=e.prototype;return r.OnDamage=function(t){var e=t[0],o=t[1];g.instance.Show(""+e,o,3)},r.getModelScale=function(){return this.model.scale.clone()},r.start=function(){var t=this;this.actor.addEvent(m.onCarry,this,this.onCarry),this.actor.addEvent(m.onDamage,this,this.OnDamage),this.actor.addEvent(m.onEquip,this,this.OnEquip),this.actor.addEvent(m.unEquip,this,this.UnEquip),this.actor.addEvent(m.onVfx,this,(function(e){var o=e[0];v.SpawnPrefab(o,(function(e){e.setParent(t.node),e.position=new a(0,0,0)}))}))},r.onEnable=function(){this.node.on(c.EventType.TOUCH_START,this.onTouch,this)},r.onTouch=function(t){1==this.actor.Camp&&(t.propagationStopped=!0,w.instance.Selector.setParent(this.node),w.instance.Selector.position=new a(0,0,0),D(E.actorSelected,this.actor))},r.onDisable=function(){this.node.off(c.EventType.TOUCH_START),this.actor.removeEvent(m.onDamage,this,this.OnDamage)},r.playAnimation=function(t){var e;null==(e=this.anim)||e.play(t)},r.playAudio=function(t,e){var o=this;void 0===e&&(e=1),this.audio.volume=e,M(t).then((function(t){o.audio.clip=t,o.audio.play()}))},r.update=function(t){var e=Math.sign(this.actor.forward.x);this.model&&e!=this.dir&&(this.dir=e,1==this.dir?this.model.scale=new a(1,1,1):-1==this.dir&&(this.model.scale=new a(-1,1,1))),this.node.position=this.actor.position},e.Create=function(t){var o=new c("ActorView");o.setParent(w.instance.SceneLayer);var n=o.addComponent(e);n.audio=o.addComponent(s),o.addComponent(p).anchorPoint=new l(.5,.1),n.actor=t;var r=new c("Label"),i=(r.addComponent(p),r.addComponent(u));return i.fontSize=24,i.node.setParent(o),i.string=1==t.Camp?t.Name:"",i.node.position=new a(0,-35,0),t.Model&&C(t.Model).then((function(t){n.model=d(t),n.model.setParent(o),n.anim=n.getComponentInChildren(h),n.descriptor=n.model.getComponent(A)})),n},r.UnEquip=function(t){var e;null==(e=this.wp)||e.destroy(),this.wp=null},r.onCarry=function(t){var e=t[0];if(e){if(this.carryModel=S.Instance.Spawn("Sprite"),this.carryModel){this.carryModel.setParent(this.descriptor.body),this.carryModel.position=new a(-15,20,0),this.carryModel.scale=new a(.5,.5,.5);var o=this.carryModel.getComponent(f);b(e.Icon).then((function(t){o&&(o.spriteFrame=t)}))}}else this.carryModel&&(this.carryModel.destroy(),this.carryModel=void 0)},r.OnEquip=function(t){var e=this,o=t[0],n=this.actor.top.clone();n.y+=20,g.instance.Show("<color=red>获得 ["+o.Name+"]</color>",n,2),o&&o.Model&&C(o.Model).then((function(t){e.wp=d(t),e.wp.setParent(e.model),e.wp.position=new a(0,0,0),e.wp.scale=new a(-1,1,1)}))},r.changeHat=function(t){var e=this;b(t).then((function(t){e.descriptor&&(e.descriptor.hat.spriteFrame=t)}))},r.onColorChange=function(t,e){t&&e&&this.model&&(this.model.getChildByPath(t).getComponent(f).color=y.fromHEX(new y,e))},n(e,[{key:"ActorName",get:function(){return this.actor.Name}},{key:"BuffCount",get:function(){return this.actor.buffList.length}},{key:"ActorHp",get:function(){return this.actor.ToHealth(!1)}},{key:"Hunger",get:function(){return this.actor.ToHunger()}},{key:"Range",get:function(){return this.actor.AttackRange.toString()}},{key:"Intention",get:function(){var t=this.actor.Memory.get(O.intention);return t?"intention "+t:""}}]),e}(P)).prototype,"ActorName",[T],Object.getOwnPropertyDescriptor(N.prototype,"ActorName"),N.prototype),e(N.prototype,"BuffCount",[H],Object.getOwnPropertyDescriptor(N.prototype,"BuffCount"),N.prototype),e(N.prototype,"ActorHp",[V],Object.getOwnPropertyDescriptor(N.prototype,"ActorHp"),N.prototype),e(N.prototype,"Hunger",[j],Object.getOwnPropertyDescriptor(N.prototype,"Hunger"),N.prototype),e(N.prototype,"Range",[I],Object.getOwnPropertyDescriptor(N.prototype,"Range"),N.prototype),e(N.prototype,"Intention",[k],Object.getOwnPropertyDescriptor(N.prototype,"Intention"),N.prototype),L=N))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/RootManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemFunc.ts"],(function(e){var t,n,o,r,i,a,l,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Node,u=e.Component},function(e){s=e.ItemFunc}],execute:function(){var p,f,b,y,g,R,d,m,h,S,v,z,I,_;a._RF.push({},"dc420UOdPdKEIfiGIRDCVTu","RootManager",void 0);var w=l.ccclass,F=l.property;e("RootManager",(p=w("RootManager"),f=F(c),b=F(c),y=F(s),g=F(c),R=F(c),p(((_=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"SceneRoot",h,r(t)),o(t,"SceneLayer",S,r(t)),o(t,"ItemFuncRoot",v,r(t)),o(t,"ActorSelectorRoot",z,r(t)),o(t,"Selector",I,r(t)),t}return n(t,e),t.prototype.onLoad=function(){t._instance=this},i(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(u))._instance=void 0,h=t((m=_).prototype,"SceneRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(m.prototype,"SceneLayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"ItemFuncRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(m.prototype,"ActorSelectorRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(m.prototype,"Selector",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/SaveManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy}],execute:function(){e({ClearGameSave:function(){for(var e=0;e<5;e++)localStorage.setItem("meta_"+e,""),localStorage.setItem("slot_"+e,"")},CurrentSave:function(e){o(a,e)},DeleteSlot:function(e){localStorage.removeItem("meta_"+e),localStorage.removeItem("slot_"+e)},GetSlotMeta:function(e){var t=localStorage.getItem("meta_"+e);if(t)return JSON.parse(t);return null},LoadCurrent:function(){return n(a)},LoadCurrentActors:function(){var e=localStorage.getItem("actor_"+a);if(e){var t=JSON.parse(e);return"string"==typeof t?JSON.parse(t):t}return null},LoadCurrentEquips:function(){var e=localStorage.getItem("equip_"+a);if(e){var r,o=JSON.parse(e);r="string"==typeof o?JSON.parse(o):o;for(var n,l=new Map,u=t(r);!(n=u()).done;){var c=n.value;l.set(c.uid,c)}return l}return null},LoadCurrentUserData:function(){var e=localStorage.getItem("user_"+a);if(e)return JSON.parse(e);return null},LoadFromSlot:n,NewSave:function(){var e={slot:0,timestamp:"New Game"};localStorage.setItem("meta_0",JSON.stringify(e)),localStorage.setItem("slot_0","")},SaveCurrentActors:function(e){localStorage.setItem("actor_"+a,JSON.stringify(e))},SaveCurrentEquips:function(e){localStorage.setItem("equip_"+a,JSON.stringify(e))},SaveCurrentUserData:function(e){localStorage.setItem("user_"+a,JSON.stringify(e))},SaveToSlot:o,SetCurrent:function(e){a=e}}),r._RF.push({},"53deccVOclMAZYcMbtESdOJ","SaveManager",void 0);var a=0;function o(e,t){var r={};r.slot=e,r.timestamp=(new Date).toLocaleString(),localStorage.setItem("meta_"+e,JSON.stringify(r)),localStorage.setItem("slot_"+e,JSON.stringify(t))}function n(e){a=e;var t=localStorage.getItem("slot_"+e);return t?JSON.parse(t):null}r._RF.pop()}}}));

System.register("chunks:///_virtual/ScaleEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts","./ViewManager.ts"],(function(e){var t,c,n,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy,n=e.Vec3},function(e){i=e.Effect},function(e){a=e.ViewManager}],execute:function(){c._RF.push({},"9cb142wHhhFb4D/d0WDbk5i","ScaleEffect",void 0);e("ScaleEffect",function(e){function c(){for(var t,c=arguments.length,n=new Array(c),i=0;i<c;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).path="",t.scale=1,t}return t(c,e),c.prototype.apply=function(e,t,c,i){var r=a.instance.GetActorView(e.Sid);if(r){var o=r.node.getChildByPath(this.path);o&&(o.scale=new n(this.scale,1,1))}},c}(i));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScaleEffectConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({ScaleEffectConfigGet:function(e,t){var n=c.get(e);return null==n?void 0:n[t]},ScaleEffectConfigSetup:function(e,t){var a=c.get(e);if(!a)throw new Error("id:"+e+" is null");t.ID=e;for(var o=0;o<n.length;o++){var f=n[o];t[f]=Array.isArray(a[o])?[].concat(a[o]):a[o]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"d5139IH3WZCUpczvDFH9MN4","ScaleEffectConfig",void 0);var c=e("ScaleEffectConfigData",new Map([[7001,["圆形触发器","","actor/Node/body",1.2]],[7002,["圆形触发器","","actor/Node/body",.5]],[7003,["圆形触发器","","",1]],[7004,["圆形触发器","","",1]],[7005,["圆形触发器","","",1]],[7006,["圆形触发器","","",1]],[7007,["圆形触发器","","",1]],[7008,["圆形触发器","","",1]]])),n=e("ScaleEffectConfigHeaders",["Name","Description","path","scale"]);e("ScaleEffectConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.path=2]="path",e[e.scale=3]="scale",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts","./ItemSchema.ts","./ItemOrderType.ts","./PositionUtils.ts","./ItemFunc.ts"],(function(t){var n,e,i,o,s,a,r,u,c;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.Vec3,o=t.Vec2},function(t){s=t.ItemConfigSetup},function(t){a=t.ItemRegister},function(t){r=t.ItemOrderType},function(t){u=t.pos2uid},function(t){c=t.ItemFunc}],execute:function(){var l;e._RF.push({},"527a571XmBMOq49eMiZ/H1s","SceneItem",void 0);t("SceneItem",a("SceneItem")(l=function(){function t(){this.uid=0,this.reLocation=new i,this.isStateChange=!1,this._scene=void 0,this.level=0,this.lastFreezeTime=999,this.Name=void 0,this.Description=void 0,this.Icon=void 0,this.Stack=void 0,this.Func=void 0,this.Type=void 0,this.SubType=void 0,this.Flag=void 0,this.Model=void 0,this.Arg=void 0,this.Price=void 0,this._Count=1,this.ID=0,this._Freeze=!1,this._orderType=r.None,this._position=new i(50,50,0),this.size=new o(50,50),this._sid=0,this.Number=1,this.CountChangeCallBack=null}var e=t.prototype;return e.GetMission=function(){return[void 0,0]},e.HasJob=function(){return!1},e.OnContextShow=function(t){var n=this,e=c.instance;e.Begin(this),this.orderType==r.None&&(this.Flag&h.CanSell)>0&&e.Append("出售",(function(){n.orderType=r.Sell,n.SetFreeze(!0),e.node.active=!1})),this.orderType==r.None&&(this.Flag&h.CanPick)>0&&e.Append("采集",(function(){n.orderType=r.Collect,n.SetFreeze(!0),e.node.active=!1})),(this.Flag&h.CanView)>0&&e.Append("详情",(function(){n.OnDetail(),e.node.active=!1})),(this.Flag&h.CanOpen)>0&&e.Append("使用",(function(){n.OnOpen(),e.node.active=!1})),(this.Flag&h.CanDrop)>0&&e.Append("丢弃",(function(){n.scene.RemoveItem(n.sid),e.node.active=!1})),this.orderType!=r.None&&e.Append("取消",(function(){n.orderType=r.None,e.node.active=!1})),t&&e.End(this)},e.GetFreeze=function(){return this.scene.TotalSecond-this.lastFreezeTime<20&&this._Freeze},e.SetFreeze=function(t){t&&(this.lastFreezeTime=this.scene.TotalSecond),this._Freeze=t},e.toJSON=function(){return{ID:this.ConfigID,_Count:this.Count,_position:[this.position.x,this.position.y]}},e.fromJSON=function(t){this.ID=t.ID,this._Count=t._Count,this._position=new i(t._position[0],t._position[1],0)},e.Init=function(t,n){this._sid=n,s(t,this)},e.OnDetail=function(){},e.OnEnter=function(t){},e.OnLeave=function(t){},e.OnDrop=function(t){this.ConfigID==t.ConfigID&&(this.Count+=t.Count)},e.onLoad=function(){},e.OnOpen=function(){},e.OnSpawn=function(t){this._scene=t},e.OnEquip=function(t){},e.UnEquip=function(t){},e.AABBTest=function(t,n,e,i){var o=this._position;return!(o.x+this.size.x<t||o.x-this.size.x>e||o.y+this.size.y<n||o.y-this.size.y>i)},e.start=function(){},e.update=function(t){return!0},e.StartCollect=function(t){},e.SubmitMat=function(t,n){},e.OnRemove=function(){},e.DayCall=function(){},e.OnInteract=function(){},n(t,[{key:"Uid",get:function(){return this.uid}},{key:"position",get:function(){return this._position},set:function(t){253==this.ID&&console.error(t),this._position=t,this.uid=u(t)}},{key:"center",get:function(){return new i(100*Math.floor(this.position.x/100)+50,100*Math.floor(this.position.y/100)+50,0)}},{key:"top",get:function(){return new i(this.position.x,this.position.y+this.size.y,0)}},{key:"orderType",get:function(){return this._orderType},set:function(t){this._orderType=t}},{key:"scene",get:function(){return this._scene}},{key:"ToString",get:function(){return this.Name}},{key:"Count",get:function(){return this._Count},set:function(t){this._Count=t,this.CountChangeCallBack&&this.CountChangeCallBack(this._Count)}},{key:"ToDescription",get:function(){return this.Description}},{key:"sid",get:function(){return this._sid}},{key:"ConfigID",get:function(){return this.ID}},{key:"CollectDone",get:function(){return!0}},{key:"currentMat",get:function(){return 1}},{key:"CollectResult",get:function(){return!1}},{key:"CanEquip",get:function(){return 5==this.Type}},{key:"CanEat",get:function(){return(this.Flag&h.CanEat)>0}},{key:"CanMelt",get:function(){return(this.Flag&h.CanMelt)>0}},{key:"CanPlant",get:function(){return(this.Flag&h.CanPlant)>0}},{key:"CanImDestroy",get:function(){return(this.Flag&h.CanImDestroy)>0}}]),t}())||l);var h=t("ItemMask",function(t){return t[t.CanSell=1]="CanSell",t[t.CanPick=2]="CanPick",t[t.CanEat=4]="CanEat",t[t.CanView=8]="CanView",t[t.CanUse=16]="CanUse",t[t.CanOpen=32]="CanOpen",t[t.CanPlant=64]="CanPlant",t[t.CanMelt=128]="CanMelt",t[t.CanImDestroy=256]="CanImDestroy",t[t.CanDrop=512]="CanDrop",t[t.CanSellAll=1024]="CanSellAll",t[t.CanSellHalf=2048]="CanSellHalf",t[t.CanSellOne=4096]="CanSellOne",t[t.CanSellStack=8192]="CanSellStack",t[t.CanSellAllStack=16384]="CanSellAllStack",t[t.CanSellHalfStack=32768]="CanSellHalfStack",t[t.CanSellOneStack=65536]="CanSellOneStack",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/SceneItemDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./ItemConfig.ts","./PlayerDataManager.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,i,r,s,c,u,f;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){i=e.ResultType},function(e){r=e.ItemConfigGet,s=e.ItemConfigField},function(e){c=e.PlayerDataManager},function(e){u=e.MemoryDefine},function(e){f=e.TreeNodeRegister}],execute:function(){var a;n._RF.push({},"fc5c5y5r9xKWpQPslCKsPGu","SceneItemDrop",void 0);e("SceneItemDrop",f("SceneItemDrop")(a=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.mgr.owner,n=t.Memory.get(u.targetItem),o=r(n.ConfigID,s.Arg);return t.scene.SpawnItem(t.position.x,t.position.y,o),t.scene.RemoveItem(n.sid),c.ModifyGold(100),i.ok},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneItemView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,s,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,r=t._decorator,s=t.RichText,c=t.Node,a=t.Component}],execute:function(){var h,m,p,u,l;o._RF.push({},"b67e1MuTL9HzrdW28id4B3J","SceneItemView",void 0);var d=r.ccclass,g=r.property;t("SceneItemView",(h=d("SceneItemView"),m=g({visible:!0}),p=g({visible:!0}),h((e((l=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._item=void 0,e.label=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){var t=this.node.getComponentInChildren(s);t?this.label=t:console.warn("RichText component not found in child nodes.")},o.start=function(){this.node.on(c.EventType.TOUCH_START,this.OnItemClick,this)},o.update=function(t){this._item.isStateChange&&(this._item.isStateChange=!1,this.label.string=this._item.ToString)},o.OnItemClick=function(){this.item.OnContextShow(!0)},o.OnCountChange=function(t){this._item.Count<=1?this.label.string=""+this.item.Name:this.label.string=this.item.Name+" x"+t},n(e,[{key:"ItemName",get:function(){return this._item.Name+" "+this._item.sid+" "+this._item.ID}},{key:"IsFreeze",get:function(){return this._item.GetFreeze()}},{key:"item",get:function(){return this._item},set:function(t){this._item=t,this._item.CountChangeCallBack=this.OnCountChange.bind(this)}}]),e}(a)).prototype,"ItemName",[m],Object.getOwnPropertyDescriptor(l.prototype,"ItemName"),l.prototype),e(l.prototype,"IsFreeze",[p],Object.getOwnPropertyDescriptor(l.prototype,"IsFreeze"),l.prototype),u=l))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMap.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"db7e0k+Y/ZE067BqY+FrKzA","SceneMap",void 0);t("SceneMap",function(){function t(){this.cellSize=32,this.height=600,this.width=400,this.data=[]}var i=t.prototype;return i.initMap=function(){for(var t=0;t<10;t++){this.data[t]=[];for(var i=0;i<10;i++)this.data[t][i]=0}},i.GetByPos=function(t,i){return t<0||i<0||t>=this.width||i>=this.height?-1:this.data[Math.floor(i/this.cellSize)][Math.floor(t/this.cellSize)]},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/SceneRule.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"97cc7f2Y3BKBLAWCRldGHwq","SceneRule",void 0);t("SceneRule",function(){function t(t){this.t=0,this.f=.5,this.scene=void 0,this.scene=t}var e=t.prototype;return e.Tick=function(t){this.t+=t,this.t>this.f&&(this.t=0,this.onUpdate(t))},e.onUpdate=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ScheduleAttrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o,i,a,c,l,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Node,l=t.RichText,u=t.Component,s=t.Toggle}],execute:function(){var p,h,f,d,y;i._RF.push({},"7798byfRllFarvcP/Z3GVUN","ScheduleAttrItem",void 0);var g=a.ccclass,m=a.property;t("ScheduleAttrItem",(p=g("ScheduleAttrItem"),h=m(c),p((y=e((d=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"atRoot",y,o(e)),e}return r(e,t),e.prototype.setData=function(t){var e=this;this.node.getChildByName("Name").getComponent(l).string=t.Name;for(var r=function(){var r=t.attr[n],o=e.atRoot.children[n],i=n;o.off(s.EventType.TOGGLE),o.on(s.EventType.TOGGLE,(function(e){t.attr[i]=e.isChecked?1:0})),o.getComponent(s).interactable=r<2},n=0;n<t.attr.length;n++)r()},e}(u)).prototype,"atRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=d))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScheduleEquipItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleResManager.ts"],(function(e){var t,n,i,o,r,a,c,u,l,p,s,h,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,u=e.RichText,l=e.Component,p=e.Button,s=e.Sprite,h=e.UITransform,d=e.Size},function(e){f=e.LoadSprite}],execute:function(){var g,m,v,y,C;r._RF.push({},"a26372DGRdKlZ9TgW07xAAJ","ScheduleEquipItem",void 0);var I=a.ccclass,S=a.property;e("ScheduleEquipItem",(g=I("ScheduleEquipItem"),m=S(c),g((C=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"eqRoot",C,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.setData=function(e){var t=this;this.node.getChildByName("Name").getComponent(u).string=e.Name;for(var n=function(){var n=t.eqRoot.children[i];n.off(p.EventType.CLICK);var o=n.getChildByName("Sprite").getComponent(s),r=o.getComponent(h),a=n.getComponentInChildren(u),c=e.itemPackage[i];c?(o.node.active=!0,a.string=c.Name,f(c.Icon).then((function(e){o.spriteFrame=e;var t=80*e.height/e.width;r.setContentSize(new d(80,t))})),n.on(p.EventType.CLICK,(function(){c.OnDetail()}))):(o.node.active=!1,a.string="")},i=0;i<e.itemPackage.length;i++)n()},r.onDestroy=function(){},t}(l)).prototype,"eqRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScheduleInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,l,u,c,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.RichText,u=t.Node,c=t.instantiate,f=t.Component}],execute:function(){var s,p,b,m,h,g,y,d,T,I,v,z,R,w,C;o._RF.push({},"7a128mskS5IxbxCqQ2/rLXu","ScheduleInfoItem",void 0);var S=a.ccclass,N=a.property;t("ScheduleInfoItem",(s=S("ScheduleInfoItem"),p=N(l),b=N(l),m=N(l),h=N(l),g=N(u),y=N(u),s((I=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"roleName",I,r(e)),n(e,"t1",v,r(e)),n(e,"t2",z,r(e)),n(e,"t3",R,r(e)),n(e,"buffRoot",w,r(e)),n(e,"tmp",C,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.setData=function(t){this.roleName.string=t.Name,this.t1.string=t.ToHealth()+"\n"+t.ToMana()+"\n"+t.ToEnergy()+"\n"+t.ToHunger(),this.t2.string=t.ToAttack()+"\n"+t.ToArmor()+"\n"+t.ToCritical()+"\n"+t.ToCriticalDamage(),this.t3.string=t.ToHitRate()+"\n"+t.ToMiss()+"\n"+t.ToSpeed()+"\n"+t.ToProductivity(),this.buffInfo(t)},o.buffInfo=function(t){this.buffRoot.removeAllChildren();for(var e=0;e<t.buffList.length;e++){var i=t.buffList[e],n=c(this.tmp);n.setParent(this.buffRoot),n.active=!0,n.getComponentInChildren(l).string=""+i.Name}},e}(f)).prototype,"roleName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(T.prototype,"t1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(T.prototype,"t2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(T.prototype,"t3",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(T.prototype,"buffRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(T.prototype,"tmp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=T))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScheduleUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts","./ScheduleAttrItem.ts","./ScheduleEquipItem.ts","./ScheduleInfoItem.ts"],(function(e){var t,i,n,s,o,r,l,a,h,u,c,p,f,m,d,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,a=e.Button,h=e.Label,u=e.Toggle,c=e.instantiate,p=e.RichText,f=e.Component},function(e){m=e.VillageScene},function(e){d=e.ScheduleAttrItem},function(e){g=e.ScheduleEquipItem},function(e){v=e.ScheduleInfoItem}],execute:function(){var y,R,C,I,T,b,q,A,S,E,N,w,z,G,L,k,B;o._RF.push({},"7bd62fqeoZBAI1YKlK1GmfY","ScheduleUi",void 0);var D=r.ccclass,P=r.property;e("ScheduleUi",(y=D("ScheduleUi"),R=P(l),C=P(l),I=P(l),T=P(l),b=P(l),q=P(l),A=P(l),y((N=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"contentRoot",N,s(t)),n(t,"nameRoot",w,s(t)),n(t,"viewTemplateRoot",z,s(t)),n(t,"equipTemplate",G,s(t)),n(t,"infoTemplate",L,s(t)),n(t,"attrTemplate",k,s(t)),n(t,"restItemTemplate",B,s(t)),t.headName=["属性","装备","作息"],t.pptName=["烹饪","伐木","搬运","医疗","采集","手工","科研","艺术","清洁","战斗"],t.attrs=null,t.infos=null,t.equips=null,t.restItems=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;this.viewTemplateRoot.active=!1;var t=this.node.getChildByName("HeadGroup");t.getChildByName("Close").on(a.EventType.CLICK,(function(){e.node.destroy()}));for(var i=this.nameRoot.getComponentsInChildren(h),n=0;n<i.length;n++)i[n].string=this.pptName[n];if(t){for(var s=0;s<this.headName.length;s++)t.children[s].getComponentInChildren(h).string=this.headName[s];t.children[0].on(u.EventType.TOGGLE,this.onInfosRefresh,this),t.children[1].on(u.EventType.TOGGLE,this.onEquipsRefresh,this),t.children[2].on(u.EventType.TOGGLE,this.onRestRefresh,this)}},o.onEnable=function(){var e=this.node.getChildByName("HeadGroup").children[0].getComponent(u);e&&(e.isChecked=!0,this.onInfosRefresh(e))},o.onAttrsRefresh=function(e){if(this.hideAll(),this.nameRoot.active=e.isChecked,e.isChecked){var t=m.instance.actors.filter((function(e){return 1==e.Camp})),i=t.length;if(this.attrs||(this.attrs=Array(i)),this.attrs.length<i)for(var n=this.attrs.length;n<i;n++)this.attrs.push(null);for(var s=0;s<i;s++){this.attrs[s]||(this.attrs[s]=c(this.attrTemplate));var o=this.attrs[s];if(o)o.setParent(this.contentRoot),o.getComponent(d).setData(t[s]),o.active=!0}}},o.onEquipsRefresh=function(e){if(this.hideAll(),e.isChecked){var t=m.instance.actors.filter((function(e){return 1==e.Camp&&0==e.RoleType})),i=t.length;if(this.equips||(this.equips=Array(i)),this.equips.length<i)for(var n=this.equips.length;n<i;n++)this.equips.push(null);for(var s=0;s<i;s++){this.equips[s]||(this.equips[s]=c(this.equipTemplate),this.equips[s].setParent(this.contentRoot));var o=this.equips[s];if(o)o.getComponent(g).setData(t[s]),o.active=!0}}},o.onInfosRefresh=function(e){if(this.hideAll(),e.isChecked){var t=m.instance.actors.filter((function(e){return 1==e.Camp&&0==e.RoleType})),i=t.length;if(this.infos||(this.infos=Array(i)),this.infos.length<i)for(var n=this.infos.length;n<i;n++)this.infos.push(null);for(var s=0;s<i;s++){if(!this.infos[s]){var o=c(this.infoTemplate);this.infos[s]=o,this.contentRoot.addChild(o)}this.infos[s].getComponent(v).setData(t[s]),this.infos[s].active=!0}}},o.hideAll=function(){for(var e=this.contentRoot.children.length,t=0;t<e;t++)this.contentRoot.children[t].active=!1},o.onDisable=function(){this.hideAll()},o.onRestRefresh=function(e){if(this.hideAll(),e.isChecked){var t=m.instance.actors.filter((function(e){return 1==e.Camp&&0==e.RoleType})),i=t.length;if(this.restItems||(this.restItems=Array(i)),this.restItems.length<i)for(var n=this.restItems.length;n<i;n++)this.restItems.push(null);for(var s=0;s<i;s++)if(this.restItems[s])this.restItems[s].active=!0;else{var o=c(this.restItemTemplate);this.restItems[s].getChildByName("Name").getComponent(p).string=t[s].Name,this.restItems[s]=o,this.contentRoot.addChild(o)}}},t}(f)).prototype,"contentRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(E.prototype,"nameRoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(E.prototype,"viewTemplateRoot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(E.prototype,"equipTemplate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(E.prototype,"infoTemplate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(E.prototype,"attrTemplate",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(E.prototype,"restItemTemplate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=E))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./UIManager.ts","./ConfirmTip.ts","./TipConfig.ts"],(function(n){var t,e,o,i,r,c,s,u,f;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){o=n.cclegacy},function(n){i=n.ItemRegister},function(n){r=n.SceneItem},function(n){c=n.UIManager},function(n){s=n.ConfirmTip},function(n){u=n.TipConfigGet,f=n.TipConfigField}],execute:function(){var l;o._RF.push({},"5f879UjXu1HnrWeEoUxXqxg","ScrollItem",void 0);n("ScrollItem",i("ScrollItem")(l=function(n){function o(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).speaker="",t}return t(o,n),o.prototype.OnOpen=function(){var n=this,t=c.instance.ShowCommonTip("ConfirmTip");t.getComponent(s).Show(u(this.ConfigID,f.Name),u(this.ID,f.Content),"确定","丢弃",null,(function(){n.scene.RemoveItem(n.sid),t.active=!1}))},e(o,[{key:"ToDescription",get:function(){return n.prototype.ToDescription}}]),o}(r))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/SelectEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(e){var t,n,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.TreeNodeRegister},function(e){r=e.Action},function(e){i=e.ResultType}],execute:function(){var s;n._RF.push({},"9a48e1jqH9IL7C1UQpPvdK1","SelectEnemy",void 0);e("SelectEnemy",o("SelectEnemy")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.scene.actors.filter((function(e){return 2==e.Camp}));return t.length>0?(this.owner.TargetEnemy=t[0],this.owner.forward=t[0].position.clone().subtract(this.owner.position).normalize(),i.ok):i.fail},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Selector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./ParentNode.ts","./TreeNodeRegister.ts"],(function(t){var e,n,i,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.ResultType},function(t){r=t.ParentNode},function(t){o=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"ba96fh2iv5Ptpkp+5g24eUL","Selector",void 0);t("Selector",o("Selector")(s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){if(this._idx>=this._children.length)return i.ok;for(var e=this._runningIdx;e<this._children.length;e++){var n=this.GetChildByIdx(e);if(n){e>this._idx&&(this._idx=e,n.onStart());var r=n.onUpdate(t);if(r!=n.nodeState&&(this.mgr.SendMessage(n._sid,r),n.nodeState=r),r==i.ok)return n.onEnd(),i.ok;if(r==i.running)return this._runningIdx=e,i.running;this._runningIdx++,n.onEnd()}}return i.fail},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/SelfCaster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectCaster.ts"],(function(e){var t,r,n,o;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){o=e.EffectCaster}],execute:function(){n._RF.push({},"1e2040KCvZFlqI61dVmHsmo","SelfCaster",void 0);e("SelfCaster",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.OnAction=function(e){for(var t,n=r(this.EffectItem);!(t=n()).done;){t.value.apply(e)}},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/SellPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleResManager.ts","./ItemConfig.ts","./MarketManager.ts","./ConvertConfig.ts"],(function(t){var e,n,i,o,r,a,s,l,h,c,g,f,p,C,u,d,v,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Button,h=t.instantiate,c=t.Component,g=t.Label,f=t.Sprite,p=t.RichText},function(t){C=t.LoadSprite},function(t){u=t.ItemConfigGet,d=t.ItemConfigField},function(t){v=t.MarketManager},function(t){y=t.ConvertConfigGet,m=t.ConvertConfigField}],execute:function(){var I,L,S,B,b,P;r._RF.push({},"b5e9dc85VVIXqZiMu5WYjiG","SellPanel",void 0);var T=a.ccclass,R=a.property;t("SellPanel",(I=T("SellPanel"),L=R(s),I(((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"slotRoot",b,o(e)),e.items=[],e.targets=[],e.labels=[],e}n(e,t),e.SetList=function(t){e.ItemList=t};var r=e.prototype;return r.onLoad=function(){var t=this;this.node.getChildByName("Close").on(l.EventType.CLICK,(function(){t.node.destroy()}))},r.onDisable=function(){this.items=[],this.labels=[]},r.onEnable=function(){var t=this;this.items=y(e.ItemList,m.Item),this.targets=y(e.ItemList,m.Target);for(var n=this.items.length,i=this.items.length==this.targets.length,o=this.slotRoot.children.length;o<n;o++){h(this.slotRoot.children[0]).setParent(this.slotRoot)}for(var r=this.slotRoot.children.length-1;r>=n;r--)this.slotRoot.children[r].destroy();for(var a=function(){var e=t.slotRoot.children[s];e.active=!0;var n=t.items[s];e.getChildByName("Target").active=i;var o=e.getChildByPath("Sprite/Label").getComponent(g);o&&t.labels.push(o);var r=e.getChildByPath("Icon/Sprite").getComponent(f),a=u(n,d.Icon);if(e.getChildByPath("Icon/Label").getComponent(p).string=u(n,d.Name),C(a).then((function(t){r.spriteFrame=t})),i){var h=t.targets[s],c=e.getChildByPath("Target/Sprite").getComponent(f),y=u(h,d.Icon);e.getChildByPath("Target/Label").getComponent(p).string=u(h,d.Name),C(y).then((function(t){c.spriteFrame=t}))}var m=e.getChildByPath("Sprite/BtnDisable");m.off(l.EventType.CLICK),m.on(l.EventType.CLICK,(function(){v.Set(n,0)}));var I=e.getChildByPath("Sprite/BtnMinus");I.off(l.EventType.CLICK),I.on(l.EventType.CLICK,(function(){v.Get(n)<0?v.Set(n,99):v.Modify(n,-1)}));var L=e.getChildByPath("Sprite/BtnAdd");L.off(l.EventType.CLICK),L.on(l.EventType.CLICK,(function(){v.Get(n)>=0&&v.Modify(n,1)}));var S=e.getChildByPath("Sprite/BtnMax");S.off(l.EventType.CLICK),S.on(l.EventType.CLICK,(function(){v.Set(n,-1)}))},s=0;s<n;s++)a()},r.update=function(t){var e=this.items.length;if(e==this.slotRoot.children.length)for(var n=0;n<e;n++){var i=this.items[n],o=v.Get(i);this.labels[n].string=o<0?"无限":o.toString()}},e}(c)).ItemList=10001,b=e((B=P).prototype,"slotRoot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SellTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemSchema.ts","./SellPanel.ts","./UIManager.ts","./ItemFunc.ts"],(function(e){var n,t,l,i,c,o,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){l=e.SceneItem},function(e){i=e.ItemRegister},function(e){c=e.SellPanel},function(e){o=e.UIManager},function(e){a=e.ItemFunc}],execute:function(){var s;t._RF.push({},"5218aioWuZNpaEQz2yYTbHu","SellTable",void 0);e("SellTable",i("SellTable")(s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.OnContextShow=function(){e.prototype.OnContextShow.call(this,!1),c.SetList(this.SubType),a.instance.Append("打开",(function(){o.instance.ShowPanel("prefabs/SellPanel",null),a.instance.node.active=!1})),a.instance.End(this)},t}(l))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Sequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./ParentNode.ts","./TreeNodeRegister.ts"],(function(e){var n,t,i,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){i=e.ResultType},function(e){r=e.ParentNode},function(e){s=e.TreeNodeRegister}],execute:function(){var u;t._RF.push({},"93f31HVMWZFrpX0F7+hBt2O","Sequence",void 0);e("Sequence",s("Sequence")(u=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.onUpdate=function(e){if(this._idx>=this._children.length)return i.fail;for(var n=this._runningIdx;n<this._children.length;n++){var t=this.GetChildByIdx(n);if(t){n>this._idx&&(this._idx=n,t.onStart());var r=t.onUpdate(e);if(r!=t.nodeState&&(this.mgr.SendMessage(t._sid,r),t.nodeState=r),r==i.fail)return t.onEnd(),i.fail;if(r==i.running)return this._runningIdx=n,i.running;t.onEnd()}}return this._runningIdx=this._children.length,i.ok},t}(r))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/SequenceBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts","./BattleActionManager.ts"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.Behavior},function(t){o=t.BattleActionManager}],execute:function(){n._RF.push({},"d17f0vaFENEcolKEeU3DwSg","SequenceBehavior",void 0);t("SequenceBehavior",function(t){function n(){var i;return(i=t.call(this)||this).cur=-1,i.time=void 0,i.action=[],i._actions=void 0,i._behaviorType="SequenceBehavior",i}i(n,t);var e=n.prototype;return e.onLoad=function(){if(!this._actions){this._actions=new Array(this.action.length);for(var t=0;t<this.action.length;t++)this._actions[t]=o(this.action[t])}},e.onRefresh=function(i){t.prototype.onRefresh.call(this,i),this.cur=-1},e.onStart=function(t){this.cur=-1},e.onUpdate=function(t,i){if(this._actions.length!=this.time.length)throw"Config Error : time.length!=action.length";for(var n=0;n<this.time.length;n++)this.timePassed>=this.time[n]&&this.cur<n&&(this._actions[n].OnAction(t),this.cur=n);return!0},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/SetIntention.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./PropertyType.ts","./TreeNodeRegister.ts"],(function(n){var t,e,o,i,r,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},function(n){o=n.Action},function(n){i=n.ResultType},function(n){r=n.MemoryDefine},function(n){s=n.IntentionType},function(n){c=n.TreeNodeRegister}],execute:function(){var u;e._RF.push({},"ade3dKAZVxDWpmdXZqXU2Zi","SetIntention",void 0);n("SetIntention",c("SetIntention")(u=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this).Intention=s.none,t}return t(e,n),e.prototype.onUpdate=function(n){return this.mgr.owner.Memory.set(r.intention,this.Intention),i.ok},e}(o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SettingUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameWorld.ts","./WorldStateEnum.ts","./SaveManager.ts"],(function(t){var e,n,i,o,r,a,c,l,u,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Button,l=t.Component},function(t){u=t.GameWorld},function(t){s=t.WorldStateEnum},function(t){p=t.ClearGameSave}],execute:function(){var f,d,v,y,h,C,b,g,L;r._RF.push({},"8a34eowILVLGZ9T/Ypp7cuF","SettingUi",void 0);var m=a.ccclass,B=a.property;t("SettingUi",(f=m("SettingUi"),d=B(c),v=B(c),y=B(c),f((b=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btn",b,o(e)),i(e,"closeBtn",g,o(e)),i(e,"clearBtn",L,o(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;this.closeBtn.node.off(c.EventType.CLICK),this.closeBtn.node.on(c.EventType.CLICK,(function(){t.node.active=!1}))},r.start=function(){var t=this;this.btn.node.off(c.EventType.CLICK),this.btn.node.on(c.EventType.CLICK,(function(){t.node.active=!1,u.instance.ChangeState(s.Login)})),this.clearBtn.node.off(c.EventType.CLICK),this.clearBtn.node.on(c.EventType.CLICK,(function(){t.node.active=!1,p()}))},r.update=function(t){},e}(l)).prototype,"btn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(C.prototype,"closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(C.prototype,"clearBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=C))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SFxAction.ts",["cc","./ViewManager.ts"],(function(t){var i,n;return{setters:[function(t){i=t.cclegacy},function(t){n=t.ViewManager}],execute:function(){i._RF.push({},"2f895YDJH1MZYxDYdk9H1yv","SFxAction",void 0);t("SFxAction",function(){function t(){this.clip="",this.volume=1}return t.prototype.OnAction=function(t){n.instance.GetActorView(t.Sid).playAudio(this.clip,this.volume)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/SFxActionConfig.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){n({SFxActionConfigGet:function(n,o){var a=i.get(n);return null==a?void 0:a[o]},SFxActionConfigSetup:function(n,o){var c=i.get(n);if(!c)throw new Error("id:"+n+" is null");o.ID=n;for(var t=0;t<a.length;t++){var e=a[t];o[e]=Array.isArray(c[t])?[].concat(c[t]):c[t]}"function"==typeof o.onLoad&&o.onLoad()}}),o._RF.push({},"5819aAldNBEzoMVHi++B0IB","SFxActionConfig",void 0);var i=n("SFxActionConfigData",new Map([[7001,["圆形触发器","","audios/cannon_1",.1]],[7002,["圆形触发器","","audios/cannon_1",.3]],[7003,["圆形触发器","","audios/cannon_1",.3]],[7004,["圆形触发器","","audios/cannon_1",.3]],[7005,["圆形触发器","","audios/cannon_1",.3]],[7006,["圆形触发器"," ","audios/cannon_1",.3]],[7007,["圆形触发器","","audios/cannon_1",.3]],[7008,["圆形触发器","","audios/cannon_1",.3]]])),a=n("SFxActionConfigHeaders",["Name","Description","clip","volume"]);n("SFxActionConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.clip=2]="clip",n[n.volume=3]="volume",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/SfxClip.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"f5727PsbEJMDoy0r9ESfUUY","SfxClip",void 0);n("SfxClip",function(){function n(){this.audio=void 0}var t=n.prototype;return t.onLoad=function(){},t.OnAction=function(n){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShowChatMsg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ChatManager.ts","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,r,o,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.ChatManager},function(t){o=t.Action},function(t){a=t.ResultType},function(t){i=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"4d32bxel1JIP5kvXqeWcuqt","ShowChatMsg",void 0);t("ShowChatMsg",i("ShowChatMsg")(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).data="",e}return e(n,t),n.prototype.onUpdate=function(t){var e=this,n=this.data.replace(/\$\{([^}]+)}/g,(function(t,n){if("owner"==n)return e.owner.Name;if(e.owner.Memory.has(n)){var r=e.owner.Memory.get(n);return r?r.toString():""}return n}));return r.instance.Push(n),a.ok},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ShowMessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vector2Utils.ts"],(function(t){var e,i,o,n,s,r,a,h,l,c,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,h=t.Vec3,l=t.RichText,c=t.instantiate,p=t.Component},function(t){m=t.Vector3Lerp}],execute:function(){var u,f,g,v,d,b;s._RF.push({},"d455cFg29NHKYeif0/dWa59","ShowMessageManager",void 0);var w=r.ccclass,y=r.property;t("ShowMessageManager",(u=w("ShowMessageManager"),f=y({type:a}),u(((b=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"temp",d,n(e)),e.time=[],e.item=[],e.lb=[],e.objPool=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){e.instance=this},s.Update=function(t){for(var e=this.time.length-1;e>=0;e--)if(this.time[e]-=t,this.time[e]<=0){var i=this.time.length-1;this.time[e]=this.time[i],this.time.pop(),this.lb[e]=this.lb[i],this.lb.pop(),this.item[e].active=!1,this.objPool.push(this.item[e]),this.item[e]=this.item[i],this.item.pop()}else this.item[e].translate(new h(0,15*t,0)),this.Present(e,this.time[e],3-this.time[e])},s.Show=function(t,e,i,o,n,s,r){void 0===i&&(i=2),void 0===o&&(o=null),void 0===n&&(n=255),void 0===s&&(s=255),void 0===r&&(r=255),this.time.push(i);var a=this.spawn();a.name="msg "+this.item.length;var c=a.getComponent(l);if(c){c.string=t,this.item.push(a);var p=c.fontColor.clone();p.a=255,p.r=n,p.g=s,p.b=r,c.fontColor=p,this.lb.push(c),o?(a.setParent(o),a.position=new h(0,0,0)):(a.setParent(this.node),a.position=e.clone())}},s.spawn=function(){var t;return this.objPool.length>0?(t=this.objPool.pop()).active=!0:t=c(this.temp),t},s.Present=function(t,e,i){if(i>0&&i<.5&&(this.item[t].scale=m(new h,new h(1,1,0),i/.5)),e<.5){var o=this.lb[t].fontColor.clone();o.a=255*e/.5,this.lb[t].fontColor=o}},e}(p)).instance=void 0,d=e((v=b).prototype,"temp",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShowMsgAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WaitAction.ts","./RootManager.ts","./TreeNodeRegister.ts"],(function(t){var n,e,o,i,s,r,a,c,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t.resources,i=t.Prefab,s=t.instantiate,r=t.Label},function(t){a=t.WaitAction},function(t){c=t.RootManager},function(t){l=t.TreeNodeRegister}],execute:function(){var u;e._RF.push({},"0249989Fx1CYKQskffhpinM","ShowMsgAction",void 0);t("ShowMsgAction",l("ShowMsgAction")(u=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).content="",n.label=null,n}n(e,t);var a=e.prototype;return a.onStart=function(){var t=this,n=this.mgr.owner;if(this.label)return this.label.string=this.content,void this.label.node.setPosition(n.position);o.load("prefabs/Label",i,(function(e,o){if(e)throw e;var i=s(o);i.setParent(c.instance.SceneLayer),i.setPosition(n.position),t.label=i.getComponent(r),t.label&&(t.label.string=t.content)}))},a.onEnd=function(){this.label&&(this.label.string="")},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleCaster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectCaster.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.EffectCaster}],execute:function(){n._RF.push({},"e555fX6YJVDUImxI8ZPE+xV","SimpleCaster",void 0);t("SimpleCaster",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.OnAction=function(t){throw new Error("Method not implemented.")},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleCasterConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({SimpleCasterConfigGet:function(e,t){var r=n.get(e);return null==r?void 0:r[t]},SimpleCasterConfigSetup:function(e,t){var i=n.get(e);if(!i)throw new Error("id:"+e+" is null");t.ID=e;for(var a=0;a<r.length;a++){var o=r[a];t[o]=Array.isArray(i[a])?[].concat(i[a]):i[a]}"function"==typeof t.onLoad&&t.onLoad()}}),t._RF.push({},"33950TwW2VFf7/qhv5mIkCk","SimpleCasterConfig",void 0);var n=e("SimpleCasterConfigData",new Map([[8001,["",[]]],[8002,["",[]]],[8003,["",[]]],[8004,["",[]]],[8005,["",[]]],[8006,["",[]]],[8007,["",[]]],[8008,["",[]]],[8009,["",[]]],[8010,["",[]]],[8011,["",[]]]])),r=e("SimpleCasterConfigHeaders",["Name","effects"]);e("SimpleCasterConfigField",function(e){return e[e.Name=0]="Name",e[e.effects=1]="effects",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SleepAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultType.ts","./Progress.ts","./TreeNodeRegister.ts"],(function(t){var e,n,i,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.ResultType},function(t){r=t.Progress},function(t){s=t.TreeNodeRegister}],execute:function(){var o;n._RF.push({},"1a8d5ljZN1Avq8g4w14qNa9","SleepAction",void 0);t("SleepAction",s("SleepAction")(o=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){return this._t+=t,this.bar.progress=Math.min(this._t/this.Duration,1),this._t>=this.Duration?(this._t=0,this.mgr.owner.scene.hour<6?i.running:i.ok):i.running},n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/SlimeDropAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./PositionUtils.ts","./RandomUtils.ts"],(function(t){var n,e,o,i,r,s,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.TreeNodeRegister},function(t){i=t.Action},function(t){r=t.ResultType},function(t){s=t.CentralizePos},function(t){c=t.RandomInt}],execute:function(){var u;e._RF.push({},"d6804RwtzxAwY8TJq2Bf6X0","SlimeDropAction",void 0);t("SlimeDropAction",o("SlimeDropAction")(u=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.onUpdate=function(t){var n=s(this.owner.position),e=this.owner.scene;if(!e.GetItem(n.x,n.y)){var o=c(1306,1310);e.SpawnItem(n.x,n.y,o)}return r.ok},e}(i))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SlimeFlee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./MemoryDefine.ts"],(function(e){var t,n,i,o,r,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Vec3},function(e){o=e.TreeNodeRegister},function(e){r=e.Action},function(e){s=e.ResultType},function(e){u=e.MemoryDefine}],execute:function(){var c;n._RF.push({},"2d661wuwEhPE7i5qvIRH3/F","SlimeFlee",void 0);e("SlimeFlee",o("SlimeFlee")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.mgr.owner,n=t.position,o=(t.scene,new i(n.x,1100));return t.Memory.set(u.targetPos,o),s.ok},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SlimeMoveBehavior.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Behavior.ts","./Vector2Utils.ts"],(function(e){var o,t,n,i,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e.Vec3},function(e){i=e.Behavior},function(e){r=e.Vector3Add}],execute:function(){t._RF.push({},"92d421TrD1JRb20xK2qfBZ1","SlimeMoveBehavior",void 0);e("SlimeMoveBehavior",function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.onUpdate=function(e,o){return e.position.y>-1100?e.position=r(e.position,new n(0,50*-o,0)):(e.enabled=!1,e.scene.ChangeHomeHp(-10)),!0},t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/SlimeTargetPos.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./RandomUtils.ts"],(function(e){var t,n,o,i,r,s,u,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){i=e.TreeNodeRegister},function(e){r=e.Action},function(e){s=e.ResultType},function(e){u=e.MemoryDefine},function(e){c=e.RandomInt}],execute:function(){var l;n._RF.push({},"fece0OJ5ZVCD6euLqilAXUF","SlimeTargetPos",void 0);e("SlimeTargetPos",i("SlimeTargetPos")(l=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){for(var t=this.mgr.owner,n=t.position,i=t.scene,r=Math.floor((n.x+500)/100),l=[],f=0;f<20;f++){i.items[f][r]||l.push(f)}if(0===l.length)return s.fail;var a=c(0,l.length-1);return t.Memory.set(u.targetPos,new o(100*r-450,100*l[a]-950)),s.ok},n}(r))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/SoldQuest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Quest.ts","./MemoryDefine.ts","./PlayerDataManager.ts","./ItemConfig.ts"],(function(t){var e,i,n,o,r,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.Quest},function(t){o=t.MemoryDefine},function(t){r=t.PlayerDataManager},function(t){s=t.ItemConfigGet,u=t.ItemConfigField}],execute:function(){i._RF.push({},"eb29fiT12JEC706kgtQ+BS7","SoldQuest",void 0);t("SoldQuest",function(t){function i(e){var i;return(i=t.call(this,e)||this).itemSid=0,i.cfgID=0,i.item=void 0,i.type="SoldQuest",i}e(i,t);var n=i.prototype;return n.Commit=function(t){var e=this.InternalCommit(10);if(e){t.Memory.set(o.order,null),console.error("remove item",this.itemSid);var i=s(this.cfgID,u.Price),n=this.item.Count;t.scene.RemoveItem(this.itemSid),r.ModifyGold(i*n)}return e},n.init=function(t){this.itemSid=t.sid,this.cfgID=t.ConfigID,this.item=t},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteVfx.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,a,p,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,p=t.SpriteFrame,s=t.CCFloat,l=t.CCBoolean,u=t.Sprite,c=t.Component}],execute:function(){var f,h,y,m,b,d,g,x,v;o._RF.push({},"74f7bGm97JGapKyMgMiEZWN","SpriteVfx",void 0);var S=a.ccclass,C=a.property;t("SpriteVfx",(f=S("SpriteVfx"),h=C({type:[p]}),y=C({min:.01,type:s}),m=C({type:l}),f((g=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"frames",g,n(e)),e.autoPlay=!0,r(e,"frequency",x,n(e)),r(e,"loop",v,n(e)),e.t=0,e.idx=0,e.sprite=void 0,e}i(e,t);var o=e.prototype;return o.onEnable=function(){this.sprite=this.node.getComponent(u),this.autoPlay},o.update=function(t){this.t+=t,this.t>this.frequency&&(this.t=0,this.idx=(this.idx+1)%this.frames.length,this.sprite.spriteFrame=this.frames[this.idx])},e}(c)).prototype,"frames",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(d.prototype,"frequency",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),v=e(d.prototype,"loop",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=d))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteVfxDiffuse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RandomUtils.ts"],(function(t){var e,i,n,r,o,s,a,l,u,p,h,c,f,d,m,y,w,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.SpriteFrame,l=t.CCFloat,u=t.CCBoolean,p=t.CCInteger,h=t.Vec2,c=t.Sprite,f=t.instantiate,d=t.Vec3,m=t.Color,y=t.tween,w=t.Component},function(t){b=t.RandomInt}],execute:function(){var g,v,C,S,x,D,z,V,P,F,I,M,R;o._RF.push({},"23685SpVIlGma4KtuCdG5hS","SpriteVfxDiffuse",void 0);var _=s.ccclass,B=s.property;t("SpriteVfxDiffuse",(g=_("SpriteVfxDiffuse"),v=B({type:[a]}),C=B({min:.01,type:l}),S=B({type:u}),x=B({type:p,min:1,max:50}),D=B({type:h}),g((P=e((V=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"frames",P,r(e)),e.autoPlay=!0,n(e,"duration",F,r(e)),n(e,"loop",I,r(e)),n(e,"count",M,r(e)),n(e,"speed",R,r(e)),e.t=0,e.idx=0,e.sprite=void 0,e.tweens=[],e}i(e,t);var o=e.prototype;return o.onEnable=function(){if(0==this.node.children.length)throw"请添加子节点";if(this.sprite=this.node.getComponent(c),this.autoPlay){if(this.node.children.length<this.count)for(var t=1;t<this.count;t++){f(this.node.children[0]).setParent(this.node)}if(0==this.tweens.length)for(var e=0;e<this.count;e++){var i=this.speed.x,n=Math.random()*Math.PI*2,r=Math.cos(n),o=Math.sin(n),s=(this.node.position,new d(r*i*this.duration,o*i*this.duration)),a=this.node.children[e].getComponent(c),l=b(0,this.frames.length);a.spriteFrame=this.frames[l],a.color=new m(255,255,255,255);var u=y(a.node).to(1,{position:s}).start();this.tweens.push(u);var p=y(a).delay(.5).to(.5,{color:new m(1,1,1,0)}).start();this.tweens.push(p)}else for(var h=0;h<this.tweens.length;h++)this.tweens[h].start()}},o.onDisable=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].stop()},e}(w)).prototype,"frames",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(V.prototype,"duration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=e(V.prototype,"loop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=e(V.prototype,"count",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=e(V.prototype,"speed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=V))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/StorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemConfig.ts"],(function(t){var e,n,r,i,a,o,s,c,h,g,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.instantiate,a=t.RichText,o=t.Sprite,s=t.resources,c=t.SpriteFrame,h=t.Component},function(t){g=t.ItemConfigGet,l=t.ItemConfigField}],execute:function(){var u,d;n._RF.push({},"77718LKC01FtoYxhzFpPJTh","StorageManager",void 0);var p=r.ccclass;r.property,t("StorageManager",p("StorageManager")(((d=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).data=new Map,e.lb=new Map,e.icon=new Map,e}e(n,t);var r=n.prototype;return r.start=function(){n.instance=this;for(var t=this.node.children[0],e=0;e<4;e++){i(t).setParent(this.node)}for(var r=0;r<this.node.children.length;r++){var s=this.node.children[r].getComponentInChildren(a),c=this.node.children[r].getComponentInChildren(o);this.lb.set(r+100,s),s.string="",this.icon.set(r+100,c),this.SetIcon(r+100,c)}},r.SetIcon=function(t,e){var n=g(t,l.Icon);s.load(n,c,(function(t,n){if(t)throw t;e.spriteFrame=n}))},r.TrySet=function(t,e){if(this.data.has(t)){var n=this.data.get(t)+e;return(e>=0||n>=0)&&(this.data.set(t,n),this.lb.get(100).string="x"+n,!0)}return this.data.set(t,e),this.lb.get(100).string="x"+e,!0},r.Get=function(t){return this.data.has(t)?this.data.get(t):0},n}(h)).instance=void 0,u=d))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/StunEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(t){var e,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.Effect}],execute:function(){n._RF.push({},"aeea4Qwl6NLj5gAveg5GSOL","StunEffect",void 0);t("StunEffect",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var u=n.prototype;return u.Release=function(){},u.ToString=function(t){return"stun"},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/StunEffectConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({StunEffectConfigGet:function(t,e){var f=n.get(t);return null==f?void 0:f[e]},StunEffectConfigSetup:function(t,e){var i=n.get(t);if(!i)throw new Error("id:"+t+" is null");e.ID=t;for(var r=0;r<f.length;r++){var c=f[r];e[c]=Array.isArray(i[r])?[].concat(i[r]):i[r]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"8bfb5teuI1HM4Dgk2uggg5N","StunEffectConfig",void 0);var n=t("StunEffectConfigData",new Map([[4001,["圆形触发器","",.5,[500]]],[4002,["圆形触发器","",.5,[50]]],[4003,["圆形触发器","",.5,[50]]],[4004,["圆形触发器","",.5,[50]]],[4005,["圆形触发器","",.5,[50]]],[4006,["圆形触发器","",.5,[50]]],[4007,["圆形触发器","",.5,[50]]],[4008,["圆形触发器","",.5,[50]]]])),f=t("StunEffectConfigHeaders",["Name","Description","radius","effects"]);t("StunEffectConfigField",function(t){return t[t.Name=0]="Name",t[t.Description=1]="Description",t[t.radius=2]="radius",t[t.effects=3]="effects",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/SubmitOrderMat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,r,n,o,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.Action},function(e){o=e.ResultType},function(e){i=e.MemoryDefine},function(e){u=e.TreeNodeRegister}],execute:function(){var s;r._RF.push({},"03878YSVYVFuZeoMrnutAnl","SubmitOrderMat",void 0);e("SubmitOrderMat",u("SubmitOrderMat")(s=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.onUpdate=function(e){var t=this.mgr.owner,r=t.Memory.get(i.order),n=t.Memory.get(i.targetPos);if(!r)return o.fail;var u=r.SubmitMat(t.Memory.get(i.targetIndex),1);return t.scene.RemoveItemByPos(n.x,n.y),u?o.ok:o.fail},r}(n))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/SubmitTableMat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(t){var e,n,i,r,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Action},function(t){r=t.ResultType},function(t){o=t.MemoryDefine},function(t){u=t.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"b462fcrW7tO0qBai3EnRvGj","SubmitTableMat",void 0);t("SubmitTableMat",u("SubmitTableMat")(s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.position,n=this.owner.scene.GetItem(e.x,e.y);if(!n)return r.fail;var i=this.owner.Memory.get(o.targetTable);return i&&i.currentMat==n.ConfigID?r.ok:r.fail},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/SummaryPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts","./PlayerDataManager.ts","./ActorManager.ts","./SaveManager.ts"],(function(e){var t,n,a,r,o,i,l,s,c,u,p,y,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Node,s=e.Label,c=e.Component},function(e){u=e.VillageScene},function(e){p=e.PlayerDataManager},function(e){y=e.ActorManager},function(e){d=e.SaveCurrentEquips,f=e.SaveCurrentActors}],execute:function(){var g,h,v,S,m;o._RF.push({},"d42446CGpVC8IRadYy/HYGx","SummaryPanel",void 0);var C=i.ccclass,P=i.property;e("SummaryPanel",(g=C("SummaryPanel"),h=P(l),g((m=t((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"slotRoot",m,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;this.node.getChildByName("CloseBtn").on("click",(function(){e.node.destroy()}))},o.onEnable=function(){u.instance.isPaused=!0;for(var e=0,t=0;t<5;t++){var n=this.slotRoot.children[t].getChildByPath("Sprite/Label").getComponent(s),a=p.GetDayCounter(t);n.string=""+a,e+=a}this.slotRoot.children[5].getChildByPath("Sprite/Label").getComponent(s).string=""+e,u.instance.Save();var r=y.instance.Save(),o=r[0],i=r[1];p.OnSave(),d(i),f(o)},o.onDisable=function(){u.instance.isPaused=!1,p.ClearDayCounter()},o.start=function(){},o.update=function(e){},t}(c)).prototype,"slotRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/SummonEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Effect.ts"],(function(t){var n,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.Effect}],execute:function(){e._RF.push({},"5adc9Y/BlxJDLKFZK1jwocd","SummonEffect",void 0);t("SummonEffect",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.Release=function(){},o.ToString=function(t){return"summon"},e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/SummonEffectConfig.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){n({SummonEffectConfigGet:function(n,e){var f=t.get(n);return null==f?void 0:f[e]},SummonEffectConfigSetup:function(n,e){var o=t.get(n);if(!o)throw new Error("id:"+n+" is null");e.ID=n;for(var i=0;i<f.length;i++){var r=f[i];e[r]=Array.isArray(o[i])?[].concat(o[i]):o[i]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"9c183H5swFNO5zPVDXEIhd9","SummonEffectConfig",void 0);var t=n("SummonEffectConfigData",new Map([[1001,["圆形触发器","",.5,[50]]],[1002,["圆形触发器","",.5,[50]]],[1003,["圆形触发器","",.5,[50]]],[1004,["圆形触发器","",.5,[50]]],[1005,["圆形触发器","",.5,[50]]],[1006,["圆形触发器","",.5,[50]]],[1007,["圆形触发器","",.5,[50]]],[1008,["圆形触发器","",.5,[50]]]])),f=n("SummonEffectConfigHeaders",["Name","Description","radius","effects"]);n("SummonEffectConfigField",function(n){return n[n.Name=0]="Name",n[n.Description=1]="Description",n[n.radius=2]="radius",n[n.effects=3]="effects",n}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/TableComplete.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,i,r,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){i=e.ResultType},function(e){r=e.MemoryDefine},function(e){u=e.TreeNodeRegister}],execute:function(){var s;n._RF.push({},"d77407jvvJNvIO/ON1NciPO","TableComplete",void 0);e("TableComplete",u("TableComplete")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){this.owner.Memory.get(r.targetTable);return i.ok},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/TearDownAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TreeNodeRegister.ts","./Action.ts","./ResultType.ts"],(function(e){var t,n,o,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.TreeNodeRegister},function(e){i=e.Action},function(e){r=e.ResultType}],execute:function(){var c;n._RF.push({},"2f90dB8FwVFf4iGlIlXjc9q","TearDownAction",void 0);e("TearDownAction",o("TearDownAction")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.scene,n=this.owner.position;if(!t.GetItem(n.x,n.y))return r.fail;t.RemoveItemByPos(n.x,n.y)},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TearDownPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VillageScene.ts","./ItemOrderType.ts"],(function(e){var t,n,o,i,r,a,l,s,c,u,p,h,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,s=e.Vec2,c=e.Vec3,u=e.Button,p=e.UITransform,h=e.Component},function(e){f=e.VillageScene},function(e){y=e.ItemOrderType}],execute:function(){var d,T,m,b,v,P,g,w,D;r._RF.push({},"89782P0+h1DpLGmMC7u+LyX","TearDownPanel",void 0);var I=a.ccclass,E=a.property;e("TearDownPanel",(d=I("TearDownPanel"),T=E(l),m=E(l),b=E(l),d((g=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"loc",g,i(t)),o(t,"btn1",w,i(t)),o(t,"btn2",D,i(t)),t.mousePos=new s,t.localPoint=new c,t.targetItem=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this.btn1.on(u.EventType.CLICK,(function(){e.node.destroy()})),this.btn2.on(u.EventType.CLICK,(function(){e.loc.active&&(e.targetItem.orderType=y.TearDown,e.targetItem.reLocation=new c(e.loc.position.x,e.loc.position.y,0),e.node.destroy())}))},r.onEnable=function(){f.instance.isPaused=!0,this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this)},r.onDisable=function(){f.instance.isPaused=!1,this.node.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},r.onTouchEnd=function(e){this.mousePos=e.getUILocation();var t=new c(this.mousePos.x,this.mousePos.y,0);this.localPoint=this.node.getComponent(p).convertToNodeSpaceAR(t);var n=100*Math.floor(this.localPoint.x/100)+50,o=100*Math.floor(this.localPoint.y/100)+50,i=f.instance.GetItem(n,o);i&&(this.targetItem=i,this.loc.active=!0,this.loc.position=new c(n,o,0))},t}(h)).prototype,"loc",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"btn1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"btn2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/TemplateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,n,r,o,i,p,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,i=t._decorator,p=t.Node,l=t.instantiate,s=t.Component}],execute:function(){var c,u,h,m,f,M;o._RF.push({},"41a3fKZrF9DMLOm/+/ommSa","TemplateManager",void 0);var g=i.ccclass,v=i.property;t("TemplateManager",(c=g("TemplateManager"),u=v(p),c(((M=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).poolMap=new Map,n(e,"templateRoot",f,r(e)),e.tempMap=new Map,e}a(e,t);var o=e.prototype;return o.onLoad=function(){e.Instance=this;for(var t=0;t<this.templateRoot.children.length;t++){var a=this.templateRoot.children[t];this.tempMap.set(a.name,a)}},o.start=function(){},o.Spawn=function(t){var e=this.poolMap.get(t);if(e&&e.length>0)return e.pop();if(this.tempMap.has(t)){var a=this.tempMap.get(t);return l(a)}},o.Recycle=function(t){var e=t.name;t.setParent(this.templateRoot);var a=this.poolMap.get(e);a?a.push(t):this.poolMap.set(e,[t])},e}(s)).Instance=void 0,f=e((m=M).prototype,"templateRoot",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/TestView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,o,i,s,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.tween,s=e.Vec3,r=e.Component}],execute:function(){var a;t._RF.push({},"a4ef6vmVQFBOYCrj+TXx1VD","TestView",void 0);var c=o.ccclass;o.property,e("TestView",c("TestView")(a=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).animTween=null,n}n(t,e);var o=t.prototype;return o.onEnable=function(){this.animTween=i(this.node).repeatForever(i(this.node).to(.2,{scale:new s(.8,1.5),position:new s(0,50,0)}).delay(.1).to(.1,{scale:new s(1,1),position:new s(0,0,0)}).to(.2,{scale:new s(1.2,.9),position:new s(0,0,0)}).to(.2,{scale:new s(1,1),position:new s(0,0,0)}).delay(.2)).start()},o.onDisable=function(){this.animTween&&(this.animTween.stop(),this.animTween=null)},t}(r))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/ThreatEventsManager.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"0af76aFW+ZBp7if7fNQLxMw","ThreatEventsManager",void 0);var n=[],t=0,a=e("ThreatEventsManager",function(){function e(){}return e.SetCall=function(i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.SpawnCall=i,e.RemoveCall=n},e.Init=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0);for(var a=0;a<30;a++){var l={sid:++t,time:0,id:0,visible:!1};if((e+=Math.random()+1)>30)break;l.time=e+i,n.push(l)}},e.Update=function(i){e.Tick(i++),n.length<10&&e.Init(0)},e.Tick=function(i){for(var t=n.length-1;t>=0;t--){var a=n[t];a&&(a.time+7<i?(e.RemoveCall&&e.RemoveCall(a.sid),n[t]=n[n.length-1],n.pop()):a.time>i+7?a.visible=!1:(a.visible=!0,e.SpawnCall&&e.SpawnCall(a.sid,a.time,i)))}},e}());a.SpawnCall=void 0,a.RemoveCall=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConstDefine.ts","./TileNeighborUtils.ts","./RockRule.ts"],(function(t){var e,i,r,a,s,n,o,h,l,u,p,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,a=t._decorator,s=t.resources,n=t.SpriteFrame,o=t.instantiate,h=t.Sprite,l=t.Component},function(t){u=t.default},function(t){p=t.TileNeighbors},function(t){d=t.RockRule}],execute:function(){var g,f;r._RF.push({},"0cf48/gom5Ap4LgUUtKRn6l","TileMapManager",void 0);var c=a.ccclass;a.property,t("TileMapManager",c("TileMapManager")(((f=function(t){function r(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).groundData=[],e.groundTile=[],e.tileView=[],e.spriteRes=new Map,e.width=10,e.height=5,e}e(r,t);var a=r.prototype;return a.start=function(){var t=this;r.instance=this,this.initGroundTile(),s.loadDir("floorTiles",n,(function(e,r){for(var a,s=i(r);!(a=s()).done;){var n=a.value;t.spriteRes.set(n.name,n)}t.initTileView()}));for(var e=this.node.getChildByName("Tile"),a=0;a<59;a++){o(e).setParent(this.node)}},a.initTileView=function(){for(var t=0,e=0;e<this.height;e++){this.tileView[e]=[];for(var i=0;i<this.width;i++)this.tileView[e][i]=this.node.children[t++].getComponent(h),this.tileView[e][i].spriteFrame=this.spriteRes.get("wall14")}},a.initGroundTile=function(){for(var t=0;t<this.height;t++){this.groundTile[t]=[],this.groundData[t]=[];for(var e=0;e<this.width;e++)this.groundData[t][e]=1,this.groundTile[t][e]=new d}for(var i=0;i<this.height;i++)for(var r=0;r<this.width;r++)this.groundTile[i][r].ReSetNeighborsStatus(1)},a.SetTile=function(t,e,r){if(this.groundData[e][t]!=r){if(0==r){this.tileView[e][t].spriteFrame=null;for(var a,s=i(p(t,e,this.groundTile));!(a=s()).done;){var n=a.value,o=n.data;o.SetNeighborsStatus(n.op,0);var h=o.GetSprite();this.tileView[e][t].spriteFrame=this.spriteRes[h]}}else if(0==this.groundData[e][t]){this.tileView[e][t].spriteFrame=this.spriteRes[this.groundTile[e][t].GetSprite()];for(var l,u=i(p(t,e,this.groundTile));!(l=u()).done;){var d=l.value,g=d.data;g.SetNeighborsStatus(d.op,1);var f=g.GetSprite();this.tileView[e][t].spriteFrame=this.spriteRes[f]}}else this.tileView[e][t].spriteFrame=null;this.groundData[e][t]=r}},a.ReadMapBytes=function(t){for(var e=0,i=0;i<u.mapHeight;i++)for(var r=0;r<u.mapWidth;r++)this.groundData[i][r]=t[e],e++},a.GenerateMap=function(){for(var t=0;t<u.mapHeight;t++){this.groundData[t]=[];for(var e=0;e<u.mapWidth;e++)this.groundData[t][e]=1}},r}(l)).instance=void 0,g=f))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/TileNeighborUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t;return{setters:[function(e){r=e.regeneratorRuntime},function(e){t=e.cclegacy}],execute:function(){e("TileNeighbors",a);var n=r().mark(a);function a(e,t,a){var i,o;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!=(i=a.length)){r.next=3;break}throw new Error("Neighbors: arr.length must > 0");case 3:if(o=0,!(i>0)){r.next=8;break}if(0!=(o=a[0].length)){r.next=8;break}throw new Error("Neighbors: arr[0].length must > 0");case 8:if(!(e<0||t<0)){r.next=10;break}throw new Error("Neighbors: x,y must > 0");case 10:if(!(e>=o||t>=i)){r.next=12;break}throw new Error("Neighbors: x must < arr[0].length , y must < arr.length");case 12:if(!(t>=1&&e>=1)){r.next=15;break}return r.next=15,{data:a[t-1][e-1],op:8};case 15:if(!(t>=1)){r.next=18;break}return r.next=18,{data:a[t-1][e],op:7};case 18:if(!(t>=1&&e+1<o)){r.next=21;break}return r.next=21,{data:a[t-1][e+1],op:6};case 21:if(!(e>=1)){r.next=24;break}return r.next=24,{data:a[t][e-1],op:5};case 24:if(!(e+1<o)){r.next=27;break}return r.next=27,{data:a[t][e+1],op:3};case 27:if(!(e>=1&&t+1<i)){r.next=30;break}return r.next=30,{data:a[t+1][e-1],op:2};case 30:if(!(t+1<i)){r.next=33;break}return r.next=33,{data:a[t+1][e],op:1};case 33:if(!(e+1<o&&t+1<i)){r.next=36;break}return r.next=36,{data:a[t+1][e+1],op:0};case 36:case"end":return r.stop()}}),n)}t._RF.push({},"8fb49ahDBVOQ7k1lrO102g5","TileNeighborUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/TimerBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts"],(function(t){var e,r,i,n;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){n=t.Buff}],execute:function(){i._RF.push({},"0bbb4+l0a5DkKdhA/7rxwhk","TimerBuff",void 0);t("TimerBuff",function(t){function i(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).interval=.5,e.t=0,e}e(i,t);var n=i.prototype;return n.attach=function(e){t.prototype.attach.call(this,e),this.t=0},n.update=function(t,e){var i;if(null==(i=this.effects)||!i.length)return-1;if(this.t+=e,this.t<this.interval)return 0;if(this.t-=this.interval,!this.evaluate(t))return 0;for(var n,u=r(this.effectList);!(n=u()).done;){n.value.apply(t,this.context,this.layer)}return 0},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/TimerBuffConfig.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){e({TimerBuffConfigGet:function(e,i){var r=n.get(e);return null==r?void 0:r[i]},TimerBuffConfigSetup:function(e,i){var f=n.get(e);if(!f)throw new Error("id:"+e+" is null");i.ID=e;for(var t=0;t<r.length;t++){var o=r[t];i[o]=Array.isArray(f[t])?[].concat(f[t]):f[t]}"function"==typeof i.onLoad&&i.onLoad()}}),i._RF.push({},"a284731K8hJk5k1g/2eXJi7","TimerBuffConfig",void 0);var n=e("TimerBuffConfigData",new Map([[7001,["圆形触发器","",3,[1001]]],[7002,["圆形触发器","",3,[1001]]],[7003,["圆形触发器","",3,[1001]]],[7004,["圆形触发器","",3,[1001]]],[7005,["圆形触发器","",3,[1001]]],[7006,["圆形触发器","",3,[1001]]],[7007,["圆形触发器","",3,[1001]]],[7008,["圆形触发器","",3,[1001]]]])),r=e("TimerBuffConfigHeaders",["Name","Description","duration","effects"]);e("TimerBuffConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.duration=2]="duration",e[e.effects=3]="effects",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/TimerTask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"b4403gBY0pJIoX6QVA7ZJg2","TimerTask",void 0),i("TimerTask",function(){function i(){this.timer=[],this.item=[],this.action=[],this.waitingBinder=[],this.waitingQueue=[]}var e=i.prototype;return e.Update=function(i){for(var t=this.timer.length-1;t>=0;t--)if(this.timer[t]-=i,this.timer[t]<=0){this.action[t].call(this.item[t]);var e=this.timer.length-1;this.timer[t]=this.timer[e],this.item[t]=this.item[e],this.action[t]=this.action[e],this.timer.pop(),this.item.pop(),this.action.pop()}for(var n=this.waitingQueue.length-1;n>=0;n--){var s=this.waitingBinder[n];if(this.waitingQueue[n].call(s)){var h=this.waitingQueue.length-1,a=[this.waitingQueue[h],this.waitingQueue[n]];this.waitingQueue[n]=a[0],this.waitingQueue[h]=a[1];var r=[this.waitingBinder[h],this.waitingBinder[n]];this.waitingBinder[n]=r[0],this.waitingBinder[h]=r[1],this.waitingQueue.pop(),this.waitingBinder.pop()}}},e.wait=function(i,t){this.waitingBinder.push(i),this.waitingQueue.push(t)},e.Add=function(i,t,e){this.timer.push(i),this.item.push(t),this.action.push(e)},e.Clear=function(){this.timer=[],this.item=[],this.action=[]},t(i,null,[{key:"instance",get:function(){return this._instance||(this._instance=new i),this._instance}}]),i}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/TipConfig.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){n({TipConfigGet:function(n,o){var e=t.get(n);return null==e?void 0:e[o]},TipConfigSetup:function(n,o){var i=t.get(n);if(!i)throw new Error("id:"+n+" is null");o.ID=n;for(var r=0;r<e.length;r++){var a=e[r];o[a]=Array.isArray(i[r])?[].concat(i[r]):i[r]}"function"==typeof o.onLoad&&o.onLoad()}}),o._RF.push({},"08025MgQ+ZOLJu9nKlCmiPa","TipConfig",void 0);var t=n("TipConfigData",new Map([[141,["留言：","一位成员离开了这个地方"]],[301,["生存下去","想要在这个地方立足，首先得想想怎么才能赚够钱养活整个队伍，\n周围贫瘠得什么都没有，\n试试<color=green>【基础卡包】</color>，\n看看能不能突破当前的窘境\n"]],[302,["",""]],[303,["",""]],[304,["",""]],[305,["",""]],[306,["",""]],[307,["",""]],[308,["",""]],[309,["",""]],[310,["",""]],[311,["",""]],[312,["",""]],[313,["",""]],[314,["",""]],[315,["",""]],[316,["",""]],[317,["",""]],[318,["",""]],[319,["",""]],[320,["",""]]])),e=n("TipConfigHeaders",["Name","Content"]);n("TipConfigField",function(n){return n[n.Name=0]="Name",n[n.Content=1]="Content",n}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneItem.ts","./ItemSchema.ts","./ChatManager.ts"],(function(e){var t,n,o,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.SceneItem},function(e){c=e.ItemRegister},function(e){i=e.ChatManager}],execute:function(){var r;n._RF.push({},"2f348+0/ohEaZo30jqO26Cm","ToggleItem",void 0);e("ToggleItem",c("ToggleItem")(r=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.OnContextShow=function(){var e=i.instance.node;e.active=!e.active},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/TopUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts"],(function(t){var n,e,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Component},function(t){r=t.UIManager}],execute:function(){var c;e._RF.push({},"143c2XLq+NMT5DpV7/h6YDW","TopUi",void 0);var u=o.ccclass;o.property,t("TopUi",u("TopUi")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.Quit=function(){r.instance.SetActive("SettingUi",!0)},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TrackBulletCaster.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8a014DqtfNL9579kBgkotrf","TrackBulletCaster",void 0);t("TrackBulletCaster",function(){function t(){this.action=null}var n=t.prototype;return n.onLoad=function(){},n.OnAction=function(t){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TrackBulletConfig.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e({TrackBulletConfigGet:function(e,r){var t=n.get(e);return null==t?void 0:t[r]},TrackBulletConfigSetup:function(e,r){var a=n.get(e);if(!a)throw new Error("id:"+e+" is null");r.ID=e;for(var i=0;i<t.length;i++){var u=t[i];r[u]=Array.isArray(a[i])?[].concat(a[i]):a[i]}"function"==typeof r.onLoad&&r.onLoad()}}),r._RF.push({},"7e27a6G3A9CcJgp4X1ZsNjH","TrackBulletConfig",void 0);var n=e("TrackBulletConfigData",new Map([[3001,["圆形触发器","",.5,[1001]]],[3002,["圆形触发器","",.5,[1001]]],[3003,["圆形触发器","",.5,[1001]]],[3004,["圆形触发器","",.5,[1001]]],[3005,["圆形触发器","",.5,[1001]]],[3006,["圆形触发器","",.5,[1001]]],[3007,["圆形触发器","",.5,[1001]]],[3008,["圆形触发器","",.5,[1001]]]])),t=e("TrackBulletConfigHeaders",["Name","Description","radius","values"]);e("TrackBulletConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.radius=2]="radius",e[e.values=3]="values",e}({}));r._RF.pop()}}}));

System.register("chunks:///_virtual/TreeNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"21e13xdVuZJF7+CwhNUm0bT","TreeNode",void 0);e("treeNodeMap",new Map),e("TreeNode",function(){function e(){this.mgr=void 0,this.nodeType=void 0,this.enable=!0,this._sid=0,this._x=0,this._y=0,this._nodeState=0}var n=e.prototype;return n.onInit=function(e){this.mgr=e},n.GetPriority=function(){return 0},t(e,[{key:"owner",get:function(){return this.mgr.owner}},{key:"sid",get:function(){return this._sid}},{key:"nodeState",get:function(){return this._nodeState},set:function(e){this._nodeState=e}},{key:"Enable",get:function(){return this.enable}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TreeNodeRegister.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({GetSchema:function(){var e=[];for(var t in r)e.push(new r[t]);return JSON.stringify({type:"SchemaRequest",data:e})},TreeNodeFactory:function(e){return new r[e]},TreeNodeRegister:function(e){return function(t){r[e]=t}}}),t._RF.push({},"39d548hG8xHLLDNiJfxzvSE","TreeNodeRegister",void 0);var r={};t._RF.pop()}}}));

System.register("chunks:///_virtual/TriggerBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buff.ts"],(function(t){var e,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy},function(t){i=t.Buff}],execute:function(){r._RF.push({},"b7615e+9HRCD6P3r6u/Vxk7","TriggerBuff",void 0);t("TriggerBuff",function(t){function r(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).isTrigger=!1,e.eventType=void 0,e.selfActor=null,e}e(r,t);var i=r.prototype;return i.attach=function(e){this.selfActor=e,e.addEvent(this.eventType,this,this.onTrigger),t.prototype.attach.call(this,e)},i.detach=function(e){e.removeEvent(this.eventType,this,this.onTrigger),this.selfActor=null,t.prototype.detach.call(this,e)},i.onTrigger=function(t){this.execute(this.selfActor)},r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/TriggerBuffConfig.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){r({TriggerBuffConfigGet:function(r,e){var n=i.get(r);return null==n?void 0:n[e]},TriggerBuffConfigSetup:function(r,e){var f=i.get(r);if(!f)throw new Error("id:"+r+" is null");e.ID=r;for(var t=0;t<n.length;t++){var o=n[t];e[o]=Array.isArray(f[t])?[].concat(f[t]):f[t]}"function"==typeof e.onLoad&&e.onLoad()}}),e._RF.push({},"b02635YDGxEJryOLJgZrZP8","TriggerBuffConfig",void 0);var i=r("TriggerBuffConfigData",new Map([[6001,["圆形触发器","",1,[1001]]],[6002,["圆形触发器","",1,[1001]]],[6003,["圆形触发器","",1,[1001]]],[6004,["圆形触发器","",1,[1001]]],[6005,["圆形触发器","",1,[1001]]],[6006,["圆形触发器","",1,[1001]]],[6007,["圆形触发器","",1,[1001]]],[6008,["圆形触发器","",1,[1001]]]])),n=r("TriggerBuffConfigHeaders",["Name","Description","duration","effects"]);r("TriggerBuffConfigField",function(r){return r[r.Name=0]="Name",r[r.Description=1]="Description",r[r.duration=2]="duration",r[r.effects=3]="effects",r}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/TurretItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./ActorManager.ts"],(function(t){var e,n,r,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.ItemRegister},function(t){o=t.SceneItem},function(t){i=t.ActorManager}],execute:function(){var c;n._RF.push({},"1b16d+N4l5NzLRltifOcVk7","TurretItem",void 0);t("TurretItem",r("TurretItem")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e);var n=i.instance.CreateActor(1011);n.position=this.position.clone(),e.turretJoin(n)},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TurretView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RootManager.ts","./BundleResManager.ts","./ActorView.ts"],(function(t){var o,n,e,r,i,a,u,c,d,l,s,p,h,f;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.Vec3,i=t.Node,a=t.AudioSource,u=t.UITransform,c=t.Vec2,d=t.instantiate,l=t.Animation},function(t){s=t.RootManager},function(t){p=t.LoadAudio,h=t.LoadPrefab},function(t){f=t.ActorView}],execute:function(){var m;n._RF.push({},"b6dc8zV6xFADq+cbTiR++9k","TurretView",void 0);var v=e.ccclass;e.property,t("TurretView",v("TurretView")(m=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this).anim=void 0,o.audio=null,o.actor=void 0,o.turretRoot=void 0,o}o(n,t);var e=n.prototype;return e.changeHat=function(t){throw new Error("Method not implemented.")},e.start=function(){},e.update=function(t){if(this.model&&this.turretRoot.up!=this.actor.forward){var o=this.actor.forward,n=180*Math.atan2(o.y,o.x)/Math.PI;this.turretRoot.eulerAngles=new r(0,0,n-90)}},e.playAnimation=function(t){var o;null==(o=this.anim)||o.play(t)},e.playAudio=function(t,o){var n=this;void 0===o&&(o=1),this.audio.volume=o,p(t).then((function(t){n.audio.clip=t,n.audio.play()}))},e.onColorChange=function(t,o){},n.Create=function(t){var o=new i("TurretView");o.setParent(s.instance.SceneLayer);var e=o.addComponent(n);o.position=t.position,e.audio=o.addComponent(a),o.addComponent(u).anchorPoint=new c(.5,.1),e.actor=t;new i("Label").addComponent(u);return t.Model&&h(t.Model).then((function(t){e.model=d(t),e.model.setParent(o),e.turretRoot=e.model.children[0],e.anim=e.getComponentInChildren(l)})),e},n}(f))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/TweenColor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,i,n,l,a,c,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Sprite,c=e.Color,u=e.tween,p=e.Component}],execute:function(){var s,y,f,d,b,h,w,g,v;n._RF.push({},"dd8366ZL39OIL+ekEFXaa/3","TweenColor",void 0);var m=l.ccclass,C=l.property;e("TweenColor",(s=m("TweenColor"),y=C({type:a}),f=C({type:c}),d=C({type:Number}),s((w=r((h=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,o(r,"sprite",w,i(r)),o(r,"color",g,i(r)),o(r,"delay",v,i(r)),r}return t(r,e),r.prototype.start=function(){var e=this;u(this.sprite).to(this.delay,{color:this.color}).call((function(){e.node.destroy()})).start()},r}(p)).prototype,"sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(h.prototype,"color",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"delay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=h))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/TweenScale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vector2Utils.ts","./RandomUtils.ts"],(function(t){var s,i,e,n,a,h,o;return{setters:[function(t){s=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,n=t.Vec3,a=t.Component},function(t){h=t.Vector3Lerp},function(t){o=t.Random}],execute:function(){var l;i._RF.push({},"76025PaoxpL9rRjgBX4hbhz","TweenScale",void 0);var r=e.ccclass;e.property,t("TweenScale",r("TweenScale")(l=function(t){function i(){for(var s,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(s=t.call.apply(t,[this].concat(e))||this).scales=[],s.durations=[],s.time=0,s.useDelay=!0,s.delay=0,s.last=0,s}s(i,t);var e=i.prototype;return e.onEnable=function(){this.time=0,this.last=1,this.scales.push(new n(0,0,1)),this.scales.push(new n(1.5,1.5,1)),this.scales.push(new n(1,1,1)),this.durations.push(0),this.durations.push(.15),this.durations.push(.3),this.delay=o(0,.25),this.node.scale=new n(0,0,1)},e.update=function(t){if(this.useDelay)return this.time<this.delay?void(this.time+=t):(this.time=0,void(this.useDelay=!1));if(this.last>=this.durations.length)return this.node.scale=new n(1,1,1),void this.destroy();if(this.time+=t,this.time<this.durations[this.last]){var s=(this.time-this.durations[this.last-1])/(this.durations[this.last]-this.durations[this.last-1]);this.node.scale=h(this.scales[this.last-1],this.scales[this.last],s)}else this.last<this.durations.length&&this.last++},i}(a))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/UDictionary.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,s;return{setters:[function(t){i=t.createClass},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"f56360Rq2hDCqdyRYL86zT5","UDictionary",void 0);t("UDictionary",function(){function t(){this.dic=new Map,this.keys=[],this.values=[]}var s=t.prototype;return s.Set=function(t,i){if(this.dic.has(t)){var s=this.dic.get(t);this.values[s]=i}else this.dic.set(t,this.Count),this.keys.push(t),this.values.push(i)},s.Get=function(t){if(this.dic.has(t)){var i=this.dic.get(t);return this.values[i]}return null},s.GetAt=function(t){return this.values[t]},s.SetAt=function(t,i){this.values[t]=i},s.Remove=function(t){if(this.values.length>0&&this.dic.has(t)){var i=this.dic.get(t);this.RemoveAt(i)}},s.RemoveAt=function(t){var i=this.values.length;if(0!=i){var s=i-1,e=this.keys[t],n=this.keys[s];this.dic.set(n,t),this.dic.delete(e),this.keys[t]=n,this.values[t]=this.values[s],this.values.pop(),this.keys.pop()}},s.Clear=function(){this.dic.clear(),this.keys=[],this.values=[]},i(t,[{key:"Count",get:function(){return this.values.length}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EquipTip.ts","./BagTip.ts","./BundleResManager.ts"],(function(e){var t,i,o,n,r,a,l,p,c,s,u,h,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.ProgressBar,p=e.RichText,c=e.Label,s=e.instantiate,u=e.Component},function(e){h=e.EquipTip},function(e){f=e.BagTip},function(e){g=e.LoadPrefab}],execute:function(){var m,d,y,b,v,R,T,B,C,w,M,z;r._RF.push({},"c4f3c9+0ZBHYayMIchOHfFo","UIManager",void 0);var I=a.ccclass,P=a.property;e("UIManager",(m=I("UIManager"),d=P(l),y=P(p),b=P(f),v=P(c),m(((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).commonRoot=void 0,t.panelRoot=void 0,t.equipTip=void 0,o(t,"progressBar",B,n(t)),o(t,"progressTip",C,n(t)),o(t,"bagTip",w,n(t)),o(t,"pop",M,n(t)),t}i(t,e);var r=t.prototype;return r.init=function(){},r.onLoad=function(){t.instance=this,this.commonRoot=this.node.getChildByName("CommonRoot"),this.panelRoot=this.node.getChildByName("PanelRoot"),this.equipTip=this.commonRoot.getChildByName("EquipTip").getComponent(h)},r.start=function(){this.init()},r.update=function(e){},r.ShowCommonTip=function(e){var t=this.commonRoot.getChildByName(e);return t.active=!0,t},r.SetActive=function(e,t){var i=this.panelRoot.getChildByName(e);return i.active=t,i},r.ShowPanel=function(e,i){g(e).then((function(e){if(e){var o=s(e);o.parent=t.instance.panelRoot,i&&i(o)}})).catch((function(e){console.error(e)}))},r.Clear=function(){this.panelRoot.destroyAllChildren()},t}(u)).instance=void 0,B=t((T=z).prototype,"progressBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(T.prototype,"progressTip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(T.prototype,"bagTip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(T.prototype,"pop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=T))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/UnderGround.ts",["cc","./ConstDefine.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default}],execute:function(){t({GenerateMap:a,ReadMapBytes:function(t){for(var e=0,a=0;a<n.mapHeight;a++)for(var o=0;o<n.mapWidth;o++)r[a][o]=t[e],e++}}),e._RF.push({},"a55bfMkuRlKqpXI2ket27B3","UnderGround",void 0);var r=[];function a(){for(var t=0;t<n.mapHeight;t++){r[t]=[];for(var e=0;e<n.mapWidth;e++)r[t][e]=1}}a(),e._RF.pop()}}}));

System.register("chunks:///_virtual/UntilFailure.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,i,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Decorator},function(t){r=t.ResultType},function(t){o=t.TreeNodeRegister}],execute:function(){var u;n._RF.push({},"48476eSQL5Irb255S2dSOb4","UntilFailure",void 0);t("UntilFailure",o("UntilFailure")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onDecoratorUpdate=function(t){var e=this.updateChild(t);return e==r.fail?r.ok:(e==r.ok&&(this.childNode.onEnd(),this.childNode.onStart()),r.running)},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/UntilSuccess.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Decorator.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,o,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Decorator},function(t){i=t.ResultType},function(t){c=t.TreeNodeRegister}],execute:function(){var r;n._RF.push({},"7cf93JLOPtPk7WmIKNNUvZL","UntilSuccess",void 0);t("UntilSuccess",c("UntilSuccess")(r=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onDecoratorUpdate=function(t){var e=this.updateChild(t);return e==i.ok?i.ok:(e==i.fail&&(this.childNode.onEnd(),this.childNode.onStart()),i.running)},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropertyType.ts","./BundleResManager.ts","./VillageScene.ts"],(function(t){var e,n,i,r,o,a,l,c,s,g,u,p,f,h,d,v,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,c=t.Sprite,s=t.RichText,g=t.Button,u=t.Component,p=t.instantiate,f=t.Label,h=t.Toggle},function(t){d=t.ItemType},function(t){v=t.LoadSprite},function(t){m=t.VillageScene}],execute:function(){var y,b,S,C,L,T,P,R,x,I,z,w,B;o._RF.push({},"2ab50Xun5pF5ZHwiUsznYNR","UpgradePanel",void 0);var D=a.ccclass,E=a.property;t("UpgradePanel",(y=D("UpgradePanel"),b=E(l),S=E(l),C=E(c),L=E(s),T=E(s),y((x=e((R=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"contentRoot",x,r(e)),i(e,"tmp",I,r(e)),i(e,"targetIcon",z,r(e)),i(e,"targetLevel",w,r(e)),i(e,"effectString",B,r(e)),e.idx=-1,e.cur=-1,e.target=void 0,e.role=void 0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this.node.getChildByName("Close").on(g.EventType.CLICK,(function(){t.node.destroy()}))},o.onEnable=function(){var t=this;this.target=null,this.role=null;for(var e=m.instance.actors.filter((function(t){return 1==t.Camp})),n=function(){for(var n=e[i],r=function(){var e=n.itemPackage[o];if(e&&e.Type==d.equipment){var i=p(t.tmp);i.getChildByName("Label").getComponent(f).string=e.Name;var r=i.getChildByName("Sprite").getComponent(c);i.active=!0,i.setParent(t.contentRoot),v(e.Icon).then((function(t){r.spriteFrame=t})),t.target||(t.target=e,t.role=n,t.idx=0),i.on(h.EventType.TOGGLE,(function(i){i.isChecked&&(t.target=e,t.role=n,t.idx=i.target.getSiblingIndex())}),t)}},o=0;o<n.itemPackage.length;o++)r()},i=0;i<e.length;i++)n()},o.onDisable=function(){for(var t=this.contentRoot.children.length-1;t>=0;t--)this.contentRoot.children[t].destroy()},o.update=function(t){this.cur!=this.idx&&(this.cur=this.idx,console.error("error",this.idx),this.SetDetail())},o.Confirm=function(){this.target&&(this.target.ChangeLevel(1,this.role),this.targetLevel.string=this.target.levelString,this.effectString.string=this.target.ToEffectString())},o.SetDetail=function(){var t=this;this.effectString.string=this.target.ToEffectString(),this.targetLevel.string=this.target.levelString,v(this.target.Icon).then((function(e){t.targetIcon.spriteFrame=e}))},e}(u)).prototype,"contentRoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(R.prototype,"tmp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(R.prototype,"targetIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(R.prototype,"targetLevel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(R.prototype,"effectString",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=R))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/UseNextPos.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.Action},function(e){r=e.ResultType},function(e){s=e.MemoryDefine},function(e){i=e.TreeNodeRegister}],execute:function(){var c;n._RF.push({},"f23c83K53VAPq/B9KvVw+Gr","UseNextPos",void 0);e("UseNextPos",i("UseNextPos")(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).clear=!0,t}return t(n,e),n.prototype.onUpdate=function(e){this.mgr.owner.scene;var t=this.owner.Memory.get(s.nextPos);return t?(this.owner.Memory.set(s.targetPos,t),this.clear&&this.owner.Memory.set(s.nextPos,null),r.ok):r.fail},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Vector2Utils.ts",["cc"],(function(t){var r,n,e;return{setters:[function(t){r=t.cclegacy,n=t.Vec3,e=t.Color}],execute:function(){t({ColorLerp:function(t,r,n){return new e(t.r+(r.r-t.r)*n,t.g+(r.g-t.g)*n,t.b+(r.b-t.b)*n,t.a+(r.a-t.a)*n)},Vector3Add:function(t,r){return new n(t.x+r.x,t.y+r.y,t.z+r.z)},Vector3Dist2:function(t,r){return(t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)+(t.z-r.z)*(t.z-r.z)},Vector3Distance:function(t,r){return Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)+(t.z-r.z)*(t.z-r.z))},Vector3Lerp:function(t,r,e){return new n(t.x+(r.x-t.x)*e,t.y+(r.y-t.y)*e,t.z+(r.z-t.z)*e)},Vector3Mul:function(t,r){return new n(t.x*r,t.y*r,t.z*r)},Vector3Sub:function(t,r){return new n(t.x-r.x,t.y-r.y,t.z-r.z)}}),r._RF.push({},"b5a98JsRPBFwoYQq+YfBukL","Vector2Utils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/VfxActionConfig.ts",["cc"],(function(e){var f;return{setters:[function(e){f=e.cclegacy}],execute:function(){e({VfxActionConfigGet:function(e,f){var n=t.get(e);return null==n?void 0:n[f]},VfxActionConfigSetup:function(e,f){var a=t.get(e);if(!a)throw new Error("id:"+e+" is null");f.ID=e;for(var r=0;r<n.length;r++){var s=n[r];f[s]=Array.isArray(a[r])?[].concat(a[r]):a[r]}"function"==typeof f.onLoad&&f.onLoad()}}),f._RF.push({},"399f807fiVL5oRdexh92V4t","VfxActionConfig",void 0);var t=e("VfxActionConfigData",new Map([[6001,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]],[6002,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]],[6003,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]],[6004,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]],[6005,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]],[6006,["圆形触发器"," ",[0,13.5],"prefabs/effects/Splash",""]],[6007,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]],[6008,["圆形触发器","",[0,13.5],"prefabs/effects/Splash",""]]])),n=e("VfxActionConfigHeaders",["Name","Description","Offset","Path","Parent"]);e("VfxActionConfigField",function(e){return e[e.Name=0]="Name",e[e.Description=1]="Description",e[e.Offset=2]="Offset",e[e.Path=3]="Path",e[e.Parent=4]="Parent",e}({}));f._RF.pop()}}}));

System.register("chunks:///_virtual/VfxClip.ts",["cc","./ViewManager.ts","./BundleResManager.ts"],(function(t){var e,n,i,s,c;return{setters:[function(t){e=t.cclegacy,n=t.Vec3,i=t.instantiate},function(t){s=t.ViewManager},function(t){c=t.LoadPrefab}],execute:function(){e._RF.push({},"152e0PtTHZDULsZP8J1ki5x","VfxClip",void 0);t("VfxClip",function(){function t(){this.Path=void 0,this.Offset=[0,0]}return t.prototype.OnAction=function(t){var e=new n(this.Offset[0],this.Offset[1]),a=s.instance.GetActorView(t.Sid);a&&c(this.Path).then((function(t){var n=i(t);n.setParent(a.node),n.position=e,n.scale=a.getModelScale()}))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleView.ts","./BulletView.ts","./GameWorldDefine.ts","./GameEventSystem.ts","./SceneItemView.ts","./TemplateManager.ts","./RootManager.ts","./BundleResManager.ts","./TweenScale.ts","./TurretView.ts"],(function(e){var t,n,o,i,r,a,s,c,l,u,d,p,f,w,S,h,v,m,g,M;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,i=e._decorator,r=e.instantiate,a=e.Vec3,s=e.Sprite,c=e.RichText,l=e.Component},function(e){u=e.RoleView},function(e){d=e.BulletView},function(e){p=e.WorldEventDefine},function(e){f=e.AddEvent},function(e){w=e.SceneItemView},function(e){S=e.TemplateManager},function(e){h=e.RootManager},function(e){v=e.LoadPrefab,m=e.LoadSprite},function(e){g=e.TweenScale},function(e){M=e.TurretView}],execute:function(){var V,y;o._RF.push({},"a1500hf/iVMGLQzzwC7yuWE","ViewManager",void 0);var I=new Map,C=new Map,D=new Map,O=i.ccclass;i.property,e("ViewManager",O("ViewManager")(((y=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var i=o.prototype;return i.init=function(){f(p.actorSpawn,this,this.OnActorSpawn),f(p.actorDelete,this,this.OnActorDelete),f(p.turretSpawn,this,this.OnTurretSpawn),f(p.itemSpawn,this,this.OnItemSpawn),f(p.itemDelete,this,this.OnItemDelete),f(p.bulletSpawn,this,this.onBulletSpawn),f(p.bulletDelete,this,this.onBulletDelete)},i.Clear=function(){for(var e,t=n(C);!(e=t()).done;){e.value[1].node.destroy()}for(var o,i=n(I);!(o=i()).done;){o.value[1].node.destroy()}for(var r,a=n(D);!(r=a()).done;){r.value[1].destroy()}C.clear(),I.clear(),D.clear()},i.GetActorView=function(e){return C.get(e)},i.OnActorSpawn=function(e){var t=e[0],n=u.Create(t);C.set(t.Sid,n)},i.onBulletSpawn=function(e){var t=e[0];I.set(t.sid,d.Create(t))},i.OnActorDelete=function(e){var t=e[0];C.get(t).node.destroy(),C.delete(t)},i.onBulletDelete=function(e){var t=e[0].sid,n=I.get(t);n&&(n.node.destroy(),I.delete(t))},i.OnItemSpawn=function(e){var t=e[0],n=t.position.clone(),o=t.sid,i=S.Instance.Spawn("ItemModel"),l=r(i);if(t.Model)v(t.Model).then((function(e){var t=r(e);t.setParent(l),t.position=new a(0,0,0),t.setSiblingIndex(0)}));else{var u=l.getChildByName("Sprite").getComponent(s);t.Icon&&m(t.Icon).then((function(e){u.spriteFrame=e}))}l.addComponent(g);var d=l.addComponent(w);l.getComponentInChildren(c).string=t.ToString,d.item=t,l.setParent(h.instance.SceneRoot),l.setPosition(n),D.set(o,l)},i.OnItemDelete=function(e){var t=e[0];D.get(t).destroy(),D.delete(t)},i.OnTurretSpawn=function(e){var t=e[0],n=M.Create(t);C.set(t.Sid,n)},o}(l)).instance=new y,V=y))||V);o._RF.pop()}}}));

System.register("chunks:///_virtual/VillageGachaRule.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"44808IljTFPOa4jbldK4x1/","VillageGachaRule",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/VillageInBattle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./TreeNodeRegister.ts","./ResultType.ts"],(function(e){var t,n,i,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.Action},function(e){o=e.TreeNodeRegister},function(e){l=e.ResultType}],execute:function(){var r;n._RF.push({},"e6cdehvFq9MEqEoaGhqeV+D","VillageInBattle",void 0);e("VillageInBattle",o("VillageInBattle")(r=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){return this.owner.scene.enemyCount>0?l.ok:l.fail},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/VillageItemClickRule.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f4d7bY5lpRD0LranqBZ3yvZ","VillageItemClickRule",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/VillageRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRule.ts","./UIManager.ts","./GameEventSystem.ts","./GameWorldDefine.ts"],(function(n){var t,e,i,r,o,s,c,a;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n.RichText},function(n){r=n.SceneRule},function(n){o=n.UIManager},function(n){s=n.AddEvent,c=n.RemoveEvent},function(n){a=n.WorldEventDefine}],execute:function(){e._RF.push({},"96facfNrnNBcpKiVqcWij1O","VillageRule",void 0);n("VillageRule",function(n){function e(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))||this).states=new Map,t.current=void 0,t}t(e,n);var i=e.prototype;return i.onStart=function(){this.states.set(u.normal,new l),this.changeState(u.normal)},i.onEnd=function(){},i.Tick=function(n){this.current.onUpdate(this,n)},i.changeState=function(n){this.current&&this.current.onEnd(this),this.current=this.states.get(n),this.current.onStart(this)},e}(r));var u=function(n){return n[n.normal=0]="normal",n[n.settle=1]="settle",n}(u||{}),l=function(){function n(){}var t=n.prototype;return t.onStart=function(n){var t=o.instance.progressBar;t.progress=0,t.node.getComponentInChildren(i).string="(存活时间)",s(a.hourTick,this,this.OnTimeTick)},t.OnTimeTick=function(n){o.instance.progressBar.progress=n[0]/24,o.instance.progressTip.string="第 "+n[2]+" 月 "+n[1]+" 天 "+n[0]+" 时",n[0]},t.onUpdate=function(n,t){},t.onEnd=function(n){c(a.goMinute,this,this.OnTimeTick)},n}();e._RF.pop()}}}));

System.register("chunks:///_virtual/VillageScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameScene.ts","./GameWorldDefine.ts","./SceneMap.ts","./UDictionary.ts","./BehaviorTreeManager.ts","./GameEventSystem.ts","./UIManager.ts","./RandomUtils.ts","./PlayerDataManager.ts","./RootManager.ts","./RandomByWeights.ts","./DropConfig.ts","./ActorManager.ts","./SaveManager.ts","./MonsterWaveConfig.ts","./TimerTask.ts","./MonsterGroupConfig.ts","./ActorMask.ts"],(function(t){var e,n,o,i,a,r,s,c,h,u,l,f,p,d,m,g,v,y,C,S,M,A,k,D,I,T,H,P,w,G;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){i=t.cclegacy,a=t.Color,r=t.Vec3},function(t){s=t.GameScene},function(t){c=t.WorldEventDefine},function(t){h=t.SceneMap},function(t){u=t.UDictionary},function(t){l=t.BehaviorTreeManager},function(t){f=t.FireEvent,p=t.AddEvent},function(t){d=t.UIManager},function(t){m=t.RandomInt},function(t){g=t.PlayerDataManager,v=t.PlayerDataType},function(t){y=t.RootManager},function(t){C=t.RandomByWeights},function(t){S=t.DropConfigData,M=t.DropConfigGet,A=t.DropConfigField},function(t){k=t.ActorManager},function(t){D=t.CurrentSave},function(t){I=t.MonsterWaveConfigGet,T=t.MonsterWaveConfigField},function(t){H=t.TimerTask},function(t){P=t.MonsterGroupConfigGet,w=t.MonsterGroupConfigField},function(t){G=t.ActorMask}],execute:function(){var R;i._RF.push({},"a2572gjATxHGZbwZNey01zF","VillageScene",void 0);var O=t("VillageScene",function(t){function i(){var e;return(e=t.call(this)||this).map=new h,e.entity=new u,e.rules=[],e.selectedActorId=-1,e.homeHp=1e3,e.homeHpMax=1e3,e.natureItems=[],e.totalSecond=0,e.timeCounter=0,e.scala=5,e.calendar=[3,1,1,1],e.dayCount=1,e}e(i,t);var s=i.prototype;return s.ChangeHomeHp=function(t){this.homeHp+=t,this.homeHp>this.homeHpMax?this.homeHp=this.homeHpMax:this.homeHp<0&&(this.homeHp=0),f(c.castleHit,this.homeHp/this.homeHpMax)},s.onStart=function(){t.prototype.onStart.call(this),this.SpawnItem(50,750,1204);for(var e=[1,1,1,1,1,1,1,1,1,1],o=0;o<10;o++)this.SpawnItem(100*o-450,950,e[o]);this.SpawnItem(-450,-750,1045),this.SpawnItem(-450,-850,999);for(var i=[1044,1041,1048,1047,1001,1002,1004,1,1,1],a=0;a<10;a++)this.SpawnItem(100*a-450,-950,i[a]);f(c.villageStart);for(var r,s=n(this.rules);!(r=s()).done;){r.value.onStart()}p(c.actorSelected,this,this.OnActorSelected),p(c.hourTick,this,this.OnHourTick),p(c.roleDead,this,this.OnRoleDead)},s.OnHourTick=function(t){var e=this;if(0==t[0]){var o=P(t[1],w.waves);if(!o)return;for(var i=function(){var t=I(o[a],T.monster);H.instance.Add(10+3*a,e,(function(){for(var o,i=0,a=[-450,-150,150,450],s=n(t);!(o=s()).done;){var c=o.value,h=k.instance.CreateActor(c),u=m(a[i],a[i+1]);h.position=new r(u,1e3,0),e.actorJoinScene(h),i++}}))},a=0;a<o.length;a++)i();this.CheckHunger()}},s.CheckHunger=function(){var t=[];if(this.actors.forEach((function(e){1==e.Camp&&(e.checkMask(G.hunger)?t.push(e):(console.error("重置状态:"+e.Name),e.setMask(G.hunger)))})),t.length>0)for(var e,o=n(t);!(e=o()).done;){var i=e.value;console.error("饥饿角色:"+i.Name)}},s.turretJoin=function(t){t.scene=this,t.AiPath&&(l.instance.LoadWithPath(t.AiPath,t),f(c.AiOnline,t.AiPath)),this.actors.push(t),f(c.turretSpawn,t)},s.actorJoinScene=function(t){t.scene=this,t.AiPath&&(l.instance.LoadWithPath(t.AiPath,t),f(c.AiOnline,t.AiPath)),1==t.Camp&&this._villagerCount++,this.actors.push(t),f(c.actorSpawn,t),1==t.Camp&&g.ModifyPopulation(1)},s.onUpdate=function(e){t.prototype.onUpdate.call(this,e),this.onTimeTick(e);for(var o,i=n(this.rules);!(o=i()).done;){o.value.Tick(e)}return!0},s.SetScala=function(t){this.scala=t},s.onTimeTick=function(t){this.timeCounter+=t,this.totalSecond+=t,this.timeCounter>=this.scala&&(this.timeCounter-=this.scala,23==this.hour?(30==this.day?(12==this.month?(this.year++,this.month=1):this.month++,this.day=1):(this.dayCount++,this.day++),this.hour=0):this.hour++)},s.ItemDayUpdate=function(){for(var t=0;t<this.Rows;t++)for(var e=0;e<this.Columns;e++){var n=this.items[t][e];n&&n.DayCall()}},s.OnDaySummary=function(){for(var t=g.GetData(v.Population),e=g.GetData(v.PopulationMax),n=this.actors.length-1;n>=0;n--)if(1==this.actors[n].Camp&&t>e){t--;var o=this.actors[n];this.SpawnItemInNearCell(o.position.x,o.position.y,141),this.onRemoveActor(o),this.actors[n]=this.actors[this.actors.length-1],this.actors.pop()}},s.onEnd=function(){t.prototype.onEnd.call(this),y.instance.Selector.setParent(null),this.selectedActorId=-1,this.natureItems=[],this.entity.Clear()},s.OnPopulationChange=function(t){var e=t[0]>t[1];d.instance.pop.color=e?a.RED:a.WHITE,d.instance.pop.string=t[0]+" / "+t[1]},s.OnActorSelected=function(t){var e=this.selectedActor;if(t[0]){if(e){if(e==t[0])return;this.selectedActor.selected=!1}t[0].selected=!0,this.selectedActorId=t[0].Sid}else console.error("选中空角色")},s.OnRoleDead=function(t){var e=t[0];if(2==e.Camp&&S.has(e.ConfigID)){var n=M(e.ConfigID,A.Item),o=M(e.ConfigID,A.Weight),i=C(n,o),a=this.Normalize(e.position.x),r=this.Normalize(e.position.y);this.TrySpawnItemAtPos(a,r,i)}},s.Save=function(){D(this.items)},s.Normalize=function(t){return 100*Math.floor(t/100)+50},o(i,[{key:"selectedActor",get:function(){var t=k.instance.getActor(this.selectedActorId);return t||null}},{key:"randomActor",get:function(){var t=this.actors.filter((function(t){return 1==t.Camp}));return t.length>0?t[m(0,t.length)]:null}},{key:"TotalSecond",get:function(){return this.totalSecond}},{key:"hour",get:function(){return this.calendar[0]},set:function(t){this.calendar[0]=t,f.apply(void 0,[c.hourTick].concat(this.calendar))}},{key:"DayCount",get:function(){return this.dayCount}},{key:"day",get:function(){return this.calendar[1]},set:function(t){this.calendar[1]=t,this.ItemDayUpdate(),f(c.dayTick,this.calendar)}},{key:"month",get:function(){return this.calendar[2]},set:function(t){this.calendar[2]=t,f(c.monthTick,this.calendar)}},{key:"year",get:function(){return this.calendar[3]},set:function(t){this.calendar[3]=t,f(c.yearTick,this.calendar)}}]),i}(s));R=O,O.instance=new R,i._RF.pop()}}}));

System.register("chunks:///_virtual/WaitAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var n,i,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.Action},function(t){o=t.ResultType},function(t){r=t.TreeNodeRegister}],execute:function(){var c;i._RF.push({},"481c6vZ5TZJR56h5P5gB+UX","WaitAction",void 0);t("WaitAction",r("WaitAction")(c=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).duration=1,n._t=0,n}n(i,t);var e=i.prototype;return e.onStart=function(){this._t=0},e.onUpdate=function(t){return this._t+=t,this._t>=this.duration?(this._t=0,o.ok):o.running},i}(e))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Wander.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./MemoryDefine.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,r,i,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec3},function(e){r=e.Action},function(e){i=e.ResultType},function(e){s=e.MemoryDefine},function(e){u=e.TreeNodeRegister}],execute:function(){var c;n._RF.push({},"fa7a9RljqZNEL6V/2MhBBu0","Wander",void 0);e("Wander",u("Wander")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onUpdate=function(e){var t=this.owner.scene.randomPos(),n=t[0],r=t[1],u=(this.owner.position.x-n)*(this.owner.position.x-n)+(this.owner.position.y-r)*(this.owner.position.y-r),c=500;if(u>25e4){var a=Math.sqrt(u);this.owner.Memory.set(s.targetPos,new o(c*n/a,c*r/a))}else this.owner.Memory.set(s.targetPos,new o(n,r));return i.ok},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/WasteItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemSchema.ts","./SceneItem.ts","./PropertyType.ts"],(function(t){var e,n,s,r,i,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},function(t){r=t.ItemRegister},function(t){i=t.SceneItem},function(t){o=t.ItemType}],execute:function(){var a;s._RF.push({},"aae5cSm159Km5FjMxWQrOh0","WasteItem",void 0);t("WasteItem",r("WasteItem")(a=function(t){function s(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).str="",e}e(s,t);var r=s.prototype;return r.OnSpawn=function(e){t.prototype.OnSpawn.call(this,e),this.str=this.Name},r.OnDrop=function(t){t.Type==o.dirtySolid&&t.level==this.level&&(this.level++,this.isStateChange=!0,this.str=this.Name+"★".repeat(this.level))},n(s,[{key:"ToString",get:function(){return this.str}}]),s}(i))||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EquipItem.ts","./TreeNodeRegister.ts"],(function(e){var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.EquipItem},function(e){i=e.TreeNodeRegister}],execute:function(){var r;n._RF.push({},"9cf4cf13jZEjpCB5HdrotA7","WeaponItem",void 0);e("WeaponItem",i("WeaponItem")(r=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/WearEquipAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./ResultType.ts","./TreeNodeRegister.ts"],(function(t){var e,n,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Action},function(t){o=t.ResultType},function(t){r=t.TreeNodeRegister}],execute:function(){var u;n._RF.push({},"2713a0b/D5CxYfT27SZ1OSX","WearEquipAction",void 0);t("WearEquipAction",r("WearEquipAction")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onUpdate=function(t){var e=this.owner.scene,n=this.owner.position;e.GetItem(n.x,n.y);return o.ok},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldQuitState.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"2bc0bdrpMdDRr4V4nTia+LA","WorldQuitState",void 0);t("WorldQuitState",function(){function t(){}var n=t.prototype;return n.onStart=function(){throw new Error("Method not implemented.")},n.onUpdate=function(t){throw new Error("Method not implemented.")},n.onEnd=function(){throw new Error("Method not implemented.")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldState.ts",["cc","./BehaviorTreeManager.ts","./ActorManager.ts","./ViewManager.ts","./InputManager.ts","./TimerTask.ts","./ShowMessageManager.ts","./UIManager.ts","./GameEventSystem.ts","./MarketManager.ts","./DelayTaskManager.ts","./VillageScene.ts","./DungeonScene.ts"],(function(n){var e,t,a,i,c,s,r,o,u,g,l,M,f;return{setters:[function(n){e=n.cclegacy},function(n){t=n.BehaviorTreeManager},function(n){a=n.ActorManager},function(n){i=n.ViewManager},function(n){c=n.InputManager},function(n){s=n.TimerTask},function(n){r=n.ShowMessageManager},function(n){o=n.UIManager},function(n){u=n.ClearGlobalEvent},function(n){g=n.MarketManager},function(n){l=n.DelayTaskManager},function(n){M=n.VillageScene},function(n){f=n.DungeonScene}],execute:function(){e._RF.push({},"00e11wu4WBHCpMjjLK1Bace","WorldState",void 0);n("WorldState",function(){function n(){}var e=n.prototype;return e.onStart=function(){l.instance.Init(),t.instance.init(),f.instance.init(),a.instance.init(),c.instance.init(),g.Init(null,null)},e.onUpdate=function(n){M.instance.isPaused||(s.instance.Update(n),M.instance.onUpdate(n),f.instance.onUpdate(n),t.instance.Update(n),r.instance.Update(n),l.instance.Update(n))},e.onEnd=function(){u(),t.instance.Clear(),a.instance.Clear(),i.instance.Clear(),M.instance.onEnd(),f.instance.onEnd(),c.instance.Clear(),o.instance.Clear(),s.instance.Clear()},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WorldStateEnum.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f858eFPpFNK06XUX2GGDI47","WorldStateEnum",void 0);e("WorldStateEnum",function(e){return e[e.Login=0]="Login",e[e.Pause=1]="Pause",e[e.Play=2]="Play",e[e.Quit=3]="Quit",e[e.NewGame=4]="NewGame",e[e.Continue=5]="Continue",e}({}));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});